
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MIT web.lab (6.962) - Day 6: Auth.</title>
    <link rel="stylesheet" href="./assets/css/style.css"> <!-- Link to external CSS -->
    <script id="allTranscriptData" type="application/json">[{"id": "para_0", "paragraph_idx": 0, "start": 0.64, "end": 15.759999, "sentences": [{"id": "sent_0_0", "text": "Okay.", "start": 0.64, "end": 1.12}, {"id": "sent_0_1", "text": "Hi, everyone.", "start": 1.12, "end": 1.8399999}, {"id": "sent_0_2", "text": "Hope you're having a great Monday.", "start": 1.8399999, "end": 3.7599998}, {"id": "sent_0_3", "text": "So me and Sophie are going to be talking about auth today, and it's kind of a really meaty lesson and workshop.", "start": 4.16, "end": 11.759999}, {"id": "sent_0_4", "text": "So don't worry if you guys feel a little oh, can you mute my thing?", "start": 11.92, "end": 15.759999}]}, {"id": "para_1", "paragraph_idx": 1, "start": 18.725, "end": 31.89, "sentences": [{"id": "sent_1_0", "text": "Yeah.", "start": 18.725, "end": 19.045}, {"id": "sent_1_1", "text": "Don't worry if you guys feel a little confused.", "start": 19.045, "end": 21.205}, {"id": "sent_1_2", "text": "But yeah.", "start": 23.365, "end": 24.085}, {"id": "sent_1_3", "text": "So I'm gonna talk about some intro first before we actually get into the workshop.", "start": 24.085, "end": 28.404999}, {"id": "sent_1_4", "text": "So hopefully you guys can understand things conceptually a little better.", "start": 28.404999, "end": 31.89}]}, {"id": "para_2", "paragraph_idx": 2, "start": 32.45, "end": 72.045, "sentences": [{"id": "sent_2_0", "text": "When we refer to auth, we are gonna be talking about both authorization and authentication.", "start": 32.45, "end": 37.97}, {"id": "sent_2_1", "text": "And we're gonna talk about like what the differences between those are as well in the introduction.", "start": 38.05, "end": 43.285}, {"id": "sent_2_2", "text": "So you can see here on Abby's Facebook, right, if we're having like like our cat book for example, we want users to be able to know who they are when they're logged in and also like what stories and comments correspond to their profile specifically.", "start": 44.085, "end": 57.525}, {"id": "sent_2_3", "text": "So with Facebook, how do we know that, like, Kaylee Mary posted this meme, for example, and, like, Abby it's on Abby's profile, and she's the one currently logged in.", "start": 57.95, "end": 67.15}, {"id": "sent_2_4", "text": "So authentication deals with how we are proving our identity to a website.", "start": 67.55, "end": 72.045}]}, {"id": "para_3", "paragraph_idx": 3, "start": 72.125, "end": 122.26, "sentences": [{"id": "sent_3_0", "text": "It's basically the website saying like, hey, this user is who they claim to be and like this is all the information that falls under that user's login stuff.", "start": 72.125, "end": 81.16499}, {"id": "sent_3_1", "text": "So when the client is sending a post request and pinging the login API endpoint, our server needs to be able to find the user's information within MongoDB in a stored database of users by checking if it has the credentials that the user is claiming to have.", "start": 81.884995, "end": 98.01}, {"id": "sent_3_2", "text": "So one way that we can store username and password information is by just creating a user schema in our database.", "start": 98.965, "end": 105.204994}, {"id": "sent_3_3", "text": "So if you guys remember from the database lecture that Sophie and I gave, we talked about how schemas are ways that we can enforce structures onto documents.", "start": 105.284996, "end": 112.725}, {"id": "sent_3_4", "text": "So do you think that it's feasible for us to just create a user schema like this with fields like name, email, password, and store them as strings within our database?", "start": 113.14001, "end": 122.26}]}, {"id": "para_4", "paragraph_idx": 4, "start": 122.58, "end": 151.47, "sentences": [{"id": "sent_4_0", "text": "Give me a thumbs up if you think this is a good proposal and thumbs down if you think no.", "start": 122.58, "end": 127.3}, {"id": "sent_4_1", "text": "Okay.", "start": 130.685, "end": 131.24501}, {"id": "sent_4_2", "text": "I'm seeing some mixed, but yeah, the majority is thumbs down and they'd be you'd be exactly correct because the password is not encrypted at all.", "start": 131.24501, "end": 139.325}, {"id": "sent_4_3", "text": "Right?", "start": 139.325, "end": 139.645}, {"id": "sent_4_4", "text": "So having developer access to all of the passwords of users platform like this is extremely bad because it can very easily get leaked and then hackers can very easily access it.", "start": 139.645, "end": 151.47}]}, {"id": "para_5", "paragraph_idx": 5, "start": 151.47, "end": 168.16501, "sentences": [{"id": "sent_5_0", "text": "And most of the time, you guys probably use like the same password across multiple different applications.", "start": 151.47, "end": 156.27}, {"id": "sent_5_1", "text": "So you're not just like leaking the password for this one application, you're leaking the password for like probably like, I don't know, your entire what's the word I'm looking for?", "start": 156.27, "end": 164.725}, {"id": "sent_5_2", "text": "Net worth.", "start": 164.96501, "end": 165.92502}, {"id": "sent_5_3", "text": "Yeah.", "start": 167.125, "end": 167.68501}, {"id": "sent_5_4", "text": "Okay.", "start": 167.765, "end": 168.16501}]}, {"id": "para_6", "paragraph_idx": 6, "start": 168.16501, "end": 194.845, "sentences": [{"id": "sent_6_0", "text": "So we have one potential solution which is using hash functions.", "start": 168.16501, "end": 172.16501}, {"id": "sent_6_1", "text": "Hash functions basically just take in a string like this, and they'll use a mathematical function to generate, like, a crypt encrypted string as an output.", "start": 172.24501, "end": 182.51}, {"id": "sent_6_2", "text": "Hash functions are one way, so our output hash doesn't tell us anything about what we actually inputted to the function.", "start": 183.15, "end": 188.67}, {"id": "sent_6_3", "text": "And they're also deterministic, which means the same input gives you the same output hash values, which is nice.", "start": 188.925, "end": 194.605}, {"id": "sent_6_4", "text": "Right?", "start": 194.605, "end": 194.845}]}, {"id": "para_7", "paragraph_idx": 7, "start": 194.845, "end": 207.62, "sentences": [{"id": "sent_7_0", "text": "You might think like, wow, now we can just store our passwords after running them through this hash function because now they're like these encrypted strings.", "start": 194.845, "end": 201.96501}, {"id": "sent_7_1", "text": "So this might be better.", "start": 202.045, "end": 203.405}, {"id": "sent_7_2", "text": "Right?", "start": 203.405, "end": 203.565}, {"id": "sent_7_3", "text": "What do you guys think?", "start": 203.565, "end": 204.285}, {"id": "sent_7_4", "text": "Like, thumbs up for better solution or thumbs down for no?", "start": 204.285, "end": 207.62}]}, {"id": "para_8", "paragraph_idx": 8, "start": 210.34, "end": 237.56999, "sentences": [{"id": "sent_8_0", "text": "Okay.", "start": 210.34, "end": 210.81999}, {"id": "sent_8_1", "text": "I'm still seeing some thumbs down and you would be correct again.", "start": 210.81999, "end": 214.1}, {"id": "sent_8_2", "text": "Because one of the things we actually have is like online, you can just look up the hashes that correspond to some of the really common passwords that people use.", "start": 214.26, "end": 223.445}, {"id": "sent_8_3", "text": "So you can, like, very easily kind of, like, guess a lot of different passwords and see the corresponding hash functions that already exist.", "start": 223.685, "end": 232.37}, {"id": "sent_8_4", "text": "And like, if someone's testing like a million passwords a minute, they can like probably get it within like a few hours.", "start": 232.37, "end": 237.56999}]}, {"id": "para_9", "paragraph_idx": 9, "start": 237.56999, "end": 263.80002, "sentences": [{"id": "sent_9_0", "text": "Right?", "start": 237.56999, "end": 238.05}, {"id": "sent_9_1", "text": "So it's still not that secure.", "start": 239.73, "end": 241.25}, {"id": "sent_9_2", "text": "Okay.", "start": 241.25, "end": 241.56999}, {"id": "sent_9_3", "text": "So we have like another option, is we can do something called password hash salting, where we add a salt to our hash function, which is just like another kind of like ran it's just like more data that we're adding to our initial input to the hash function.", "start": 241.56999, "end": 254.69499}, {"id": "sent_9_4", "text": "So it makes it like a little more secure because these salts are pretty hard to decrypt and like, it makes it diff more difficult for hackers to decrypt it.", "start": 254.69499, "end": 263.80002}]}, {"id": "para_10", "paragraph_idx": 10, "start": 264.04, "end": 292.77, "sentences": [{"id": "sent_10_0", "text": "But I'm not gonna go into the details of what, like, salting actually looks like, but it's basically just adding a lot of, like, random data to our string to begin with, so it becomes a little more secure.", "start": 264.04, "end": 273.81503}, {"id": "sent_10_1", "text": "But this is still not that secure because, again, like we talked about before, right, the passwords are not rate limited.", "start": 273.975, "end": 282.93503}, {"id": "sent_10_2", "text": "So someone can just be testing as many passwords as they can possibly test in a given time frame.", "start": 282.93503, "end": 288.21503}, {"id": "sent_10_3", "text": "And at some point, they're most likely going to be able to get the correct password.", "start": 288.28998, "end": 292.28998}, {"id": "sent_10_4", "text": "Right?", "start": 292.28998, "end": 292.77}]}, {"id": "para_11", "paragraph_idx": 11, "start": 292.93, "end": 330.065, "sentences": [{"id": "sent_11_0", "text": "So the conclusion for all of this long tangent was just that storing passwords is really difficult.", "start": 292.93, "end": 298.37}, {"id": "sent_11_1", "text": "So instead of like having to store passwords by ourselves on our web applications, we're just going to make it easier for us and use Google.", "start": 298.53, "end": 305.13498}, {"id": "sent_11_2", "text": "So Google has this really nice authentication setup that they have already created, and we are just going to take advantage of this for our own purposes.", "start": 305.13498, "end": 313.615}, {"id": "sent_11_3", "text": "So you guys probably are very familiar with the login with Google button that's on, like, probably, like most pages these days.", "start": 314.53, "end": 322.85}, {"id": "sent_11_4", "text": "And so, for example, if I'm trying to sign in to MongoDB, right, I can choose an account to log in.", "start": 324.13, "end": 330.065}]}, {"id": "para_12", "paragraph_idx": 12, "start": 330.145, "end": 369.405, "sentences": [{"id": "sent_12_0", "text": "But you might be thinking like, this is pretty interesting, right, because we're signing into MongoDB, but we're seeing like the the Google URL.", "start": 330.145, "end": 339.345}, {"id": "sent_12_1", "text": "But MongoDB has nothing to do with Google.", "start": 339.585, "end": 341.985}, {"id": "sent_12_2", "text": "So how does MongoDB get the information from Google that we've successfully logged in and prove that we are who we say we are?", "start": 341.985, "end": 348.71}, {"id": "sent_12_3", "text": "So how does a website know that we've logged into Google?", "start": 349.27, "end": 352.31}, {"id": "sent_12_4", "text": "So for example, on Piazza, this is another kind of issue that we need to take into consideration, is that if I do log in and say that I'm, like, me, right, the other thing is, like, I'm logged in as an instructor, so I should have instructor permissions, which means I should be able to, like, post things as an instructor.", "start": 353.03, "end": 369.405}]}, {"id": "para_13", "paragraph_idx": 13, "start": 369.485, "end": 399.355, "sentences": [{"id": "sent_13_0", "text": "So besides just proving to the website that we are who we say we are, we also should get specific permissions or things granted to us if we have different roles on that website.", "start": 369.485, "end": 378.69}, {"id": "sent_13_1", "text": "So like a student dashboard should look different from an instructor dashboard.", "start": 378.69, "end": 382.21}, {"id": "sent_13_2", "text": "This is also like a pub to fill out the food thoughts post because no one responded.", "start": 382.21, "end": 387.17}, {"id": "sent_13_3", "text": "Yeah.", "start": 388.715, "end": 389.275}, {"id": "sent_13_4", "text": "So currently, right, like basically what we're looking at is we have like a user sending a post request to our login API endpoint with their username and password information.", "start": 389.275, "end": 399.355}]}, {"id": "para_14", "paragraph_idx": 14, "start": 401.33002, "end": 440.99, "sentences": [{"id": "sent_14_0", "text": "But let's and then the server should send back the information that the user should see on their front end.", "start": 401.33002, "end": 407.81003}, {"id": "sent_14_1", "text": "But let's say we have, like, a lot of different machines sending this request at once, and they're all pinging the API login endpoint.", "start": 408.61002, "end": 415.09}, {"id": "sent_14_2", "text": "How do we know that, like, Sophie's pinging the API login endpoint and, like, sending a GET request to fetch all of her stories is different than, like, Arando pinging the same endpoint?", "start": 416.145, "end": 426.945}, {"id": "sent_14_3", "text": "Like, how does the server tell who's, like, who's making that GET request?", "start": 426.945, "end": 430.785}, {"id": "sent_14_4", "text": "Well, one of the things we can try is, let's say we just send the username of the person that's logged in in the query parameters of the GET request.", "start": 432.43, "end": 440.99}]}, {"id": "para_15", "paragraph_idx": 15, "start": 441.47, "end": 460.35, "sentences": [{"id": "sent_15_0", "text": "Do you guys think that this would work server to be able to differentiate who is logged in and, like, accurately recognize them?", "start": 441.47, "end": 449.205}, {"id": "sent_15_1", "text": "Thumbs up for yes, thumbs down for no.", "start": 449.205, "end": 451.20502}, {"id": "sent_15_2", "text": "Yeah.", "start": 452.965, "end": 453.445}, {"id": "sent_15_3", "text": "I'm seeing a lot of thumbs down, which is correct.", "start": 453.445, "end": 455.685}, {"id": "sent_15_4", "text": "Because query parameters like this can very, very easily be changed.", "start": 456.005, "end": 460.35}]}, {"id": "para_16", "paragraph_idx": 16, "start": 460.35, "end": 469.87003, "sentences": [{"id": "sent_16_0", "text": "Right?", "start": 460.35, "end": 460.59}, {"id": "sent_16_1", "text": "Like, you can just literally go into the query parameters and, like, delete it.", "start": 460.59, "end": 463.71}, {"id": "sent_16_2", "text": "So I can just write, like, username equals Sophie, and then I would, like, be Sophie.", "start": 463.71, "end": 468.27002}, {"id": "sent_16_3", "text": "But that's not what we want.", "start": 468.27002, "end": 469.39}, {"id": "sent_16_4", "text": "Right?", "start": 469.39, "end": 469.87003}]}, {"id": "para_17", "paragraph_idx": 17, "start": 471.07, "end": 488.785, "sentences": [{"id": "sent_17_0", "text": "So let's modify this proposal a bit.", "start": 471.07, "end": 473.31}, {"id": "sent_17_1", "text": "What if instead of looking at the query parameters, we look at the IP address of who's sending it?", "start": 473.31, "end": 478.065}, {"id": "sent_17_2", "text": "So we say like, oh, Sophie is sending this GET request and then the Rando is sending the other GET request.", "start": 478.305, "end": 483.825}, {"id": "sent_17_3", "text": "Can we use that to differentiate who is actually logged in?", "start": 483.825, "end": 486.945}, {"id": "sent_17_4", "text": "Thumbs up for yes, thumbs down for no.", "start": 486.945, "end": 488.785}]}, {"id": "para_18", "paragraph_idx": 18, "start": 490.82, "end": 514.505, "sentences": [{"id": "sent_18_0", "text": "Yeah.", "start": 490.82, "end": 491.22}, {"id": "sent_18_1", "text": "I'm still seeing a lot of thumbs down, which is correct because IP addresses are not secure because they can very easily be spoofed by hackers.", "start": 491.22, "end": 498.02002}, {"id": "sent_18_2", "text": "So we can't use the IP address to differentiate who is logged in either.", "start": 498.02002, "end": 501.38}, {"id": "sent_18_3", "text": "The conclusion of this second long tangent is that we can never really trust the client.", "start": 502.02002, "end": 506.66498}, {"id": "sent_18_4", "text": "So no matter what the client says, it's very easy for them to just lie about who they say they are by either faking the query parameters or spoofing their IP address.", "start": 506.66498, "end": 514.505}]}, {"id": "para_19", "paragraph_idx": 19, "start": 515.145, "end": 542.105, "sentences": [{"id": "sent_19_0", "text": "So we can have this normal mongoose saying they're Sophie.", "start": 515.145, "end": 518.345}, {"id": "sent_19_1", "text": "We can also have a malicious mongoose hacker saying they're Sophie.", "start": 518.345, "end": 521.47003}, {"id": "sent_19_2", "text": "And there's no way to really differentiate these if we trust the client.", "start": 521.47003, "end": 524.43}, {"id": "sent_19_3", "text": "So to recap what we've talked about so far, if we log into a website with Google or using some other third party authentication service, you guys have probably heard of other authentication platforms, like MIT uses Okta.", "start": 525.07, "end": 535.87}, {"id": "sent_19_4", "text": "How are we proving to this website that we've logged into Google or this other authentication platform?", "start": 537.145, "end": 542.105}]}, {"id": "para_20", "paragraph_idx": 20, "start": 542.105, "end": 566.625, "sentences": [{"id": "sent_20_0", "text": "And once we've actually logged in and we continue making GET requests, for example, how does the website know that we've already logged in and can show us different permissions based on who we say we are?", "start": 542.105, "end": 554.83}, {"id": "sent_20_1", "text": "And we want to do all of this without trusting the client because we all saw how that turned out.", "start": 555.47003, "end": 560.19}, {"id": "sent_20_2", "text": "Not great.", "start": 560.19, "end": 560.67}, {"id": "sent_20_3", "text": "Right?", "start": 560.67, "end": 561.15}, {"id": "sent_20_4", "text": "So we have these really cool things called sessions and tokens.", "start": 561.95, "end": 566.625}]}, {"id": "para_21", "paragraph_idx": 21, "start": 568.225, "end": 594.26, "sentences": [{"id": "sent_21_0", "text": "Okay.", "start": 568.225, "end": 568.625}, {"id": "sent_21_1", "text": "So let's talk about sessions first.", "start": 568.625, "end": 570.385}, {"id": "sent_21_2", "text": "So what sessions do essentially is now when a user is logging in, they're going to send their credentials over to the server.", "start": 571.105, "end": 577.90497}, {"id": "sent_21_3", "text": "And the server is going to store all of the user's information in something called, like, a global session lookup table.", "start": 578.58, "end": 585.30005}, {"id": "sent_21_4", "text": "Essentially, it's just this table that is globally accessible, and it'll have information with a session ID corresponding to all of the user's information.", "start": 585.54004, "end": 594.26}]}, {"id": "para_22", "paragraph_idx": 22, "start": 594.44495, "end": 635.29504, "sentences": [{"id": "sent_22_0", "text": "So like here, you see like my username and my user ID and I have this uniquely generated session ID.", "start": 594.44495, "end": 599.885}, {"id": "sent_22_1", "text": "Now what the server is gonna do is it's gonna send a response to the client with the uniquely generated session ID for that specific client.", "start": 601.00494, "end": 608.44495}, {"id": "sent_22_2", "text": "And the client is going to use that session ID and send it back to the session when making future not session, send it back to the server when making future requests.", "start": 609.95996, "end": 619.32}, {"id": "sent_22_3", "text": "So anytime the client pings the like makes a GET request in the future, they're gonna send this session ID back in the form of a cookie.", "start": 619.32, "end": 628.655}, {"id": "sent_22_4", "text": "And then the server is going to be able to send a response back corresponding to that user specific unique session ID.", "start": 628.655, "end": 635.29504}]}, {"id": "para_23", "paragraph_idx": 23, "start": 636.815, "end": 648.68, "sentences": [{"id": "sent_23_0", "text": "Okay.", "start": 636.815, "end": 637.215}, {"id": "sent_23_1", "text": "Why do you guys think that sessions can solve the problem of verifying that we're actually logged in?", "start": 637.8, "end": 642.2}, {"id": "sent_23_2", "text": "Turn and talk to a neighbor.", "start": 642.2, "end": 643.64}, {"id": "sent_23_3", "text": "Like, how does this solve all the dilemmas that we just talked about earlier?", "start": 644.36, "end": 647.56}, {"id": "sent_23_4", "text": "What do you guys think?", "start": 647.56, "end": 648.68}]}, {"id": "para_24", "paragraph_idx": 24, "start": 648.68, "end": 761.365, "sentences": [{"id": "sent_24_0", "text": "Give you, like, thirty seconds.", "start": 648.68, "end": 650.705}, {"id": "sent_24_1", "text": "Okay.", "start": 732.41504, "end": 733.775}, {"id": "sent_24_2", "text": "Hopefully you guys had time to think about it.", "start": 742.41504, "end": 744.655}, {"id": "sent_24_3", "text": "But does anyone want to take a stab at how sessions solve the problem for us?", "start": 744.97504, "end": 750.36}, {"id": "sent_24_4", "text": "Okay.", "start": 760.885, "end": 761.365}]}, {"id": "para_25", "paragraph_idx": 25, "start": 761.365, "end": 792.655, "sentences": [{"id": "sent_25_0", "text": "It's okay.", "start": 761.365, "end": 762.165}, {"id": "sent_25_1", "text": "I understand.", "start": 762.565, "end": 764.245}, {"id": "sent_25_2", "text": "But basically, right, so sessions remember when we like, we're looking at the diagram previously, we saw that the server was storing all of the user's information on the server side.", "start": 764.725, "end": 776.70996}, {"id": "sent_25_3", "text": "Right?", "start": 776.70996, "end": 777.02997}, {"id": "sent_25_4", "text": "So all of the user information is being stored securely by the server, like stuff like username, right, user ID, and the only thing that the client is actually getting is the session ID that was generated by the server, and they're just sending it back in the form of a cookie on future requests.", "start": 777.02997, "end": 792.655}]}, {"id": "para_26", "paragraph_idx": 26, "start": 793.375, "end": 831.49506, "sentences": [{"id": "sent_26_0", "text": "So now all the sensitive information is stored securely on the server instead of having the client send their information and their credentials back to the server.", "start": 793.375, "end": 801.455}, {"id": "sent_26_1", "text": "So this is more secure, right, because we can see that instead of the scenarios we were describing previously, where the client can just modify their query parameters or modify their IP address, now the server is securely storing all of the information about a user.", "start": 802.83, "end": 817.23004}, {"id": "sent_26_2", "text": "And the only thing that the user is getting is the session ID, which they're gonna send back in the form of a cookie on future requests.", "start": 817.23004, "end": 825.335}, {"id": "sent_26_3", "text": "So our session is stored on server on our server.", "start": 826.775, "end": 829.495}, {"id": "sent_26_4", "text": "This is kinda like the key point of sessions.", "start": 829.495, "end": 831.49506}]}, {"id": "para_27", "paragraph_idx": 27, "start": 831.815, "end": 851.70496, "sentences": [{"id": "sent_27_0", "text": "But there's a couple of issues with this too.", "start": 831.815, "end": 833.815}, {"id": "sent_27_1", "text": "Let's say we have multiple different servers.", "start": 835.22, "end": 837.86}, {"id": "sent_27_2", "text": "Right?", "start": 837.86, "end": 838.42}, {"id": "sent_27_3", "text": "Can you guys, like, think for, like, twenty seconds about, like, what's one potential problem that we might have if we use sessions and we're running, like, multiple different servers?", "start": 838.66, "end": 847.22}, {"id": "sent_27_4", "text": "Feel free to talk with each other also.", "start": 850.02496, "end": 851.70496}]}, {"id": "para_28", "paragraph_idx": 28, "start": 878.755, "end": 900.35004, "sentences": [{"id": "sent_28_0", "text": "Okay.", "start": 878.755, "end": 879.235}, {"id": "sent_28_1", "text": "So yeah.", "start": 879.235, "end": 880.03503}, {"id": "sent_28_2", "text": "When storing data on multiple different servers, you can imagine that each server now needs to store its own global lookup table for the session IDs.", "start": 880.59503, "end": 890.51}, {"id": "sent_28_3", "text": "Right?", "start": 890.51, "end": 890.99005}, {"id": "sent_28_4", "text": "And so this can get kind of messy because now we have like five different servers with five different global lookup tables and like so many users using our platform, it can get kind of messy.", "start": 891.07, "end": 900.35004}]}, {"id": "para_29", "paragraph_idx": 29, "start": 900.35004, "end": 920.41, "sentences": [{"id": "sent_29_0", "text": "So sessions run into the issue of scalability, and it can be kind of difficult to translate when you're trying to run multiple servers at once.", "start": 900.35004, "end": 907.73505}, {"id": "sent_29_1", "text": "But besides that, sessions are still useful.", "start": 908.135, "end": 910.29504}, {"id": "sent_29_2", "text": "So we're not saying sessions are bad, we're just saying like this is one of the cons of sessions to keep take into consideration.", "start": 910.29504, "end": 915.495}, {"id": "sent_29_3", "text": "So another thing we have are tokens.", "start": 916.88995, "end": 920.00995}, {"id": "sent_29_4", "text": "Right?", "start": 920.00995, "end": 920.41}]}, {"id": "para_30", "paragraph_idx": 30, "start": 920.41, "end": 952.83, "sentences": [{"id": "sent_30_0", "text": "So tokens are able to solve this problem of scalability that we previously saw with sessions.", "start": 920.41, "end": 925.93}, {"id": "sent_30_1", "text": "The way that tokens work is that a user is going to submit their login form.", "start": 926.73, "end": 930.73}, {"id": "sent_30_2", "text": "So they're sending the post request to the server, pinging the API login endpoint.", "start": 930.73, "end": 935.305}, {"id": "sent_30_3", "text": "And the server is going to take in the user's credentials and create a unique JSON web token object for the client.", "start": 936.185, "end": 944.985}, {"id": "sent_30_4", "text": "Now the client is going to put this token in their local storage.", "start": 948.59, "end": 952.83}]}, {"id": "para_31", "paragraph_idx": 31, "start": 954.91003, "end": 990.07495, "sentences": [{"id": "sent_31_0", "text": "And upon make or sorry.", "start": 954.91003, "end": 957.23004}, {"id": "sent_31_1", "text": "In making future requests, the client is going to send this token back to the server with the signed header that is going to get decrypted by the server and validated upon future requests.", "start": 957.39, "end": 969.365}, {"id": "sent_31_2", "text": "So the token actually carries the user's credentials, but very securely because you can't spoof a token.", "start": 969.525, "end": 975.365}, {"id": "sent_31_3", "text": "So it's going to carry the user's credentials, and the server is going to be able to decrypt this token and use it to basically give the user all of its information that it should have access to.", "start": 975.56, "end": 985.95996}, {"id": "sent_31_4", "text": "And so let's contrast this with sessions.", "start": 986.44, "end": 990.07495}]}, {"id": "para_32", "paragraph_idx": 32, "start": 990.07495, "end": 1012.33, "sentences": [{"id": "sent_32_0", "text": "Right?", "start": 990.07495, "end": 990.315}, {"id": "sent_32_1", "text": "So remember sessions, we had this global lookup table.", "start": 990.315, "end": 992.71497}, {"id": "sent_32_2", "text": "It stores all the user information on the server side.", "start": 992.71497, "end": 995.595}, {"id": "sent_32_3", "text": "And with tokens, instead, the user information or sorry, the user credentials are stored in this token object, but this token object is encrypted very securely.", "start": 995.755, "end": 1005.21}, {"id": "sent_32_4", "text": "And so the server is decrypting this token using the token's header that gets sent back when the client makes future requests.", "start": 1005.21, "end": 1012.33}]}, {"id": "para_33", "paragraph_idx": 33, "start": 1015.955, "end": 1029.5, "sentences": [{"id": "sent_33_0", "text": "So turn and talk to your neighbor again.", "start": 1015.955, "end": 1018.115}, {"id": "sent_33_1", "text": "Why do you think tokens solve the problem of verifying that we're logged in securely upon making future requests?", "start": 1018.115, "end": 1023.315}, {"id": "sent_33_2", "text": "How is this different than the dilemmas we described before?", "start": 1023.315, "end": 1025.715}, {"id": "sent_33_3", "text": "How is it different than sessions?", "start": 1025.715, "end": 1026.915}, {"id": "sent_33_4", "text": "I'll give you guys, like, thirty seconds to talk about it.", "start": 1027.26, "end": 1029.5}]}, {"id": "para_34", "paragraph_idx": 34, "start": 1093.0499, "end": 1106.995, "sentences": [{"id": "sent_34_0", "text": "Okay.", "start": 1093.0499, "end": 1093.5299}, {"id": "sent_34_1", "text": "So hopefully you guys had some time to discuss it once again.", "start": 1093.5299, "end": 1096.6499}, {"id": "sent_34_2", "text": "Now, would anyone like to, I don't know, offer an answer?", "start": 1096.89, "end": 1100.49}, {"id": "sent_34_3", "text": "Okay.", "start": 1105.875, "end": 1106.275}, {"id": "sent_34_4", "text": "It's okay.", "start": 1106.275, "end": 1106.995}]}, {"id": "para_35", "paragraph_idx": 35, "start": 1107.795, "end": 1137.515, "sentences": [{"id": "sent_35_0", "text": "But basically, token solve the problem for us because tokens can't be spoofed.", "start": 1107.795, "end": 1112.355}, {"id": "sent_35_1", "text": "So I mentioned this before, right?", "start": 1112.355, "end": 1113.715}, {"id": "sent_35_2", "text": "We can spoof our IP addresses, we can very easily change or delete our URL query parameters, but tokens cannot be spoofed because they are, like, these securely created JSON objects that then send back the signature that gets decrypted by the server.", "start": 1113.715, "end": 1127.7899}, {"id": "sent_35_3", "text": "So only the server can decrypt the tokens for us.", "start": 1127.7899, "end": 1130.4299}, {"id": "sent_35_4", "text": "And a user cannot forge a token, which is why we're not really trusting the client even though it might seem like the client is sending the token back.", "start": 1130.5099, "end": 1137.515}]}, {"id": "para_36", "paragraph_idx": 36, "start": 1137.515, "end": 1159.91, "sentences": [{"id": "sent_36_0", "text": "We're not trusting the client because the client cannot forge this token.", "start": 1137.515, "end": 1141.755}, {"id": "sent_36_1", "text": "This token was securely generated by the server, and the client is simply sending it back.", "start": 1141.755, "end": 1145.755}, {"id": "sent_36_2", "text": "Let's do a quick review of the difference between sessions and tokens.", "start": 1146.39, "end": 1150.07}, {"id": "sent_36_3", "text": "So with sessions, the authentication details are stored on the server side.", "start": 1150.15, "end": 1154.39}, {"id": "sent_36_4", "text": "With tokens, the user itself is storing their authentication details in the form of the token itself.", "start": 1154.55, "end": 1159.91}]}, {"id": "para_37", "paragraph_idx": 37, "start": 1161.3351, "end": 1197.085, "sentences": [{"id": "sent_37_0", "text": "When making future requests, the user is going to send back a cookie with sessions to have the request authorized.", "start": 1161.3351, "end": 1167.255}, {"id": "sent_37_1", "text": "But with tokens, the user sends back the token itself.", "start": 1167.255, "end": 1170.135}, {"id": "sent_37_2", "text": "And what the server does in the case of sessions is it's going to go to its database and find the session thanks to the ID that was sent with the cookie.", "start": 1170.615, "end": 1179.0499}, {"id": "sent_37_3", "text": "And once it finds the session in the global lookup table, it can send back all of the user information and verify that the user credentials are correct.", "start": 1179.0499, "end": 1186.73}, {"id": "sent_37_4", "text": "With tokens, the server is going to decrypt the token, verify its signature, and check that this is like an actual valid token that was generated by the server previously.", "start": 1187.53, "end": 1197.085}]}, {"id": "para_38", "paragraph_idx": 38, "start": 1197.805, "end": 1223.415, "sentences": [{"id": "sent_38_0", "text": "So let's pose a question.", "start": 1197.805, "end": 1200.525}, {"id": "sent_38_1", "text": "Do you guys think that the server can perform security actions in the case of sessions?", "start": 1200.6051, "end": 1204.685}, {"id": "sent_38_2", "text": "Thumbs up for yes, thumbs down for no.", "start": 1204.98, "end": 1207.2999}, {"id": "sent_38_3", "text": "I think like thumbs down, thumbs kind of like a mix.", "start": 1212.9, "end": 1217.2999}, {"id": "sent_38_4", "text": "But for sessions, the answer is actually yes because all of the authentication details are stored on the server side.", "start": 1217.2999, "end": 1223.415}]}, {"id": "para_39", "paragraph_idx": 39, "start": 1223.415, "end": 1240.22, "sentences": [{"id": "sent_39_0", "text": "Right?", "start": 1223.415, "end": 1223.8151}, {"id": "sent_39_1", "text": "So this means the server can actually perform all of the security actions it needs to because all of the details are stored on the server side.", "start": 1223.8151, "end": 1230.855}, {"id": "sent_39_2", "text": "How about for tokens?", "start": 1231.34, "end": 1232.38}, {"id": "sent_39_3", "text": "Do you guys think thumbs up, the server can perform security actions, thumbs down for no?", "start": 1232.38, "end": 1236.7799}, {"id": "sent_39_4", "text": "Yeah, exactly.", "start": 1239.26, "end": 1240.22}]}, {"id": "para_40", "paragraph_idx": 40, "start": 1240.22, "end": 1263.65, "sentences": [{"id": "sent_40_0", "text": "Thumbs down, right?", "start": 1240.22, "end": 1241.1}, {"id": "sent_40_1", "text": "Because this time, the authentication details are stored on the user side.", "start": 1241.1, "end": 1244.78}, {"id": "sent_40_2", "text": "So the server doesn't actually have access to the or sorry, not access, but the server is not storing the authentication details.", "start": 1244.78, "end": 1251.245}, {"id": "sent_40_3", "text": "So on the server side, we can't really perform much security actions because the user is storing their details themselves.", "start": 1251.245, "end": 1257.005}, {"id": "sent_40_4", "text": "One thing to note though is that actually, it's fine.", "start": 1258.77, "end": 1263.65}]}, {"id": "para_41", "paragraph_idx": 41, "start": 1263.65, "end": 1281.385, "sentences": [{"id": "sent_41_0", "text": "Okay.", "start": 1263.65, "end": 1264.13}, {"id": "sent_41_1", "text": "Does anyone have any questions?", "start": 1265.17, "end": 1266.53}, {"id": "sent_41_2", "text": "I'm pause here to give you guys some time to process what we just talked about.", "start": 1268.6901, "end": 1272.93}, {"id": "sent_41_3", "text": "Okay.", "start": 1278.3451, "end": 1279.065}, {"id": "sent_41_4", "text": "So now let's talk about Catbook.", "start": 1279.4651, "end": 1281.385}]}, {"id": "para_42", "paragraph_idx": 42, "start": 1281.385, "end": 1309.0748, "sentences": [{"id": "sent_42_0", "text": "How are we incorporating all of this information that we just learned into Catbook?", "start": 1281.385, "end": 1285.145}, {"id": "sent_42_1", "text": "So Catbook's way of managing login is what we're going to do is we're going to have a separate auth server and a resource server.", "start": 1286.97, "end": 1293.69}, {"id": "sent_42_2", "text": "We talked about before how storing passwords is like really difficult, so we're just going to let Google do it for us.", "start": 1293.77, "end": 1299.13}, {"id": "sent_42_3", "text": "They're going handle all the authentication details and we're hopefully not going to have to deal with it.", "start": 1299.13, "end": 1303.3949}, {"id": "sent_42_4", "text": "So when users initially sign in to Catbook, what they're going to do is they're going to sign in using Google.", "start": 1303.875, "end": 1309.0748}]}, {"id": "para_43", "paragraph_idx": 43, "start": 1309.315, "end": 1335.8649, "sentences": [{"id": "sent_43_0", "text": "And what Google is going to do is Google is going to generate a token for the user and be like, hey, here's your token.", "start": 1309.315, "end": 1314.97}, {"id": "sent_43_1", "text": "The user is going to take this token and send it to the server.", "start": 1315.13, "end": 1318.6499}, {"id": "sent_43_2", "text": "The server is going to verify this token.", "start": 1318.89, "end": 1320.8899}, {"id": "sent_43_3", "text": "And then in order for the user to stay logged in, the server is going to generate sessions for the user.", "start": 1321.29, "end": 1326.01}, {"id": "sent_43_4", "text": "So remember we talked about with sessions and tokens, sessions scalability is kind of hard because we're storing all of these global lookup tables, so if we have multiple servers, it's difficult.", "start": 1326.985, "end": 1335.8649}]}, {"id": "para_44", "paragraph_idx": 44, "start": 1335.945, "end": 1365.515, "sentences": [{"id": "sent_44_0", "text": "Luckily, we only have one server, so our server can use these sessions to manage login and persist login information.", "start": 1335.945, "end": 1342.71}, {"id": "sent_44_1", "text": "Tokens don't have the issue of scalability, so even though Google has like millions of these millions of users in this super large platform, these tokens make it really easy because the server itself doesn't have to store the user's information.", "start": 1343.27, "end": 1354.79}, {"id": "sent_44_2", "text": "So here's our sign in flow proposal.", "start": 1356.235, "end": 1358.395}, {"id": "sent_44_3", "text": "Right?", "start": 1358.395, "end": 1358.955}, {"id": "sent_44_4", "text": "So I'm going to sign in to the Google auth server, and let's say it was a success.", "start": 1358.955, "end": 1365.515}]}, {"id": "para_45", "paragraph_idx": 45, "start": 1365.515, "end": 1388.735, "sentences": [{"id": "sent_45_0", "text": "Now I'm going to tell my server that I logged in, and the server is going to check the user database to see if I'm actually a user.", "start": 1365.515, "end": 1371.0349}, {"id": "sent_45_1", "text": "But let's say, like, I type in the wrong password.", "start": 1372.87, "end": 1375.59}, {"id": "sent_45_2", "text": "Right?", "start": 1375.59, "end": 1376.07}, {"id": "sent_45_3", "text": "I could still theoretically tell the server that I've already successfully authenticated with Google.", "start": 1376.31, "end": 1381.59}, {"id": "sent_45_4", "text": "And then there's nothing stopping me from, like, as a malicious hacker, just saying that I already successfully authenticated with Google.", "start": 1382.15, "end": 1388.735}]}, {"id": "para_46", "paragraph_idx": 46, "start": 1389.615, "end": 1405.2699, "sentences": [{"id": "sent_46_0", "text": "Right?", "start": 1389.615, "end": 1389.935}, {"id": "sent_46_1", "text": "So this goes back to a point of like never trusting the client because the front end can very easily be modified.", "start": 1389.935, "end": 1395.5349}, {"id": "sent_46_2", "text": "So that's why we're gonna use the tokens.", "start": 1396.335, "end": 1398.015}, {"id": "sent_46_3", "text": "Right?", "start": 1398.015, "end": 1398.175}, {"id": "sent_46_4", "text": "So Google is going to generate a token for us, which remember, tokens are securely generated, cannot be spoofed by the user.", "start": 1398.175, "end": 1405.2699}]}, {"id": "para_47", "paragraph_idx": 47, "start": 1405.51, "end": 1439.35, "sentences": [{"id": "sent_47_0", "text": "So now, we take this token and we give our token to the server and say, yeah, I did actually log in with Google and my token is proof that I've successfully authenticated with Google because I can't, like, forge this token.", "start": 1405.51, "end": 1417.705}, {"id": "sent_47_1", "text": "So now the server is going to make sure this is a legit token by checking in the Google auth library that it was very conveniently set up for us.", "start": 1419.465, "end": 1426.265}, {"id": "sent_47_2", "text": "And then once it verifies that it's a legit token, it's going to check the user database.", "start": 1427.59, "end": 1432.6299}, {"id": "sent_47_3", "text": "It's not going to work if you're a hacker because the hacker is not going to get a token.", "start": 1433.51, "end": 1437.11}, {"id": "sent_47_4", "text": "So this sign in flow is not going to work.", "start": 1437.11, "end": 1439.35}]}, {"id": "para_48", "paragraph_idx": 48, "start": 1440.1549, "end": 1530.5449, "sentences": [{"id": "sent_48_0", "text": "Even if you, like, spoof a token, the server is going to check-in the Google auth library and see that this is a forged token, so you're not gonna be able to get your information.", "start": 1440.1549, "end": 1448.7148}, {"id": "sent_48_1", "text": "Okay.", "start": 1449.595, "end": 1450.075}, {"id": "sent_48_2", "text": "So now let's demo this.", "start": 1450.075, "end": 1451.5948}, {"id": "sent_48_3", "text": "You guys can also take, like, a two minute break while we get set up.", "start": 1452.475, "end": 1454.875}, {"id": "sent_48_4", "text": "Okay.", "start": 1529.905, "end": 1530.5449}]}, {"id": "para_49", "paragraph_idx": 49, "start": 1530.625, "end": 1553.93, "sentences": [{"id": "sent_49_0", "text": "So now let's take a quick look at how we can actually see our tokens and cookies being sent.", "start": 1530.625, "end": 1536.7849}, {"id": "sent_49_1", "text": "So let's navigate to Catbook.", "start": 1537.585, "end": 1539.985}, {"id": "sent_49_2", "text": "If you guys want to follow along, can go to get checkout w five complete.", "start": 1540.25, "end": 1547.37}, {"id": "sent_49_3", "text": "And basically, what I'm going to do is I'm going to log in to Google.", "start": 1548.0901, "end": 1551.8501}, {"id": "sent_49_4", "text": "So now we have like this sign in option.", "start": 1551.8501, "end": 1553.93}]}, {"id": "para_50", "paragraph_idx": 50, "start": 1553.93, "end": 1577.3, "sentences": [{"id": "sent_50_0", "text": "Right?", "start": 1553.93, "end": 1554.17}, {"id": "sent_50_1", "text": "So I'm gonna log in.", "start": 1554.17, "end": 1555.05}, {"id": "sent_50_2", "text": "I'll log in as myself.", "start": 1559.025, "end": 1560.5449}, {"id": "sent_50_3", "text": "And we'll see that once I've logged in, right, I should be able to go to inspect.", "start": 1565.745, "end": 1571.54}, {"id": "sent_50_4", "text": "And I can go to network tab.", "start": 1574.9, "end": 1577.3}]}, {"id": "para_51", "paragraph_idx": 51, "start": 1579.6201, "end": 1603.4099, "sentences": [{"id": "sent_51_0", "text": "Let's refresh.", "start": 1579.6201, "end": 1580.5}, {"id": "sent_51_1", "text": "Let's sign out.", "start": 1590.185, "end": 1591.225}, {"id": "sent_51_2", "text": "Sign in again.", "start": 1591.225, "end": 1592.025}, {"id": "sent_51_3", "text": "We should see this login if we go to our network tab.", "start": 1597.6499, "end": 1603.09}, {"id": "sent_51_4", "text": "Right?", "start": 1603.09, "end": 1603.4099}]}, {"id": "para_52", "paragraph_idx": 52, "start": 1603.4099, "end": 1634.02, "sentences": [{"id": "sent_52_0", "text": "And so this is us ping the login endpoint on our Catbook server.", "start": 1603.4099, "end": 1607.8899}, {"id": "sent_52_1", "text": "And if we go to the if we click on the request, right, we can see, like, the request URL is being sent to our API login endpoint is a post request.", "start": 1608.865, "end": 1617.7449}, {"id": "sent_52_2", "text": "And we can also see that if we go to the payload, we have our token here.", "start": 1617.985, "end": 1624.26}, {"id": "sent_52_3", "text": "So this is the token that Google is actually giving to us upon authorizing with the Google auth library.", "start": 1624.42, "end": 1631.22}, {"id": "sent_52_4", "text": "And so what we can do is we can actually take this token.", "start": 1631.3, "end": 1634.02}]}, {"id": "para_53", "paragraph_idx": 53, "start": 1635.005, "end": 1665.525, "sentences": [{"id": "sent_53_0", "text": "It's pretty cool because you can take this token and you can go to this website called jwt.io.", "start": 1635.005, "end": 1641.725}, {"id": "sent_53_1", "text": "And you can actually try and follow along and paste the token that you get into jwt..io.", "start": 1642.2051, "end": 1647.9651}, {"id": "sent_53_2", "text": "And you can see that we have our encoded token here.", "start": 1647.9651, "end": 1650.97}, {"id": "sent_53_3", "text": "And once we decode it, we actually have a lot of information that is stored in this token.", "start": 1650.97, "end": 1656.49}, {"id": "sent_53_4", "text": "So we can see things like my email address, my name, and also like all the other user credentials that are actually being stored within this token.", "start": 1656.57, "end": 1665.525}]}, {"id": "para_54", "paragraph_idx": 54, "start": 1666.3251, "end": 1700.245, "sentences": [{"id": "sent_54_0", "text": "But the header and the payload of this token are not actually secure.", "start": 1666.3251, "end": 1669.4451}, {"id": "sent_54_1", "text": "It's just like base 64 encoded, so it's very easily decryptable.", "start": 1669.4451, "end": 1673.765}, {"id": "sent_54_2", "text": "But what actually makes it secure is the signature part of the token, which I've, like, deleted just for, like, security purposes.", "start": 1673.765, "end": 1681.72}, {"id": "sent_54_3", "text": "But, basically, the signature is what actually makes a token secure.", "start": 1681.88, "end": 1685.3999}, {"id": "sent_54_4", "text": "So, yeah, you guys can see, like, if you check the login post request and you go to the request payload, you should be able to see the token that Google is sending to you to the client to prove that they have logged in.", "start": 1688.36, "end": 1700.245}]}, {"id": "para_55", "paragraph_idx": 55, "start": 1701.925, "end": 1710.54, "sentences": [{"id": "sent_55_0", "text": "Okay.", "start": 1701.925, "end": 1702.3251}, {"id": "sent_55_1", "text": "So now let's talk about our cookies.", "start": 1702.3251, "end": 1704.645}, {"id": "sent_55_2", "text": "So we got our token.", "start": 1704.7251, "end": 1705.8451}, {"id": "sent_55_3", "text": "Right?", "start": 1705.8451, "end": 1706.0851}, {"id": "sent_55_4", "text": "So if we go back to Catbook, now let's take a look at our cookies.", "start": 1706.0851, "end": 1710.54}]}, {"id": "para_56", "paragraph_idx": 56, "start": 1710.54, "end": 1752.6549, "sentences": [{"id": "sent_56_0", "text": "You can go to the cookies tab, and we notice that we have like this connect dot sid cookie, which is also shown like if we go to the headers of the login request, we should also see like we have this cookie right right here where it starts with, like, g enabled.", "start": 1710.54, "end": 1726.9949}, {"id": "sent_56_1", "text": "And so this cookie is actually enabling us to stay logged in.", "start": 1728.195, "end": 1732.995}, {"id": "sent_56_2", "text": "So once we've pinged the login endpoint and Google has given us a token, we then take that token, give it to the server, and the server will generate this cookie for us to ensure that we can stay logged in even if I refresh the page.", "start": 1732.995, "end": 1745.54}, {"id": "sent_56_3", "text": "So you see that, like, even if I refresh Catbook, right, I'm still logged in.", "start": 1745.54, "end": 1748.58}, {"id": "sent_56_4", "text": "Like, the sign out button is still there, which means I haven't been signed out.", "start": 1748.58, "end": 1752.6549}]}, {"id": "para_57", "paragraph_idx": 57, "start": 1753.0549, "end": 1784.695, "sentences": [{"id": "sent_57_0", "text": "And what we can try is oops.", "start": 1753.0549, "end": 1756.095}, {"id": "sent_57_1", "text": "We can try it to look at is, let's say we, like, go back to the cookie.", "start": 1756.415, "end": 1761.9349}, {"id": "sent_57_2", "text": "Let me log in again.", "start": 1763.29, "end": 1765.0499}, {"id": "sent_57_3", "text": "Let's go back to it and let's like try like going to our headers.", "start": 1770.5701, "end": 1776.49}, {"id": "sent_57_4", "text": "Looks like application.", "start": 1779.495, "end": 1784.695}]}, {"id": "para_58", "paragraph_idx": 58, "start": 1784.7749, "end": 1808.2749, "sentences": [{"id": "sent_58_0", "text": "And let's like delete the cookie.", "start": 1784.7749, "end": 1786.2949}, {"id": "sent_58_1", "text": "Okay?", "start": 1786.2949, "end": 1786.5349}, {"id": "sent_58_2", "text": "So I'm just gonna like manually delete this cookie.", "start": 1786.5349, "end": 1788.615}, {"id": "sent_58_3", "text": "And you should notice now that if I refresh, I'll automatically be signed out.", "start": 1790.87, "end": 1795.83}, {"id": "sent_58_4", "text": "So if you delete the cookie just like manually, you're no longer going to be signed into Catbook, right, because you're no longer going to be able to send requests back with the cookie to the server to prove that you've already logged in.", "start": 1795.99, "end": 1808.2749}]}, {"id": "para_59", "paragraph_idx": 59, "start": 1808.355, "end": 1833.3049, "sentences": [{"id": "sent_59_0", "text": "So this is how our Catbook server is able to manage users and persist their sessions.", "start": 1808.355, "end": 1813.1549}, {"id": "sent_59_1", "text": "Yeah.", "start": 1815.45, "end": 1815.85}, {"id": "sent_59_2", "text": "So it's kind of talked about how if we manually delete the cookie, we automatically get logged out.", "start": 1815.85, "end": 1820.33}, {"id": "sent_59_3", "text": "And remember that when we make future requests and we ping like other endpoints, we are actually sending the cookie back as identity verification.", "start": 1822.25, "end": 1830.2499}, {"id": "sent_59_4", "text": "So we can see that, like, if I just, like, sign in again.", "start": 1830.33, "end": 1833.3049}]}, {"id": "para_60", "paragraph_idx": 60, "start": 1835.705, "end": 1867.1349, "sentences": [{"id": "sent_60_0", "text": "I should be able to see, like, in my network tab that I have, like, other requests.", "start": 1835.705, "end": 1839.225}, {"id": "sent_60_1", "text": "Right?", "start": 1839.225, "end": 1839.465}, {"id": "sent_60_2", "text": "So I'm, like, making other requests.", "start": 1839.465, "end": 1841.7849}, {"id": "sent_60_3", "text": "So I should have, like, Like when I make comment requests, you can notice that I'm like sending the cookie in the request each time I make a get request to our server.", "start": 1841.7849, "end": 1864.4149}, {"id": "sent_60_4", "text": "Okay.", "start": 1866.4149, "end": 1867.1349}]}, {"id": "para_61", "paragraph_idx": 61, "start": 1867.1349, "end": 1889.46, "sentences": [{"id": "sent_61_0", "text": "So that was kind of like a lot of information.", "start": 1867.1349, "end": 1869.7749}, {"id": "sent_61_1", "text": "So let's recap really quickly before we dive into the workshop.", "start": 1869.7749, "end": 1872.8949}, {"id": "sent_61_2", "text": "Let's talk about the difference between authentication and authorization.", "start": 1873.695, "end": 1876.74}, {"id": "sent_61_3", "text": "So authentication is a process of use verifying our users credentials.", "start": 1876.9, "end": 1880.6599}, {"id": "sent_61_4", "text": "So this is like, if Sophie is visiting my house, authentication would be like me saying, Sophie, I recognize Sophie and Sophie can't enter my house.", "start": 1881.0599, "end": 1889.46}]}, {"id": "para_62", "paragraph_idx": 62, "start": 1890.235, "end": 1923.705, "sentences": [{"id": "sent_62_0", "text": "Authorization is a process of actually verifying the user's permissions and rendering different things conditionally depending on what permissions that user might have.", "start": 1890.235, "end": 1899.0349}, {"id": "sent_62_1", "text": "So if Sophie comes over to my house, like, yes, I recognize her, but do I give her the permission or the authorization to enter my bathroom or, like, enter certain rooms inside of my house?", "start": 1899.195, "end": 1908.46}, {"id": "sent_62_2", "text": "We saw that it's really hard to trust the client.", "start": 1909.8201, "end": 1912.14}, {"id": "sent_62_3", "text": "We can't trust things that the user is saying because URL query parameters, you can like delete these, change these IP addresses, you can spoof them.", "start": 1912.14, "end": 1920.1849}, {"id": "sent_62_4", "text": "So we need to use something that's a little bit more secure.", "start": 1920.345, "end": 1923.705}]}, {"id": "para_63", "paragraph_idx": 63, "start": 1923.705, "end": 1948.495, "sentences": [{"id": "sent_63_0", "text": "So we're going to use sessions and tokens.", "start": 1923.705, "end": 1925.865}, {"id": "sent_63_1", "text": "So for us, what happens is Google Auth is taking in the user's credentials, it's generating this secure token and sending it back to the client.", "start": 1926.425, "end": 1934.5499}, {"id": "sent_63_2", "text": "And this token is verified via the privately generated signature that we saw.", "start": 1934.71, "end": 1938.95}, {"id": "sent_63_3", "text": "And then what's happening is now the user has this token.", "start": 1940.55, "end": 1943.4299}, {"id": "sent_63_4", "text": "They can make a request to the login API endpoint in r server dot j s file of Catbook.", "start": 1943.51, "end": 1948.495}]}, {"id": "para_64", "paragraph_idx": 64, "start": 1948.895, "end": 1983.895, "sentences": [{"id": "sent_64_0", "text": "The server can check if the token is valid by checking in the Google auth library.", "start": 1948.895, "end": 1953.535}, {"id": "sent_64_1", "text": "And if it is, then the server can go check MongoDB or it can store the user's information within MongoDB.", "start": 1953.535, "end": 1960.9199}, {"id": "sent_64_2", "text": "And this is like the cookie that we saw here, where if we deleted it, the user is no longer logged in.", "start": 1960.9199, "end": 1966.3599}, {"id": "sent_64_3", "text": "Now the user is going to send the cookie back that was generated by the server with its unique ID on subsequent requests to prove that the user has already been authenticated.", "start": 1967.08, "end": 1977.815}, {"id": "sent_64_4", "text": "And then now, the server will give authorization and, like, display your, like, cat book stories and comments.", "start": 1977.975, "end": 1983.895}]}, {"id": "para_65", "paragraph_idx": 65, "start": 1985.16, "end": 2001.3859, "sentences": [{"id": "sent_65_0", "text": "And as we're going to see tomorrow in the sockets lecture, real time messages also.", "start": 1985.16, "end": 1989.48}, {"id": "sent_65_1", "text": "Does anyone have any questions?", "start": 1991.24, "end": 1992.68}, {"id": "sent_65_2", "text": "Okay.", "start": 1998.1858, "end": 1998.9058}, {"id": "sent_65_3", "text": "Cool.", "start": 1998.9058, "end": 1999.4658}, {"id": "sent_65_4", "text": "That was all for the intro to auth.", "start": 1999.4658, "end": 2001.3859}]}, {"id": "para_66", "paragraph_idx": 66, "start": 2001.3859, "end": 2004.5858, "sentences": [{"id": "sent_66_0", "text": "Now Sophie is going to take you to the very meaty workshop.", "start": 2001.3859, "end": 2004.5858}]}]</script>
    <script>
        window.YT_VIDEO_ID = "TaEAslUARaA";
        window.ORIGINAL_UPLOADER = "MIT Web Lab (6.962)";
        window.ORIGINAL_DURATION = 2005;
    </script>
    <style>
        /* Inline critical styles to ensure layout works even before external CSS loads */
        .transcript-container {
            display: flex;
            width: 100%;
            position: relative;
        }

        .timeline-column {
            width: 60px;
            position: relative;
            flex-shrink: 0;
        }

        .transcript-column {
            flex: 1;
            overflow-y: auto;
            max-height: calc(100vh - 250px);
            padding-right: 20px;
        }

        .timeline-connecting-line {
            position: absolute;
            left: 30px;
            top: 30px;
            bottom: 30px;
            width: 2px;
            background-color: #ccc;
            transform: translateX(-50%);
        }

        .paragraph-container {
            display: flex;
            margin-bottom: 20px;
            position: relative;
        }

        .timeline-dot-wrapper {
            width: 60px;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            margin-top: 8px;
            flex-shrink: 0;
        }

        .timeline-dot {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background-color: #ccc;
            transition: all 0.3s ease;
        }

        .timeline-timestamp {
            font-size: 12px;
            color: #666;
            margin-top: 4px;
        }

        .paragraph-text {
            flex: 1;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background-color 0.3s ease;
        }

        .paragraph-active .paragraph-text {
            background-color: rgba(144, 202, 249, 0.2);
        }

        .paragraph-active .timeline-dot {
            background-color: #2196F3;
            width: 18px;
            height: 18px;
            box-shadow: 0 0 0 4px rgba(33, 150, 243, 0.2);
        }

        .transcript-sentence {
            transition: background-color 0.3s ease;
        }

        .sentence-active {
            background-color: rgba(33, 150, 243, 0.3);
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="page-container">
        <div class="video-section">
            <div id="youtube-player-iframe"></div>
        </div>
        <header class="page-header">
             <div class="video-info">
                <h1>MIT web.lab (6.962) - Day 6: Auth.</h1>
                <p>Channel: MIT Web Lab (6.962) | Duration: 33:25</p>
            </div>
            <div class="settings-bar">
                <label for="autoScrollTranscriptCheckbox"><input type="checkbox" id="autoScrollTranscriptCheckbox" checked> Auto-scroll Transcript</label>
                <label for="minimalVideoToggle"><input type="checkbox" id="minimalVideoToggle"> Minimal Video Player</label>
            </div>
        </header>
        <div class="content-section" id="mainContentArea">
            
        <div class="transcript-container">
            <div class="timeline-column">
                <div class="timeline-connecting-line"></div>
            </div>
            <div class="transcript-column">
        
                <div class="paragraph-container" data-paragraph-id="para_0" data-paragraph-idx="0" data-start-time="0.64" data-end-time="15.759999">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="0.64"></div>
                        <div class="timeline-timestamp">00:00</div>
                    </div>
                    <div class="paragraph-text" id="text-para_0"><span class="transcript-sentence" id="sent_0_0" data-start-time="0.64" data-end-time="1.12">Okay.</span> <span class="transcript-sentence" id="sent_0_1" data-start-time="1.12" data-end-time="1.8399999">Hi, everyone.</span> <span class="transcript-sentence" id="sent_0_2" data-start-time="1.8399999" data-end-time="3.7599998">Hope you're having a great Monday.</span> <span class="transcript-sentence" id="sent_0_3" data-start-time="4.16" data-end-time="11.759999">So me and Sophie are going to be talking about auth today, and it's kind of a really meaty lesson and workshop.</span> <span class="transcript-sentence" id="sent_0_4" data-start-time="11.92" data-end-time="15.759999">So don't worry if you guys feel a little oh, can you mute my thing?</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_1" data-paragraph-idx="1" data-start-time="18.725" data-end-time="31.89">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="18.725"></div>
                        <div class="timeline-timestamp">00:18</div>
                    </div>
                    <div class="paragraph-text" id="text-para_1"><span class="transcript-sentence" id="sent_1_0" data-start-time="18.725" data-end-time="19.045">Yeah.</span> <span class="transcript-sentence" id="sent_1_1" data-start-time="19.045" data-end-time="21.205">Don't worry if you guys feel a little confused.</span> <span class="transcript-sentence" id="sent_1_2" data-start-time="23.365" data-end-time="24.085">But yeah.</span> <span class="transcript-sentence" id="sent_1_3" data-start-time="24.085" data-end-time="28.404999">So I'm gonna talk about some intro first before we actually get into the workshop.</span> <span class="transcript-sentence" id="sent_1_4" data-start-time="28.404999" data-end-time="31.89">So hopefully you guys can understand things conceptually a little better.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_2" data-paragraph-idx="2" data-start-time="32.45" data-end-time="72.045">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="32.45"></div>
                        <div class="timeline-timestamp">00:32</div>
                    </div>
                    <div class="paragraph-text" id="text-para_2"><span class="transcript-sentence" id="sent_2_0" data-start-time="32.45" data-end-time="37.97">When we refer to auth, we are gonna be talking about both authorization and authentication.</span> <span class="transcript-sentence" id="sent_2_1" data-start-time="38.05" data-end-time="43.285">And we're gonna talk about like what the differences between those are as well in the introduction.</span> <span class="transcript-sentence" id="sent_2_2" data-start-time="44.085" data-end-time="57.525">So you can see here on Abby's Facebook, right, if we're having like like our cat book for example, we want users to be able to know who they are when they're logged in and also like what stories and comments correspond to their profile specifically.</span> <span class="transcript-sentence" id="sent_2_3" data-start-time="57.95" data-end-time="67.15">So with Facebook, how do we know that, like, Kaylee Mary posted this meme, for example, and, like, Abby it's on Abby's profile, and she's the one currently logged in.</span> <span class="transcript-sentence" id="sent_2_4" data-start-time="67.55" data-end-time="72.045">So authentication deals with how we are proving our identity to a website.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_3" data-paragraph-idx="3" data-start-time="72.125" data-end-time="122.26">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="72.125"></div>
                        <div class="timeline-timestamp">01:12</div>
                    </div>
                    <div class="paragraph-text" id="text-para_3"><span class="transcript-sentence" id="sent_3_0" data-start-time="72.125" data-end-time="81.16499">It's basically the website saying like, hey, this user is who they claim to be and like this is all the information that falls under that user's login stuff.</span> <span class="transcript-sentence" id="sent_3_1" data-start-time="81.884995" data-end-time="98.01">So when the client is sending a post request and pinging the login API endpoint, our server needs to be able to find the user's information within MongoDB in a stored database of users by checking if it has the credentials that the user is claiming to have.</span> <span class="transcript-sentence" id="sent_3_2" data-start-time="98.965" data-end-time="105.204994">So one way that we can store username and password information is by just creating a user schema in our database.</span> <span class="transcript-sentence" id="sent_3_3" data-start-time="105.284996" data-end-time="112.725">So if you guys remember from the database lecture that Sophie and I gave, we talked about how schemas are ways that we can enforce structures onto documents.</span> <span class="transcript-sentence" id="sent_3_4" data-start-time="113.14001" data-end-time="122.26">So do you think that it's feasible for us to just create a user schema like this with fields like name, email, password, and store them as strings within our database?</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_4" data-paragraph-idx="4" data-start-time="122.58" data-end-time="151.47">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="122.58"></div>
                        <div class="timeline-timestamp">02:02</div>
                    </div>
                    <div class="paragraph-text" id="text-para_4"><span class="transcript-sentence" id="sent_4_0" data-start-time="122.58" data-end-time="127.3">Give me a thumbs up if you think this is a good proposal and thumbs down if you think no.</span> <span class="transcript-sentence" id="sent_4_1" data-start-time="130.685" data-end-time="131.24501">Okay.</span> <span class="transcript-sentence" id="sent_4_2" data-start-time="131.24501" data-end-time="139.325">I'm seeing some mixed, but yeah, the majority is thumbs down and they'd be you'd be exactly correct because the password is not encrypted at all.</span> <span class="transcript-sentence" id="sent_4_3" data-start-time="139.325" data-end-time="139.645">Right?</span> <span class="transcript-sentence" id="sent_4_4" data-start-time="139.645" data-end-time="151.47">So having developer access to all of the passwords of users platform like this is extremely bad because it can very easily get leaked and then hackers can very easily access it.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_5" data-paragraph-idx="5" data-start-time="151.47" data-end-time="168.16501">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="151.47"></div>
                        <div class="timeline-timestamp">02:31</div>
                    </div>
                    <div class="paragraph-text" id="text-para_5"><span class="transcript-sentence" id="sent_5_0" data-start-time="151.47" data-end-time="156.27">And most of the time, you guys probably use like the same password across multiple different applications.</span> <span class="transcript-sentence" id="sent_5_1" data-start-time="156.27" data-end-time="164.725">So you're not just like leaking the password for this one application, you're leaking the password for like probably like, I don't know, your entire what's the word I'm looking for?</span> <span class="transcript-sentence" id="sent_5_2" data-start-time="164.96501" data-end-time="165.92502">Net worth.</span> <span class="transcript-sentence" id="sent_5_3" data-start-time="167.125" data-end-time="167.68501">Yeah.</span> <span class="transcript-sentence" id="sent_5_4" data-start-time="167.765" data-end-time="168.16501">Okay.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_6" data-paragraph-idx="6" data-start-time="168.16501" data-end-time="194.845">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="168.16501"></div>
                        <div class="timeline-timestamp">02:48</div>
                    </div>
                    <div class="paragraph-text" id="text-para_6"><span class="transcript-sentence" id="sent_6_0" data-start-time="168.16501" data-end-time="172.16501">So we have one potential solution which is using hash functions.</span> <span class="transcript-sentence" id="sent_6_1" data-start-time="172.24501" data-end-time="182.51">Hash functions basically just take in a string like this, and they'll use a mathematical function to generate, like, a crypt encrypted string as an output.</span> <span class="transcript-sentence" id="sent_6_2" data-start-time="183.15" data-end-time="188.67">Hash functions are one way, so our output hash doesn't tell us anything about what we actually inputted to the function.</span> <span class="transcript-sentence" id="sent_6_3" data-start-time="188.925" data-end-time="194.605">And they're also deterministic, which means the same input gives you the same output hash values, which is nice.</span> <span class="transcript-sentence" id="sent_6_4" data-start-time="194.605" data-end-time="194.845">Right?</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_7" data-paragraph-idx="7" data-start-time="194.845" data-end-time="207.62">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="194.845"></div>
                        <div class="timeline-timestamp">03:14</div>
                    </div>
                    <div class="paragraph-text" id="text-para_7"><span class="transcript-sentence" id="sent_7_0" data-start-time="194.845" data-end-time="201.96501">You might think like, wow, now we can just store our passwords after running them through this hash function because now they're like these encrypted strings.</span> <span class="transcript-sentence" id="sent_7_1" data-start-time="202.045" data-end-time="203.405">So this might be better.</span> <span class="transcript-sentence" id="sent_7_2" data-start-time="203.405" data-end-time="203.565">Right?</span> <span class="transcript-sentence" id="sent_7_3" data-start-time="203.565" data-end-time="204.285">What do you guys think?</span> <span class="transcript-sentence" id="sent_7_4" data-start-time="204.285" data-end-time="207.62">Like, thumbs up for better solution or thumbs down for no?</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_8" data-paragraph-idx="8" data-start-time="210.34" data-end-time="237.56999">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="210.34"></div>
                        <div class="timeline-timestamp">03:30</div>
                    </div>
                    <div class="paragraph-text" id="text-para_8"><span class="transcript-sentence" id="sent_8_0" data-start-time="210.34" data-end-time="210.81999">Okay.</span> <span class="transcript-sentence" id="sent_8_1" data-start-time="210.81999" data-end-time="214.1">I'm still seeing some thumbs down and you would be correct again.</span> <span class="transcript-sentence" id="sent_8_2" data-start-time="214.26" data-end-time="223.445">Because one of the things we actually have is like online, you can just look up the hashes that correspond to some of the really common passwords that people use.</span> <span class="transcript-sentence" id="sent_8_3" data-start-time="223.685" data-end-time="232.37">So you can, like, very easily kind of, like, guess a lot of different passwords and see the corresponding hash functions that already exist.</span> <span class="transcript-sentence" id="sent_8_4" data-start-time="232.37" data-end-time="237.56999">And like, if someone's testing like a million passwords a minute, they can like probably get it within like a few hours.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_9" data-paragraph-idx="9" data-start-time="237.56999" data-end-time="263.80002">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="237.56999"></div>
                        <div class="timeline-timestamp">03:57</div>
                    </div>
                    <div class="paragraph-text" id="text-para_9"><span class="transcript-sentence" id="sent_9_0" data-start-time="237.56999" data-end-time="238.05">Right?</span> <span class="transcript-sentence" id="sent_9_1" data-start-time="239.73" data-end-time="241.25">So it's still not that secure.</span> <span class="transcript-sentence" id="sent_9_2" data-start-time="241.25" data-end-time="241.56999">Okay.</span> <span class="transcript-sentence" id="sent_9_3" data-start-time="241.56999" data-end-time="254.69499">So we have like another option, is we can do something called password hash salting, where we add a salt to our hash function, which is just like another kind of like ran it's just like more data that we're adding to our initial input to the hash function.</span> <span class="transcript-sentence" id="sent_9_4" data-start-time="254.69499" data-end-time="263.80002">So it makes it like a little more secure because these salts are pretty hard to decrypt and like, it makes it diff more difficult for hackers to decrypt it.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_10" data-paragraph-idx="10" data-start-time="264.04" data-end-time="292.77">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="264.04"></div>
                        <div class="timeline-timestamp">04:24</div>
                    </div>
                    <div class="paragraph-text" id="text-para_10"><span class="transcript-sentence" id="sent_10_0" data-start-time="264.04" data-end-time="273.81503">But I'm not gonna go into the details of what, like, salting actually looks like, but it's basically just adding a lot of, like, random data to our string to begin with, so it becomes a little more secure.</span> <span class="transcript-sentence" id="sent_10_1" data-start-time="273.975" data-end-time="282.93503">But this is still not that secure because, again, like we talked about before, right, the passwords are not rate limited.</span> <span class="transcript-sentence" id="sent_10_2" data-start-time="282.93503" data-end-time="288.21503">So someone can just be testing as many passwords as they can possibly test in a given time frame.</span> <span class="transcript-sentence" id="sent_10_3" data-start-time="288.28998" data-end-time="292.28998">And at some point, they're most likely going to be able to get the correct password.</span> <span class="transcript-sentence" id="sent_10_4" data-start-time="292.28998" data-end-time="292.77">Right?</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_11" data-paragraph-idx="11" data-start-time="292.93" data-end-time="330.065">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="292.93"></div>
                        <div class="timeline-timestamp">04:52</div>
                    </div>
                    <div class="paragraph-text" id="text-para_11"><span class="transcript-sentence" id="sent_11_0" data-start-time="292.93" data-end-time="298.37">So the conclusion for all of this long tangent was just that storing passwords is really difficult.</span> <span class="transcript-sentence" id="sent_11_1" data-start-time="298.53" data-end-time="305.13498">So instead of like having to store passwords by ourselves on our web applications, we're just going to make it easier for us and use Google.</span> <span class="transcript-sentence" id="sent_11_2" data-start-time="305.13498" data-end-time="313.615">So Google has this really nice authentication setup that they have already created, and we are just going to take advantage of this for our own purposes.</span> <span class="transcript-sentence" id="sent_11_3" data-start-time="314.53" data-end-time="322.85">So you guys probably are very familiar with the login with Google button that's on, like, probably, like most pages these days.</span> <span class="transcript-sentence" id="sent_11_4" data-start-time="324.13" data-end-time="330.065">And so, for example, if I'm trying to sign in to MongoDB, right, I can choose an account to log in.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_12" data-paragraph-idx="12" data-start-time="330.145" data-end-time="369.405">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="330.145"></div>
                        <div class="timeline-timestamp">05:30</div>
                    </div>
                    <div class="paragraph-text" id="text-para_12"><span class="transcript-sentence" id="sent_12_0" data-start-time="330.145" data-end-time="339.345">But you might be thinking like, this is pretty interesting, right, because we're signing into MongoDB, but we're seeing like the the Google URL.</span> <span class="transcript-sentence" id="sent_12_1" data-start-time="339.585" data-end-time="341.985">But MongoDB has nothing to do with Google.</span> <span class="transcript-sentence" id="sent_12_2" data-start-time="341.985" data-end-time="348.71">So how does MongoDB get the information from Google that we've successfully logged in and prove that we are who we say we are?</span> <span class="transcript-sentence" id="sent_12_3" data-start-time="349.27" data-end-time="352.31">So how does a website know that we've logged into Google?</span> <span class="transcript-sentence" id="sent_12_4" data-start-time="353.03" data-end-time="369.405">So for example, on Piazza, this is another kind of issue that we need to take into consideration, is that if I do log in and say that I'm, like, me, right, the other thing is, like, I'm logged in as an instructor, so I should have instructor permissions, which means I should be able to, like, post things as an instructor.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_13" data-paragraph-idx="13" data-start-time="369.485" data-end-time="399.355">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="369.485"></div>
                        <div class="timeline-timestamp">06:09</div>
                    </div>
                    <div class="paragraph-text" id="text-para_13"><span class="transcript-sentence" id="sent_13_0" data-start-time="369.485" data-end-time="378.69">So besides just proving to the website that we are who we say we are, we also should get specific permissions or things granted to us if we have different roles on that website.</span> <span class="transcript-sentence" id="sent_13_1" data-start-time="378.69" data-end-time="382.21">So like a student dashboard should look different from an instructor dashboard.</span> <span class="transcript-sentence" id="sent_13_2" data-start-time="382.21" data-end-time="387.17">This is also like a pub to fill out the food thoughts post because no one responded.</span> <span class="transcript-sentence" id="sent_13_3" data-start-time="388.715" data-end-time="389.275">Yeah.</span> <span class="transcript-sentence" id="sent_13_4" data-start-time="389.275" data-end-time="399.355">So currently, right, like basically what we're looking at is we have like a user sending a post request to our login API endpoint with their username and password information.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_14" data-paragraph-idx="14" data-start-time="401.33002" data-end-time="440.99">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="401.33002"></div>
                        <div class="timeline-timestamp">06:41</div>
                    </div>
                    <div class="paragraph-text" id="text-para_14"><span class="transcript-sentence" id="sent_14_0" data-start-time="401.33002" data-end-time="407.81003">But let's and then the server should send back the information that the user should see on their front end.</span> <span class="transcript-sentence" id="sent_14_1" data-start-time="408.61002" data-end-time="415.09">But let's say we have, like, a lot of different machines sending this request at once, and they're all pinging the API login endpoint.</span> <span class="transcript-sentence" id="sent_14_2" data-start-time="416.145" data-end-time="426.945">How do we know that, like, Sophie's pinging the API login endpoint and, like, sending a GET request to fetch all of her stories is different than, like, Arando pinging the same endpoint?</span> <span class="transcript-sentence" id="sent_14_3" data-start-time="426.945" data-end-time="430.785">Like, how does the server tell who's, like, who's making that GET request?</span> <span class="transcript-sentence" id="sent_14_4" data-start-time="432.43" data-end-time="440.99">Well, one of the things we can try is, let's say we just send the username of the person that's logged in in the query parameters of the GET request.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_15" data-paragraph-idx="15" data-start-time="441.47" data-end-time="460.35">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="441.47"></div>
                        <div class="timeline-timestamp">07:21</div>
                    </div>
                    <div class="paragraph-text" id="text-para_15"><span class="transcript-sentence" id="sent_15_0" data-start-time="441.47" data-end-time="449.205">Do you guys think that this would work server to be able to differentiate who is logged in and, like, accurately recognize them?</span> <span class="transcript-sentence" id="sent_15_1" data-start-time="449.205" data-end-time="451.20502">Thumbs up for yes, thumbs down for no.</span> <span class="transcript-sentence" id="sent_15_2" data-start-time="452.965" data-end-time="453.445">Yeah.</span> <span class="transcript-sentence" id="sent_15_3" data-start-time="453.445" data-end-time="455.685">I'm seeing a lot of thumbs down, which is correct.</span> <span class="transcript-sentence" id="sent_15_4" data-start-time="456.005" data-end-time="460.35">Because query parameters like this can very, very easily be changed.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_16" data-paragraph-idx="16" data-start-time="460.35" data-end-time="469.87003">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="460.35"></div>
                        <div class="timeline-timestamp">07:40</div>
                    </div>
                    <div class="paragraph-text" id="text-para_16"><span class="transcript-sentence" id="sent_16_0" data-start-time="460.35" data-end-time="460.59">Right?</span> <span class="transcript-sentence" id="sent_16_1" data-start-time="460.59" data-end-time="463.71">Like, you can just literally go into the query parameters and, like, delete it.</span> <span class="transcript-sentence" id="sent_16_2" data-start-time="463.71" data-end-time="468.27002">So I can just write, like, username equals Sophie, and then I would, like, be Sophie.</span> <span class="transcript-sentence" id="sent_16_3" data-start-time="468.27002" data-end-time="469.39">But that's not what we want.</span> <span class="transcript-sentence" id="sent_16_4" data-start-time="469.39" data-end-time="469.87003">Right?</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_17" data-paragraph-idx="17" data-start-time="471.07" data-end-time="488.785">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="471.07"></div>
                        <div class="timeline-timestamp">07:51</div>
                    </div>
                    <div class="paragraph-text" id="text-para_17"><span class="transcript-sentence" id="sent_17_0" data-start-time="471.07" data-end-time="473.31">So let's modify this proposal a bit.</span> <span class="transcript-sentence" id="sent_17_1" data-start-time="473.31" data-end-time="478.065">What if instead of looking at the query parameters, we look at the IP address of who's sending it?</span> <span class="transcript-sentence" id="sent_17_2" data-start-time="478.305" data-end-time="483.825">So we say like, oh, Sophie is sending this GET request and then the Rando is sending the other GET request.</span> <span class="transcript-sentence" id="sent_17_3" data-start-time="483.825" data-end-time="486.945">Can we use that to differentiate who is actually logged in?</span> <span class="transcript-sentence" id="sent_17_4" data-start-time="486.945" data-end-time="488.785">Thumbs up for yes, thumbs down for no.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_18" data-paragraph-idx="18" data-start-time="490.82" data-end-time="514.505">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="490.82"></div>
                        <div class="timeline-timestamp">08:10</div>
                    </div>
                    <div class="paragraph-text" id="text-para_18"><span class="transcript-sentence" id="sent_18_0" data-start-time="490.82" data-end-time="491.22">Yeah.</span> <span class="transcript-sentence" id="sent_18_1" data-start-time="491.22" data-end-time="498.02002">I'm still seeing a lot of thumbs down, which is correct because IP addresses are not secure because they can very easily be spoofed by hackers.</span> <span class="transcript-sentence" id="sent_18_2" data-start-time="498.02002" data-end-time="501.38">So we can't use the IP address to differentiate who is logged in either.</span> <span class="transcript-sentence" id="sent_18_3" data-start-time="502.02002" data-end-time="506.66498">The conclusion of this second long tangent is that we can never really trust the client.</span> <span class="transcript-sentence" id="sent_18_4" data-start-time="506.66498" data-end-time="514.505">So no matter what the client says, it's very easy for them to just lie about who they say they are by either faking the query parameters or spoofing their IP address.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_19" data-paragraph-idx="19" data-start-time="515.145" data-end-time="542.105">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="515.145"></div>
                        <div class="timeline-timestamp">08:35</div>
                    </div>
                    <div class="paragraph-text" id="text-para_19"><span class="transcript-sentence" id="sent_19_0" data-start-time="515.145" data-end-time="518.345">So we can have this normal mongoose saying they're Sophie.</span> <span class="transcript-sentence" id="sent_19_1" data-start-time="518.345" data-end-time="521.47003">We can also have a malicious mongoose hacker saying they're Sophie.</span> <span class="transcript-sentence" id="sent_19_2" data-start-time="521.47003" data-end-time="524.43">And there's no way to really differentiate these if we trust the client.</span> <span class="transcript-sentence" id="sent_19_3" data-start-time="525.07" data-end-time="535.87">So to recap what we've talked about so far, if we log into a website with Google or using some other third party authentication service, you guys have probably heard of other authentication platforms, like MIT uses Okta.</span> <span class="transcript-sentence" id="sent_19_4" data-start-time="537.145" data-end-time="542.105">How are we proving to this website that we've logged into Google or this other authentication platform?</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_20" data-paragraph-idx="20" data-start-time="542.105" data-end-time="566.625">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="542.105"></div>
                        <div class="timeline-timestamp">09:02</div>
                    </div>
                    <div class="paragraph-text" id="text-para_20"><span class="transcript-sentence" id="sent_20_0" data-start-time="542.105" data-end-time="554.83">And once we've actually logged in and we continue making GET requests, for example, how does the website know that we've already logged in and can show us different permissions based on who we say we are?</span> <span class="transcript-sentence" id="sent_20_1" data-start-time="555.47003" data-end-time="560.19">And we want to do all of this without trusting the client because we all saw how that turned out.</span> <span class="transcript-sentence" id="sent_20_2" data-start-time="560.19" data-end-time="560.67">Not great.</span> <span class="transcript-sentence" id="sent_20_3" data-start-time="560.67" data-end-time="561.15">Right?</span> <span class="transcript-sentence" id="sent_20_4" data-start-time="561.95" data-end-time="566.625">So we have these really cool things called sessions and tokens.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_21" data-paragraph-idx="21" data-start-time="568.225" data-end-time="594.26">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="568.225"></div>
                        <div class="timeline-timestamp">09:28</div>
                    </div>
                    <div class="paragraph-text" id="text-para_21"><span class="transcript-sentence" id="sent_21_0" data-start-time="568.225" data-end-time="568.625">Okay.</span> <span class="transcript-sentence" id="sent_21_1" data-start-time="568.625" data-end-time="570.385">So let's talk about sessions first.</span> <span class="transcript-sentence" id="sent_21_2" data-start-time="571.105" data-end-time="577.90497">So what sessions do essentially is now when a user is logging in, they're going to send their credentials over to the server.</span> <span class="transcript-sentence" id="sent_21_3" data-start-time="578.58" data-end-time="585.30005">And the server is going to store all of the user's information in something called, like, a global session lookup table.</span> <span class="transcript-sentence" id="sent_21_4" data-start-time="585.54004" data-end-time="594.26">Essentially, it's just this table that is globally accessible, and it'll have information with a session ID corresponding to all of the user's information.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_22" data-paragraph-idx="22" data-start-time="594.44495" data-end-time="635.29504">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="594.44495"></div>
                        <div class="timeline-timestamp">09:54</div>
                    </div>
                    <div class="paragraph-text" id="text-para_22"><span class="transcript-sentence" id="sent_22_0" data-start-time="594.44495" data-end-time="599.885">So like here, you see like my username and my user ID and I have this uniquely generated session ID.</span> <span class="transcript-sentence" id="sent_22_1" data-start-time="601.00494" data-end-time="608.44495">Now what the server is gonna do is it's gonna send a response to the client with the uniquely generated session ID for that specific client.</span> <span class="transcript-sentence" id="sent_22_2" data-start-time="609.95996" data-end-time="619.32">And the client is going to use that session ID and send it back to the session when making future not session, send it back to the server when making future requests.</span> <span class="transcript-sentence" id="sent_22_3" data-start-time="619.32" data-end-time="628.655">So anytime the client pings the like makes a GET request in the future, they're gonna send this session ID back in the form of a cookie.</span> <span class="transcript-sentence" id="sent_22_4" data-start-time="628.655" data-end-time="635.29504">And then the server is going to be able to send a response back corresponding to that user specific unique session ID.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_23" data-paragraph-idx="23" data-start-time="636.815" data-end-time="648.68">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="636.815"></div>
                        <div class="timeline-timestamp">10:36</div>
                    </div>
                    <div class="paragraph-text" id="text-para_23"><span class="transcript-sentence" id="sent_23_0" data-start-time="636.815" data-end-time="637.215">Okay.</span> <span class="transcript-sentence" id="sent_23_1" data-start-time="637.8" data-end-time="642.2">Why do you guys think that sessions can solve the problem of verifying that we're actually logged in?</span> <span class="transcript-sentence" id="sent_23_2" data-start-time="642.2" data-end-time="643.64">Turn and talk to a neighbor.</span> <span class="transcript-sentence" id="sent_23_3" data-start-time="644.36" data-end-time="647.56">Like, how does this solve all the dilemmas that we just talked about earlier?</span> <span class="transcript-sentence" id="sent_23_4" data-start-time="647.56" data-end-time="648.68">What do you guys think?</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_24" data-paragraph-idx="24" data-start-time="648.68" data-end-time="761.365">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="648.68"></div>
                        <div class="timeline-timestamp">10:48</div>
                    </div>
                    <div class="paragraph-text" id="text-para_24"><span class="transcript-sentence" id="sent_24_0" data-start-time="648.68" data-end-time="650.705">Give you, like, thirty seconds.</span> <span class="transcript-sentence" id="sent_24_1" data-start-time="732.41504" data-end-time="733.775">Okay.</span> <span class="transcript-sentence" id="sent_24_2" data-start-time="742.41504" data-end-time="744.655">Hopefully you guys had time to think about it.</span> <span class="transcript-sentence" id="sent_24_3" data-start-time="744.97504" data-end-time="750.36">But does anyone want to take a stab at how sessions solve the problem for us?</span> <span class="transcript-sentence" id="sent_24_4" data-start-time="760.885" data-end-time="761.365">Okay.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_25" data-paragraph-idx="25" data-start-time="761.365" data-end-time="792.655">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="761.365"></div>
                        <div class="timeline-timestamp">12:41</div>
                    </div>
                    <div class="paragraph-text" id="text-para_25"><span class="transcript-sentence" id="sent_25_0" data-start-time="761.365" data-end-time="762.165">It's okay.</span> <span class="transcript-sentence" id="sent_25_1" data-start-time="762.565" data-end-time="764.245">I understand.</span> <span class="transcript-sentence" id="sent_25_2" data-start-time="764.725" data-end-time="776.70996">But basically, right, so sessions remember when we like, we're looking at the diagram previously, we saw that the server was storing all of the user's information on the server side.</span> <span class="transcript-sentence" id="sent_25_3" data-start-time="776.70996" data-end-time="777.02997">Right?</span> <span class="transcript-sentence" id="sent_25_4" data-start-time="777.02997" data-end-time="792.655">So all of the user information is being stored securely by the server, like stuff like username, right, user ID, and the only thing that the client is actually getting is the session ID that was generated by the server, and they're just sending it back in the form of a cookie on future requests.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_26" data-paragraph-idx="26" data-start-time="793.375" data-end-time="831.49506">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="793.375"></div>
                        <div class="timeline-timestamp">13:13</div>
                    </div>
                    <div class="paragraph-text" id="text-para_26"><span class="transcript-sentence" id="sent_26_0" data-start-time="793.375" data-end-time="801.455">So now all the sensitive information is stored securely on the server instead of having the client send their information and their credentials back to the server.</span> <span class="transcript-sentence" id="sent_26_1" data-start-time="802.83" data-end-time="817.23004">So this is more secure, right, because we can see that instead of the scenarios we were describing previously, where the client can just modify their query parameters or modify their IP address, now the server is securely storing all of the information about a user.</span> <span class="transcript-sentence" id="sent_26_2" data-start-time="817.23004" data-end-time="825.335">And the only thing that the user is getting is the session ID, which they're gonna send back in the form of a cookie on future requests.</span> <span class="transcript-sentence" id="sent_26_3" data-start-time="826.775" data-end-time="829.495">So our session is stored on server on our server.</span> <span class="transcript-sentence" id="sent_26_4" data-start-time="829.495" data-end-time="831.49506">This is kinda like the key point of sessions.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_27" data-paragraph-idx="27" data-start-time="831.815" data-end-time="851.70496">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="831.815"></div>
                        <div class="timeline-timestamp">13:51</div>
                    </div>
                    <div class="paragraph-text" id="text-para_27"><span class="transcript-sentence" id="sent_27_0" data-start-time="831.815" data-end-time="833.815">But there's a couple of issues with this too.</span> <span class="transcript-sentence" id="sent_27_1" data-start-time="835.22" data-end-time="837.86">Let's say we have multiple different servers.</span> <span class="transcript-sentence" id="sent_27_2" data-start-time="837.86" data-end-time="838.42">Right?</span> <span class="transcript-sentence" id="sent_27_3" data-start-time="838.66" data-end-time="847.22">Can you guys, like, think for, like, twenty seconds about, like, what's one potential problem that we might have if we use sessions and we're running, like, multiple different servers?</span> <span class="transcript-sentence" id="sent_27_4" data-start-time="850.02496" data-end-time="851.70496">Feel free to talk with each other also.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_28" data-paragraph-idx="28" data-start-time="878.755" data-end-time="900.35004">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="878.755"></div>
                        <div class="timeline-timestamp">14:38</div>
                    </div>
                    <div class="paragraph-text" id="text-para_28"><span class="transcript-sentence" id="sent_28_0" data-start-time="878.755" data-end-time="879.235">Okay.</span> <span class="transcript-sentence" id="sent_28_1" data-start-time="879.235" data-end-time="880.03503">So yeah.</span> <span class="transcript-sentence" id="sent_28_2" data-start-time="880.59503" data-end-time="890.51">When storing data on multiple different servers, you can imagine that each server now needs to store its own global lookup table for the session IDs.</span> <span class="transcript-sentence" id="sent_28_3" data-start-time="890.51" data-end-time="890.99005">Right?</span> <span class="transcript-sentence" id="sent_28_4" data-start-time="891.07" data-end-time="900.35004">And so this can get kind of messy because now we have like five different servers with five different global lookup tables and like so many users using our platform, it can get kind of messy.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_29" data-paragraph-idx="29" data-start-time="900.35004" data-end-time="920.41">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="900.35004"></div>
                        <div class="timeline-timestamp">15:00</div>
                    </div>
                    <div class="paragraph-text" id="text-para_29"><span class="transcript-sentence" id="sent_29_0" data-start-time="900.35004" data-end-time="907.73505">So sessions run into the issue of scalability, and it can be kind of difficult to translate when you're trying to run multiple servers at once.</span> <span class="transcript-sentence" id="sent_29_1" data-start-time="908.135" data-end-time="910.29504">But besides that, sessions are still useful.</span> <span class="transcript-sentence" id="sent_29_2" data-start-time="910.29504" data-end-time="915.495">So we're not saying sessions are bad, we're just saying like this is one of the cons of sessions to keep take into consideration.</span> <span class="transcript-sentence" id="sent_29_3" data-start-time="916.88995" data-end-time="920.00995">So another thing we have are tokens.</span> <span class="transcript-sentence" id="sent_29_4" data-start-time="920.00995" data-end-time="920.41">Right?</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_30" data-paragraph-idx="30" data-start-time="920.41" data-end-time="952.83">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="920.41"></div>
                        <div class="timeline-timestamp">15:20</div>
                    </div>
                    <div class="paragraph-text" id="text-para_30"><span class="transcript-sentence" id="sent_30_0" data-start-time="920.41" data-end-time="925.93">So tokens are able to solve this problem of scalability that we previously saw with sessions.</span> <span class="transcript-sentence" id="sent_30_1" data-start-time="926.73" data-end-time="930.73">The way that tokens work is that a user is going to submit their login form.</span> <span class="transcript-sentence" id="sent_30_2" data-start-time="930.73" data-end-time="935.305">So they're sending the post request to the server, pinging the API login endpoint.</span> <span class="transcript-sentence" id="sent_30_3" data-start-time="936.185" data-end-time="944.985">And the server is going to take in the user's credentials and create a unique JSON web token object for the client.</span> <span class="transcript-sentence" id="sent_30_4" data-start-time="948.59" data-end-time="952.83">Now the client is going to put this token in their local storage.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_31" data-paragraph-idx="31" data-start-time="954.91003" data-end-time="990.07495">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="954.91003"></div>
                        <div class="timeline-timestamp">15:54</div>
                    </div>
                    <div class="paragraph-text" id="text-para_31"><span class="transcript-sentence" id="sent_31_0" data-start-time="954.91003" data-end-time="957.23004">And upon make or sorry.</span> <span class="transcript-sentence" id="sent_31_1" data-start-time="957.39" data-end-time="969.365">In making future requests, the client is going to send this token back to the server with the signed header that is going to get decrypted by the server and validated upon future requests.</span> <span class="transcript-sentence" id="sent_31_2" data-start-time="969.525" data-end-time="975.365">So the token actually carries the user's credentials, but very securely because you can't spoof a token.</span> <span class="transcript-sentence" id="sent_31_3" data-start-time="975.56" data-end-time="985.95996">So it's going to carry the user's credentials, and the server is going to be able to decrypt this token and use it to basically give the user all of its information that it should have access to.</span> <span class="transcript-sentence" id="sent_31_4" data-start-time="986.44" data-end-time="990.07495">And so let's contrast this with sessions.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_32" data-paragraph-idx="32" data-start-time="990.07495" data-end-time="1012.33">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="990.07495"></div>
                        <div class="timeline-timestamp">16:30</div>
                    </div>
                    <div class="paragraph-text" id="text-para_32"><span class="transcript-sentence" id="sent_32_0" data-start-time="990.07495" data-end-time="990.315">Right?</span> <span class="transcript-sentence" id="sent_32_1" data-start-time="990.315" data-end-time="992.71497">So remember sessions, we had this global lookup table.</span> <span class="transcript-sentence" id="sent_32_2" data-start-time="992.71497" data-end-time="995.595">It stores all the user information on the server side.</span> <span class="transcript-sentence" id="sent_32_3" data-start-time="995.755" data-end-time="1005.21">And with tokens, instead, the user information or sorry, the user credentials are stored in this token object, but this token object is encrypted very securely.</span> <span class="transcript-sentence" id="sent_32_4" data-start-time="1005.21" data-end-time="1012.33">And so the server is decrypting this token using the token's header that gets sent back when the client makes future requests.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_33" data-paragraph-idx="33" data-start-time="1015.955" data-end-time="1029.5">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1015.955"></div>
                        <div class="timeline-timestamp">16:55</div>
                    </div>
                    <div class="paragraph-text" id="text-para_33"><span class="transcript-sentence" id="sent_33_0" data-start-time="1015.955" data-end-time="1018.115">So turn and talk to your neighbor again.</span> <span class="transcript-sentence" id="sent_33_1" data-start-time="1018.115" data-end-time="1023.315">Why do you think tokens solve the problem of verifying that we're logged in securely upon making future requests?</span> <span class="transcript-sentence" id="sent_33_2" data-start-time="1023.315" data-end-time="1025.715">How is this different than the dilemmas we described before?</span> <span class="transcript-sentence" id="sent_33_3" data-start-time="1025.715" data-end-time="1026.915">How is it different than sessions?</span> <span class="transcript-sentence" id="sent_33_4" data-start-time="1027.26" data-end-time="1029.5">I'll give you guys, like, thirty seconds to talk about it.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_34" data-paragraph-idx="34" data-start-time="1093.0499" data-end-time="1106.995">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1093.0499"></div>
                        <div class="timeline-timestamp">18:13</div>
                    </div>
                    <div class="paragraph-text" id="text-para_34"><span class="transcript-sentence" id="sent_34_0" data-start-time="1093.0499" data-end-time="1093.5299">Okay.</span> <span class="transcript-sentence" id="sent_34_1" data-start-time="1093.5299" data-end-time="1096.6499">So hopefully you guys had some time to discuss it once again.</span> <span class="transcript-sentence" id="sent_34_2" data-start-time="1096.89" data-end-time="1100.49">Now, would anyone like to, I don't know, offer an answer?</span> <span class="transcript-sentence" id="sent_34_3" data-start-time="1105.875" data-end-time="1106.275">Okay.</span> <span class="transcript-sentence" id="sent_34_4" data-start-time="1106.275" data-end-time="1106.995">It's okay.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_35" data-paragraph-idx="35" data-start-time="1107.795" data-end-time="1137.515">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1107.795"></div>
                        <div class="timeline-timestamp">18:27</div>
                    </div>
                    <div class="paragraph-text" id="text-para_35"><span class="transcript-sentence" id="sent_35_0" data-start-time="1107.795" data-end-time="1112.355">But basically, token solve the problem for us because tokens can't be spoofed.</span> <span class="transcript-sentence" id="sent_35_1" data-start-time="1112.355" data-end-time="1113.715">So I mentioned this before, right?</span> <span class="transcript-sentence" id="sent_35_2" data-start-time="1113.715" data-end-time="1127.7899">We can spoof our IP addresses, we can very easily change or delete our URL query parameters, but tokens cannot be spoofed because they are, like, these securely created JSON objects that then send back the signature that gets decrypted by the server.</span> <span class="transcript-sentence" id="sent_35_3" data-start-time="1127.7899" data-end-time="1130.4299">So only the server can decrypt the tokens for us.</span> <span class="transcript-sentence" id="sent_35_4" data-start-time="1130.5099" data-end-time="1137.515">And a user cannot forge a token, which is why we're not really trusting the client even though it might seem like the client is sending the token back.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_36" data-paragraph-idx="36" data-start-time="1137.515" data-end-time="1159.91">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1137.515"></div>
                        <div class="timeline-timestamp">18:57</div>
                    </div>
                    <div class="paragraph-text" id="text-para_36"><span class="transcript-sentence" id="sent_36_0" data-start-time="1137.515" data-end-time="1141.755">We're not trusting the client because the client cannot forge this token.</span> <span class="transcript-sentence" id="sent_36_1" data-start-time="1141.755" data-end-time="1145.755">This token was securely generated by the server, and the client is simply sending it back.</span> <span class="transcript-sentence" id="sent_36_2" data-start-time="1146.39" data-end-time="1150.07">Let's do a quick review of the difference between sessions and tokens.</span> <span class="transcript-sentence" id="sent_36_3" data-start-time="1150.15" data-end-time="1154.39">So with sessions, the authentication details are stored on the server side.</span> <span class="transcript-sentence" id="sent_36_4" data-start-time="1154.55" data-end-time="1159.91">With tokens, the user itself is storing their authentication details in the form of the token itself.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_37" data-paragraph-idx="37" data-start-time="1161.3351" data-end-time="1197.085">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1161.3351"></div>
                        <div class="timeline-timestamp">19:21</div>
                    </div>
                    <div class="paragraph-text" id="text-para_37"><span class="transcript-sentence" id="sent_37_0" data-start-time="1161.3351" data-end-time="1167.255">When making future requests, the user is going to send back a cookie with sessions to have the request authorized.</span> <span class="transcript-sentence" id="sent_37_1" data-start-time="1167.255" data-end-time="1170.135">But with tokens, the user sends back the token itself.</span> <span class="transcript-sentence" id="sent_37_2" data-start-time="1170.615" data-end-time="1179.0499">And what the server does in the case of sessions is it's going to go to its database and find the session thanks to the ID that was sent with the cookie.</span> <span class="transcript-sentence" id="sent_37_3" data-start-time="1179.0499" data-end-time="1186.73">And once it finds the session in the global lookup table, it can send back all of the user information and verify that the user credentials are correct.</span> <span class="transcript-sentence" id="sent_37_4" data-start-time="1187.53" data-end-time="1197.085">With tokens, the server is going to decrypt the token, verify its signature, and check that this is like an actual valid token that was generated by the server previously.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_38" data-paragraph-idx="38" data-start-time="1197.805" data-end-time="1223.415">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1197.805"></div>
                        <div class="timeline-timestamp">19:57</div>
                    </div>
                    <div class="paragraph-text" id="text-para_38"><span class="transcript-sentence" id="sent_38_0" data-start-time="1197.805" data-end-time="1200.525">So let's pose a question.</span> <span class="transcript-sentence" id="sent_38_1" data-start-time="1200.6051" data-end-time="1204.685">Do you guys think that the server can perform security actions in the case of sessions?</span> <span class="transcript-sentence" id="sent_38_2" data-start-time="1204.98" data-end-time="1207.2999">Thumbs up for yes, thumbs down for no.</span> <span class="transcript-sentence" id="sent_38_3" data-start-time="1212.9" data-end-time="1217.2999">I think like thumbs down, thumbs kind of like a mix.</span> <span class="transcript-sentence" id="sent_38_4" data-start-time="1217.2999" data-end-time="1223.415">But for sessions, the answer is actually yes because all of the authentication details are stored on the server side.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_39" data-paragraph-idx="39" data-start-time="1223.415" data-end-time="1240.22">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1223.415"></div>
                        <div class="timeline-timestamp">20:23</div>
                    </div>
                    <div class="paragraph-text" id="text-para_39"><span class="transcript-sentence" id="sent_39_0" data-start-time="1223.415" data-end-time="1223.8151">Right?</span> <span class="transcript-sentence" id="sent_39_1" data-start-time="1223.8151" data-end-time="1230.855">So this means the server can actually perform all of the security actions it needs to because all of the details are stored on the server side.</span> <span class="transcript-sentence" id="sent_39_2" data-start-time="1231.34" data-end-time="1232.38">How about for tokens?</span> <span class="transcript-sentence" id="sent_39_3" data-start-time="1232.38" data-end-time="1236.7799">Do you guys think thumbs up, the server can perform security actions, thumbs down for no?</span> <span class="transcript-sentence" id="sent_39_4" data-start-time="1239.26" data-end-time="1240.22">Yeah, exactly.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_40" data-paragraph-idx="40" data-start-time="1240.22" data-end-time="1263.65">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1240.22"></div>
                        <div class="timeline-timestamp">20:40</div>
                    </div>
                    <div class="paragraph-text" id="text-para_40"><span class="transcript-sentence" id="sent_40_0" data-start-time="1240.22" data-end-time="1241.1">Thumbs down, right?</span> <span class="transcript-sentence" id="sent_40_1" data-start-time="1241.1" data-end-time="1244.78">Because this time, the authentication details are stored on the user side.</span> <span class="transcript-sentence" id="sent_40_2" data-start-time="1244.78" data-end-time="1251.245">So the server doesn't actually have access to the or sorry, not access, but the server is not storing the authentication details.</span> <span class="transcript-sentence" id="sent_40_3" data-start-time="1251.245" data-end-time="1257.005">So on the server side, we can't really perform much security actions because the user is storing their details themselves.</span> <span class="transcript-sentence" id="sent_40_4" data-start-time="1258.77" data-end-time="1263.65">One thing to note though is that actually, it's fine.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_41" data-paragraph-idx="41" data-start-time="1263.65" data-end-time="1281.385">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1263.65"></div>
                        <div class="timeline-timestamp">21:03</div>
                    </div>
                    <div class="paragraph-text" id="text-para_41"><span class="transcript-sentence" id="sent_41_0" data-start-time="1263.65" data-end-time="1264.13">Okay.</span> <span class="transcript-sentence" id="sent_41_1" data-start-time="1265.17" data-end-time="1266.53">Does anyone have any questions?</span> <span class="transcript-sentence" id="sent_41_2" data-start-time="1268.6901" data-end-time="1272.93">I'm pause here to give you guys some time to process what we just talked about.</span> <span class="transcript-sentence" id="sent_41_3" data-start-time="1278.3451" data-end-time="1279.065">Okay.</span> <span class="transcript-sentence" id="sent_41_4" data-start-time="1279.4651" data-end-time="1281.385">So now let's talk about Catbook.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_42" data-paragraph-idx="42" data-start-time="1281.385" data-end-time="1309.0748">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1281.385"></div>
                        <div class="timeline-timestamp">21:21</div>
                    </div>
                    <div class="paragraph-text" id="text-para_42"><span class="transcript-sentence" id="sent_42_0" data-start-time="1281.385" data-end-time="1285.145">How are we incorporating all of this information that we just learned into Catbook?</span> <span class="transcript-sentence" id="sent_42_1" data-start-time="1286.97" data-end-time="1293.69">So Catbook's way of managing login is what we're going to do is we're going to have a separate auth server and a resource server.</span> <span class="transcript-sentence" id="sent_42_2" data-start-time="1293.77" data-end-time="1299.13">We talked about before how storing passwords is like really difficult, so we're just going to let Google do it for us.</span> <span class="transcript-sentence" id="sent_42_3" data-start-time="1299.13" data-end-time="1303.3949">They're going handle all the authentication details and we're hopefully not going to have to deal with it.</span> <span class="transcript-sentence" id="sent_42_4" data-start-time="1303.875" data-end-time="1309.0748">So when users initially sign in to Catbook, what they're going to do is they're going to sign in using Google.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_43" data-paragraph-idx="43" data-start-time="1309.315" data-end-time="1335.8649">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1309.315"></div>
                        <div class="timeline-timestamp">21:49</div>
                    </div>
                    <div class="paragraph-text" id="text-para_43"><span class="transcript-sentence" id="sent_43_0" data-start-time="1309.315" data-end-time="1314.97">And what Google is going to do is Google is going to generate a token for the user and be like, hey, here's your token.</span> <span class="transcript-sentence" id="sent_43_1" data-start-time="1315.13" data-end-time="1318.6499">The user is going to take this token and send it to the server.</span> <span class="transcript-sentence" id="sent_43_2" data-start-time="1318.89" data-end-time="1320.8899">The server is going to verify this token.</span> <span class="transcript-sentence" id="sent_43_3" data-start-time="1321.29" data-end-time="1326.01">And then in order for the user to stay logged in, the server is going to generate sessions for the user.</span> <span class="transcript-sentence" id="sent_43_4" data-start-time="1326.985" data-end-time="1335.8649">So remember we talked about with sessions and tokens, sessions scalability is kind of hard because we're storing all of these global lookup tables, so if we have multiple servers, it's difficult.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_44" data-paragraph-idx="44" data-start-time="1335.945" data-end-time="1365.515">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1335.945"></div>
                        <div class="timeline-timestamp">22:15</div>
                    </div>
                    <div class="paragraph-text" id="text-para_44"><span class="transcript-sentence" id="sent_44_0" data-start-time="1335.945" data-end-time="1342.71">Luckily, we only have one server, so our server can use these sessions to manage login and persist login information.</span> <span class="transcript-sentence" id="sent_44_1" data-start-time="1343.27" data-end-time="1354.79">Tokens don't have the issue of scalability, so even though Google has like millions of these millions of users in this super large platform, these tokens make it really easy because the server itself doesn't have to store the user's information.</span> <span class="transcript-sentence" id="sent_44_2" data-start-time="1356.235" data-end-time="1358.395">So here's our sign in flow proposal.</span> <span class="transcript-sentence" id="sent_44_3" data-start-time="1358.395" data-end-time="1358.955">Right?</span> <span class="transcript-sentence" id="sent_44_4" data-start-time="1358.955" data-end-time="1365.515">So I'm going to sign in to the Google auth server, and let's say it was a success.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_45" data-paragraph-idx="45" data-start-time="1365.515" data-end-time="1388.735">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1365.515"></div>
                        <div class="timeline-timestamp">22:45</div>
                    </div>
                    <div class="paragraph-text" id="text-para_45"><span class="transcript-sentence" id="sent_45_0" data-start-time="1365.515" data-end-time="1371.0349">Now I'm going to tell my server that I logged in, and the server is going to check the user database to see if I'm actually a user.</span> <span class="transcript-sentence" id="sent_45_1" data-start-time="1372.87" data-end-time="1375.59">But let's say, like, I type in the wrong password.</span> <span class="transcript-sentence" id="sent_45_2" data-start-time="1375.59" data-end-time="1376.07">Right?</span> <span class="transcript-sentence" id="sent_45_3" data-start-time="1376.31" data-end-time="1381.59">I could still theoretically tell the server that I've already successfully authenticated with Google.</span> <span class="transcript-sentence" id="sent_45_4" data-start-time="1382.15" data-end-time="1388.735">And then there's nothing stopping me from, like, as a malicious hacker, just saying that I already successfully authenticated with Google.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_46" data-paragraph-idx="46" data-start-time="1389.615" data-end-time="1405.2699">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1389.615"></div>
                        <div class="timeline-timestamp">23:09</div>
                    </div>
                    <div class="paragraph-text" id="text-para_46"><span class="transcript-sentence" id="sent_46_0" data-start-time="1389.615" data-end-time="1389.935">Right?</span> <span class="transcript-sentence" id="sent_46_1" data-start-time="1389.935" data-end-time="1395.5349">So this goes back to a point of like never trusting the client because the front end can very easily be modified.</span> <span class="transcript-sentence" id="sent_46_2" data-start-time="1396.335" data-end-time="1398.015">So that's why we're gonna use the tokens.</span> <span class="transcript-sentence" id="sent_46_3" data-start-time="1398.015" data-end-time="1398.175">Right?</span> <span class="transcript-sentence" id="sent_46_4" data-start-time="1398.175" data-end-time="1405.2699">So Google is going to generate a token for us, which remember, tokens are securely generated, cannot be spoofed by the user.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_47" data-paragraph-idx="47" data-start-time="1405.51" data-end-time="1439.35">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1405.51"></div>
                        <div class="timeline-timestamp">23:25</div>
                    </div>
                    <div class="paragraph-text" id="text-para_47"><span class="transcript-sentence" id="sent_47_0" data-start-time="1405.51" data-end-time="1417.705">So now, we take this token and we give our token to the server and say, yeah, I did actually log in with Google and my token is proof that I've successfully authenticated with Google because I can't, like, forge this token.</span> <span class="transcript-sentence" id="sent_47_1" data-start-time="1419.465" data-end-time="1426.265">So now the server is going to make sure this is a legit token by checking in the Google auth library that it was very conveniently set up for us.</span> <span class="transcript-sentence" id="sent_47_2" data-start-time="1427.59" data-end-time="1432.6299">And then once it verifies that it's a legit token, it's going to check the user database.</span> <span class="transcript-sentence" id="sent_47_3" data-start-time="1433.51" data-end-time="1437.11">It's not going to work if you're a hacker because the hacker is not going to get a token.</span> <span class="transcript-sentence" id="sent_47_4" data-start-time="1437.11" data-end-time="1439.35">So this sign in flow is not going to work.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_48" data-paragraph-idx="48" data-start-time="1440.1549" data-end-time="1530.5449">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1440.1549"></div>
                        <div class="timeline-timestamp">24:00</div>
                    </div>
                    <div class="paragraph-text" id="text-para_48"><span class="transcript-sentence" id="sent_48_0" data-start-time="1440.1549" data-end-time="1448.7148">Even if you, like, spoof a token, the server is going to check-in the Google auth library and see that this is a forged token, so you're not gonna be able to get your information.</span> <span class="transcript-sentence" id="sent_48_1" data-start-time="1449.595" data-end-time="1450.075">Okay.</span> <span class="transcript-sentence" id="sent_48_2" data-start-time="1450.075" data-end-time="1451.5948">So now let's demo this.</span> <span class="transcript-sentence" id="sent_48_3" data-start-time="1452.475" data-end-time="1454.875">You guys can also take, like, a two minute break while we get set up.</span> <span class="transcript-sentence" id="sent_48_4" data-start-time="1529.905" data-end-time="1530.5449">Okay.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_49" data-paragraph-idx="49" data-start-time="1530.625" data-end-time="1553.93">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1530.625"></div>
                        <div class="timeline-timestamp">25:30</div>
                    </div>
                    <div class="paragraph-text" id="text-para_49"><span class="transcript-sentence" id="sent_49_0" data-start-time="1530.625" data-end-time="1536.7849">So now let's take a quick look at how we can actually see our tokens and cookies being sent.</span> <span class="transcript-sentence" id="sent_49_1" data-start-time="1537.585" data-end-time="1539.985">So let's navigate to Catbook.</span> <span class="transcript-sentence" id="sent_49_2" data-start-time="1540.25" data-end-time="1547.37">If you guys want to follow along, can go to get checkout w five complete.</span> <span class="transcript-sentence" id="sent_49_3" data-start-time="1548.0901" data-end-time="1551.8501">And basically, what I'm going to do is I'm going to log in to Google.</span> <span class="transcript-sentence" id="sent_49_4" data-start-time="1551.8501" data-end-time="1553.93">So now we have like this sign in option.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_50" data-paragraph-idx="50" data-start-time="1553.93" data-end-time="1577.3">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1553.93"></div>
                        <div class="timeline-timestamp">25:53</div>
                    </div>
                    <div class="paragraph-text" id="text-para_50"><span class="transcript-sentence" id="sent_50_0" data-start-time="1553.93" data-end-time="1554.17">Right?</span> <span class="transcript-sentence" id="sent_50_1" data-start-time="1554.17" data-end-time="1555.05">So I'm gonna log in.</span> <span class="transcript-sentence" id="sent_50_2" data-start-time="1559.025" data-end-time="1560.5449">I'll log in as myself.</span> <span class="transcript-sentence" id="sent_50_3" data-start-time="1565.745" data-end-time="1571.54">And we'll see that once I've logged in, right, I should be able to go to inspect.</span> <span class="transcript-sentence" id="sent_50_4" data-start-time="1574.9" data-end-time="1577.3">And I can go to network tab.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_51" data-paragraph-idx="51" data-start-time="1579.6201" data-end-time="1603.4099">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1579.6201"></div>
                        <div class="timeline-timestamp">26:19</div>
                    </div>
                    <div class="paragraph-text" id="text-para_51"><span class="transcript-sentence" id="sent_51_0" data-start-time="1579.6201" data-end-time="1580.5">Let's refresh.</span> <span class="transcript-sentence" id="sent_51_1" data-start-time="1590.185" data-end-time="1591.225">Let's sign out.</span> <span class="transcript-sentence" id="sent_51_2" data-start-time="1591.225" data-end-time="1592.025">Sign in again.</span> <span class="transcript-sentence" id="sent_51_3" data-start-time="1597.6499" data-end-time="1603.09">We should see this login if we go to our network tab.</span> <span class="transcript-sentence" id="sent_51_4" data-start-time="1603.09" data-end-time="1603.4099">Right?</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_52" data-paragraph-idx="52" data-start-time="1603.4099" data-end-time="1634.02">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1603.4099"></div>
                        <div class="timeline-timestamp">26:43</div>
                    </div>
                    <div class="paragraph-text" id="text-para_52"><span class="transcript-sentence" id="sent_52_0" data-start-time="1603.4099" data-end-time="1607.8899">And so this is us ping the login endpoint on our Catbook server.</span> <span class="transcript-sentence" id="sent_52_1" data-start-time="1608.865" data-end-time="1617.7449">And if we go to the if we click on the request, right, we can see, like, the request URL is being sent to our API login endpoint is a post request.</span> <span class="transcript-sentence" id="sent_52_2" data-start-time="1617.985" data-end-time="1624.26">And we can also see that if we go to the payload, we have our token here.</span> <span class="transcript-sentence" id="sent_52_3" data-start-time="1624.42" data-end-time="1631.22">So this is the token that Google is actually giving to us upon authorizing with the Google auth library.</span> <span class="transcript-sentence" id="sent_52_4" data-start-time="1631.3" data-end-time="1634.02">And so what we can do is we can actually take this token.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_53" data-paragraph-idx="53" data-start-time="1635.005" data-end-time="1665.525">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1635.005"></div>
                        <div class="timeline-timestamp">27:15</div>
                    </div>
                    <div class="paragraph-text" id="text-para_53"><span class="transcript-sentence" id="sent_53_0" data-start-time="1635.005" data-end-time="1641.725">It's pretty cool because you can take this token and you can go to this website called jwt.io.</span> <span class="transcript-sentence" id="sent_53_1" data-start-time="1642.2051" data-end-time="1647.9651">And you can actually try and follow along and paste the token that you get into jwt..io.</span> <span class="transcript-sentence" id="sent_53_2" data-start-time="1647.9651" data-end-time="1650.97">And you can see that we have our encoded token here.</span> <span class="transcript-sentence" id="sent_53_3" data-start-time="1650.97" data-end-time="1656.49">And once we decode it, we actually have a lot of information that is stored in this token.</span> <span class="transcript-sentence" id="sent_53_4" data-start-time="1656.57" data-end-time="1665.525">So we can see things like my email address, my name, and also like all the other user credentials that are actually being stored within this token.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_54" data-paragraph-idx="54" data-start-time="1666.3251" data-end-time="1700.245">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1666.3251"></div>
                        <div class="timeline-timestamp">27:46</div>
                    </div>
                    <div class="paragraph-text" id="text-para_54"><span class="transcript-sentence" id="sent_54_0" data-start-time="1666.3251" data-end-time="1669.4451">But the header and the payload of this token are not actually secure.</span> <span class="transcript-sentence" id="sent_54_1" data-start-time="1669.4451" data-end-time="1673.765">It's just like base 64 encoded, so it's very easily decryptable.</span> <span class="transcript-sentence" id="sent_54_2" data-start-time="1673.765" data-end-time="1681.72">But what actually makes it secure is the signature part of the token, which I've, like, deleted just for, like, security purposes.</span> <span class="transcript-sentence" id="sent_54_3" data-start-time="1681.88" data-end-time="1685.3999">But, basically, the signature is what actually makes a token secure.</span> <span class="transcript-sentence" id="sent_54_4" data-start-time="1688.36" data-end-time="1700.245">So, yeah, you guys can see, like, if you check the login post request and you go to the request payload, you should be able to see the token that Google is sending to you to the client to prove that they have logged in.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_55" data-paragraph-idx="55" data-start-time="1701.925" data-end-time="1710.54">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1701.925"></div>
                        <div class="timeline-timestamp">28:21</div>
                    </div>
                    <div class="paragraph-text" id="text-para_55"><span class="transcript-sentence" id="sent_55_0" data-start-time="1701.925" data-end-time="1702.3251">Okay.</span> <span class="transcript-sentence" id="sent_55_1" data-start-time="1702.3251" data-end-time="1704.645">So now let's talk about our cookies.</span> <span class="transcript-sentence" id="sent_55_2" data-start-time="1704.7251" data-end-time="1705.8451">So we got our token.</span> <span class="transcript-sentence" id="sent_55_3" data-start-time="1705.8451" data-end-time="1706.0851">Right?</span> <span class="transcript-sentence" id="sent_55_4" data-start-time="1706.0851" data-end-time="1710.54">So if we go back to Catbook, now let's take a look at our cookies.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_56" data-paragraph-idx="56" data-start-time="1710.54" data-end-time="1752.6549">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1710.54"></div>
                        <div class="timeline-timestamp">28:30</div>
                    </div>
                    <div class="paragraph-text" id="text-para_56"><span class="transcript-sentence" id="sent_56_0" data-start-time="1710.54" data-end-time="1726.9949">You can go to the cookies tab, and we notice that we have like this connect dot sid cookie, which is also shown like if we go to the headers of the login request, we should also see like we have this cookie right right here where it starts with, like, g enabled.</span> <span class="transcript-sentence" id="sent_56_1" data-start-time="1728.195" data-end-time="1732.995">And so this cookie is actually enabling us to stay logged in.</span> <span class="transcript-sentence" id="sent_56_2" data-start-time="1732.995" data-end-time="1745.54">So once we've pinged the login endpoint and Google has given us a token, we then take that token, give it to the server, and the server will generate this cookie for us to ensure that we can stay logged in even if I refresh the page.</span> <span class="transcript-sentence" id="sent_56_3" data-start-time="1745.54" data-end-time="1748.58">So you see that, like, even if I refresh Catbook, right, I'm still logged in.</span> <span class="transcript-sentence" id="sent_56_4" data-start-time="1748.58" data-end-time="1752.6549">Like, the sign out button is still there, which means I haven't been signed out.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_57" data-paragraph-idx="57" data-start-time="1753.0549" data-end-time="1784.695">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1753.0549"></div>
                        <div class="timeline-timestamp">29:13</div>
                    </div>
                    <div class="paragraph-text" id="text-para_57"><span class="transcript-sentence" id="sent_57_0" data-start-time="1753.0549" data-end-time="1756.095">And what we can try is oops.</span> <span class="transcript-sentence" id="sent_57_1" data-start-time="1756.415" data-end-time="1761.9349">We can try it to look at is, let's say we, like, go back to the cookie.</span> <span class="transcript-sentence" id="sent_57_2" data-start-time="1763.29" data-end-time="1765.0499">Let me log in again.</span> <span class="transcript-sentence" id="sent_57_3" data-start-time="1770.5701" data-end-time="1776.49">Let's go back to it and let's like try like going to our headers.</span> <span class="transcript-sentence" id="sent_57_4" data-start-time="1779.495" data-end-time="1784.695">Looks like application.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_58" data-paragraph-idx="58" data-start-time="1784.7749" data-end-time="1808.2749">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1784.7749"></div>
                        <div class="timeline-timestamp">29:44</div>
                    </div>
                    <div class="paragraph-text" id="text-para_58"><span class="transcript-sentence" id="sent_58_0" data-start-time="1784.7749" data-end-time="1786.2949">And let's like delete the cookie.</span> <span class="transcript-sentence" id="sent_58_1" data-start-time="1786.2949" data-end-time="1786.5349">Okay?</span> <span class="transcript-sentence" id="sent_58_2" data-start-time="1786.5349" data-end-time="1788.615">So I'm just gonna like manually delete this cookie.</span> <span class="transcript-sentence" id="sent_58_3" data-start-time="1790.87" data-end-time="1795.83">And you should notice now that if I refresh, I'll automatically be signed out.</span> <span class="transcript-sentence" id="sent_58_4" data-start-time="1795.99" data-end-time="1808.2749">So if you delete the cookie just like manually, you're no longer going to be signed into Catbook, right, because you're no longer going to be able to send requests back with the cookie to the server to prove that you've already logged in.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_59" data-paragraph-idx="59" data-start-time="1808.355" data-end-time="1833.3049">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1808.355"></div>
                        <div class="timeline-timestamp">30:08</div>
                    </div>
                    <div class="paragraph-text" id="text-para_59"><span class="transcript-sentence" id="sent_59_0" data-start-time="1808.355" data-end-time="1813.1549">So this is how our Catbook server is able to manage users and persist their sessions.</span> <span class="transcript-sentence" id="sent_59_1" data-start-time="1815.45" data-end-time="1815.85">Yeah.</span> <span class="transcript-sentence" id="sent_59_2" data-start-time="1815.85" data-end-time="1820.33">So it's kind of talked about how if we manually delete the cookie, we automatically get logged out.</span> <span class="transcript-sentence" id="sent_59_3" data-start-time="1822.25" data-end-time="1830.2499">And remember that when we make future requests and we ping like other endpoints, we are actually sending the cookie back as identity verification.</span> <span class="transcript-sentence" id="sent_59_4" data-start-time="1830.33" data-end-time="1833.3049">So we can see that, like, if I just, like, sign in again.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_60" data-paragraph-idx="60" data-start-time="1835.705" data-end-time="1867.1349">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1835.705"></div>
                        <div class="timeline-timestamp">30:35</div>
                    </div>
                    <div class="paragraph-text" id="text-para_60"><span class="transcript-sentence" id="sent_60_0" data-start-time="1835.705" data-end-time="1839.225">I should be able to see, like, in my network tab that I have, like, other requests.</span> <span class="transcript-sentence" id="sent_60_1" data-start-time="1839.225" data-end-time="1839.465">Right?</span> <span class="transcript-sentence" id="sent_60_2" data-start-time="1839.465" data-end-time="1841.7849">So I'm, like, making other requests.</span> <span class="transcript-sentence" id="sent_60_3" data-start-time="1841.7849" data-end-time="1864.4149">So I should have, like, Like when I make comment requests, you can notice that I'm like sending the cookie in the request each time I make a get request to our server.</span> <span class="transcript-sentence" id="sent_60_4" data-start-time="1866.4149" data-end-time="1867.1349">Okay.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_61" data-paragraph-idx="61" data-start-time="1867.1349" data-end-time="1889.46">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1867.1349"></div>
                        <div class="timeline-timestamp">31:07</div>
                    </div>
                    <div class="paragraph-text" id="text-para_61"><span class="transcript-sentence" id="sent_61_0" data-start-time="1867.1349" data-end-time="1869.7749">So that was kind of like a lot of information.</span> <span class="transcript-sentence" id="sent_61_1" data-start-time="1869.7749" data-end-time="1872.8949">So let's recap really quickly before we dive into the workshop.</span> <span class="transcript-sentence" id="sent_61_2" data-start-time="1873.695" data-end-time="1876.74">Let's talk about the difference between authentication and authorization.</span> <span class="transcript-sentence" id="sent_61_3" data-start-time="1876.9" data-end-time="1880.6599">So authentication is a process of use verifying our users credentials.</span> <span class="transcript-sentence" id="sent_61_4" data-start-time="1881.0599" data-end-time="1889.46">So this is like, if Sophie is visiting my house, authentication would be like me saying, Sophie, I recognize Sophie and Sophie can't enter my house.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_62" data-paragraph-idx="62" data-start-time="1890.235" data-end-time="1923.705">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1890.235"></div>
                        <div class="timeline-timestamp">31:30</div>
                    </div>
                    <div class="paragraph-text" id="text-para_62"><span class="transcript-sentence" id="sent_62_0" data-start-time="1890.235" data-end-time="1899.0349">Authorization is a process of actually verifying the user's permissions and rendering different things conditionally depending on what permissions that user might have.</span> <span class="transcript-sentence" id="sent_62_1" data-start-time="1899.195" data-end-time="1908.46">So if Sophie comes over to my house, like, yes, I recognize her, but do I give her the permission or the authorization to enter my bathroom or, like, enter certain rooms inside of my house?</span> <span class="transcript-sentence" id="sent_62_2" data-start-time="1909.8201" data-end-time="1912.14">We saw that it's really hard to trust the client.</span> <span class="transcript-sentence" id="sent_62_3" data-start-time="1912.14" data-end-time="1920.1849">We can't trust things that the user is saying because URL query parameters, you can like delete these, change these IP addresses, you can spoof them.</span> <span class="transcript-sentence" id="sent_62_4" data-start-time="1920.345" data-end-time="1923.705">So we need to use something that's a little bit more secure.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_63" data-paragraph-idx="63" data-start-time="1923.705" data-end-time="1948.495">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1923.705"></div>
                        <div class="timeline-timestamp">32:03</div>
                    </div>
                    <div class="paragraph-text" id="text-para_63"><span class="transcript-sentence" id="sent_63_0" data-start-time="1923.705" data-end-time="1925.865">So we're going to use sessions and tokens.</span> <span class="transcript-sentence" id="sent_63_1" data-start-time="1926.425" data-end-time="1934.5499">So for us, what happens is Google Auth is taking in the user's credentials, it's generating this secure token and sending it back to the client.</span> <span class="transcript-sentence" id="sent_63_2" data-start-time="1934.71" data-end-time="1938.95">And this token is verified via the privately generated signature that we saw.</span> <span class="transcript-sentence" id="sent_63_3" data-start-time="1940.55" data-end-time="1943.4299">And then what's happening is now the user has this token.</span> <span class="transcript-sentence" id="sent_63_4" data-start-time="1943.51" data-end-time="1948.495">They can make a request to the login API endpoint in r server dot j s file of Catbook.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_64" data-paragraph-idx="64" data-start-time="1948.895" data-end-time="1983.895">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1948.895"></div>
                        <div class="timeline-timestamp">32:28</div>
                    </div>
                    <div class="paragraph-text" id="text-para_64"><span class="transcript-sentence" id="sent_64_0" data-start-time="1948.895" data-end-time="1953.535">The server can check if the token is valid by checking in the Google auth library.</span> <span class="transcript-sentence" id="sent_64_1" data-start-time="1953.535" data-end-time="1960.9199">And if it is, then the server can go check MongoDB or it can store the user's information within MongoDB.</span> <span class="transcript-sentence" id="sent_64_2" data-start-time="1960.9199" data-end-time="1966.3599">And this is like the cookie that we saw here, where if we deleted it, the user is no longer logged in.</span> <span class="transcript-sentence" id="sent_64_3" data-start-time="1967.08" data-end-time="1977.815">Now the user is going to send the cookie back that was generated by the server with its unique ID on subsequent requests to prove that the user has already been authenticated.</span> <span class="transcript-sentence" id="sent_64_4" data-start-time="1977.975" data-end-time="1983.895">And then now, the server will give authorization and, like, display your, like, cat book stories and comments.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_65" data-paragraph-idx="65" data-start-time="1985.16" data-end-time="2001.3859">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1985.16"></div>
                        <div class="timeline-timestamp">33:05</div>
                    </div>
                    <div class="paragraph-text" id="text-para_65"><span class="transcript-sentence" id="sent_65_0" data-start-time="1985.16" data-end-time="1989.48">And as we're going to see tomorrow in the sockets lecture, real time messages also.</span> <span class="transcript-sentence" id="sent_65_1" data-start-time="1991.24" data-end-time="1992.68">Does anyone have any questions?</span> <span class="transcript-sentence" id="sent_65_2" data-start-time="1998.1858" data-end-time="1998.9058">Okay.</span> <span class="transcript-sentence" id="sent_65_3" data-start-time="1998.9058" data-end-time="1999.4658">Cool.</span> <span class="transcript-sentence" id="sent_65_4" data-start-time="1999.4658" data-end-time="2001.3859">That was all for the intro to auth.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_66" data-paragraph-idx="66" data-start-time="2001.3859" data-end-time="2004.5858">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="2001.3859"></div>
                        <div class="timeline-timestamp">33:21</div>
                    </div>
                    <div class="paragraph-text" id="text-para_66"><span class="transcript-sentence" id="sent_66_0" data-start-time="2001.3859" data-end-time="2004.5858">Now Sophie is going to take you to the very meaty workshop.</span> </div>
                </div>
            </div>
        </div>
        </div>
    </div>

    <script src="./assets/js/lesson_player.js"></script>
</body>
</html>