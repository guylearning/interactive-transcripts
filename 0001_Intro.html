<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>0001 Intro - Interactive Lesson (Drive)</title>
    <!-- Dữ liệu transcript được nhúng -->
    <script id="allTranscriptData" type="application/json">
      {
        "metadata": {
          "transaction_key": "deprecated",
          "request_id": "b8df3be5-9cf4-416f-a6f6-bd53aefed9a2",
          "sha256": "e18efeb1529b3ab5500b4ac2d4c82115278c99bcf0d672849406c08b86289fa9",
          "created": "2025-05-06T05:50:41.510Z",
          "duration": 45.418686,
          "channels": 1,
          "models": ["1abfe86b-e047-4eed-858a-35e5625b41ee"],
          "model_info": {
            "1abfe86b-e047-4eed-858a-35e5625b41ee": {
              "name": "2-general-nova",
              "version": "2024-01-06.5664",
              "arch": "nova-2"
            }
          }
        },
        "results": {
          "channels": [
            {
              "alternatives": [
                {
                  "transcript": "In this section of the course, we are not going to talk about coding. Instead, we're going to talk about mindsets. You're learning how to code because maybe you want to build an app for you and your friends, or even you might want to build an entire business and replace your nine to five. Whatever this is you're trying to achieve, my goal with these following lessons of this chapter is to give you the entire mindset that I've acquired in the past six years in order for you to achieve your goals. We're going to talk about things like how to turn your idea into a reality as fast as possible so you don't burn out. We're going to talk about marketing principles for you to build a profitable business. And we are going to talk about how to become self driven, how to easily find motivation so you want to show up every day and do the work. Let's begin.",
                  "confidence": 0.99958736,
                  "words": [
                    { "word": "in", "start": 0.08, "end": 0.24, "confidence": 0.92030555, "punctuated_word": "In" },
                    { "word": "this", "start": 0.24, "end": 0.39999998, "confidence": 0.95034266, "punctuated_word": "this" },
                    { "word": "section", "start": 0.39999998, "end": 0.71999997, "confidence": 0.9997373, "punctuated_word": "section" },
                    { "word": "of", "start": 0.71999997, "end": 0.79999995, "confidence": 0.99946135, "punctuated_word": "of" },
                    { "word": "the", "start": 0.79999995, "end": 0.96, "confidence": 0.9994017, "punctuated_word": "the" },
                    { "word": "course", "start": 0.96, "end": 1.28, "confidence": 0.96802354, "punctuated_word": "course," },
                    { "word": "we", "start": 1.28, "end": 1.52, "confidence": 0.9992091, "punctuated_word": "we" },
                    { "word": "are", "start": 1.52, "end": 1.68, "confidence": 0.99928313, "punctuated_word": "are" },
                    { "word": "not", "start": 1.68, "end": 1.76, "confidence": 0.999597, "punctuated_word": "not" },
                    { "word": "going", "start": 1.76, "end": 2, "confidence": 0.99987996, "punctuated_word": "going" },
                    { "word": "to", "start": 2, "end": 2.08, "confidence": 0.9999325, "punctuated_word": "to" },
                    { "word": "talk", "start": 2.08, "end": 2.32, "confidence": 0.99985206, "punctuated_word": "talk" },
                    { "word": "about", "start": 2.32, "end": 2.6399999, "confidence": 0.9997284, "punctuated_word": "about" },
                    { "word": "coding", "start": 2.6399999, "end": 3.1399999, "confidence": 0.98843557, "punctuated_word": "coding." },
                    { "word": "instead", "start": 3.36, "end": 3.84, "confidence": 0.98018944, "punctuated_word": "Instead," },
                    { "word": "we're", "start": 3.84, "end": 4.08, "confidence": 0.97792864, "punctuated_word": "we're" },
                    { "word": "going", "start": 4.08, "end": 4.24, "confidence": 0.99958736, "punctuated_word": "going" },
                    { "word": "to", "start": 4.24, "end": 4.4, "confidence": 0.9999269, "punctuated_word": "to" },
                    { "word": "talk", "start": 4.4, "end": 4.64, "confidence": 0.9998877, "punctuated_word": "talk" },
                    { "word": "about", "start": 4.64, "end": 5.14, "confidence": 0.99993503, "punctuated_word": "about" },
                    { "word": "mindsets", "start": 5.2, "end": 5.7, "confidence": 0.8594134, "punctuated_word": "mindsets." },
                    { "word": "you're", "start": 5.92, "end": 6.16, "confidence": 0.99781036, "punctuated_word": "You're" },
                    { "word": "learning", "start": 6.16, "end": 6.56, "confidence": 0.9998078, "punctuated_word": "learning" },
                    { "word": "how", "start": 6.56, "end": 6.72, "confidence": 0.9998697, "punctuated_word": "how" },
                    { "word": "to", "start": 6.72, "end": 6.8799996, "confidence": 0.99977237, "punctuated_word": "to" },
                    { "word": "code", "start": 6.8799996, "end": 7.3599997, "confidence": 0.99983287, "punctuated_word": "code" },
                    { "word": "because", "start": 7.3599997, "end": 7.68, "confidence": 0.9882535, "punctuated_word": "because" },
                    { "word": "maybe", "start": 7.68, "end": 8, "confidence": 0.9997534, "punctuated_word": "maybe" },
                    { "word": "you", "start": 8, "end": 8.16, "confidence": 0.9998324, "punctuated_word": "you" },
                    { "word": "want", "start": 8.16, "end": 8.32, "confidence": 0.9999081, "punctuated_word": "want" },
                    { "word": "to", "start": 8.32, "end": 8.48, "confidence": 0.9999695, "punctuated_word": "to" },
                    { "word": "build", "start": 8.48, "end": 8.72, "confidence": 0.999863, "punctuated_word": "build" },
                    { "word": "an", "start": 8.72, "end": 8.96, "confidence": 0.99979156, "punctuated_word": "an" },
                    { "word": "app", "start": 8.96, "end": 9.12, "confidence": 0.9980107, "punctuated_word": "app" },
                    { "word": "for", "start": 9.12, "end": 9.28, "confidence": 0.9996991, "punctuated_word": "for" },
                    { "word": "you", "start": 9.28, "end": 9.44, "confidence": 0.9996132, "punctuated_word": "you" },
                    { "word": "and", "start": 9.44, "end": 9.599999, "confidence": 0.9995881, "punctuated_word": "and" },
                    { "word": "your", "start": 9.599999, "end": 9.76, "confidence": 0.9984028, "punctuated_word": "your" },
                    { "word": "friends", "start": 9.76, "end": 10.24, "confidence": 0.91649306, "punctuated_word": "friends," },
                    { "word": "or", "start": 10.24, "end": 10.48, "confidence": 0.9998179, "punctuated_word": "or" },
                    { "word": "even", "start": 10.48, "end": 10.719999, "confidence": 0.999879, "punctuated_word": "even" },
                    { "word": "you", "start": 10.719999, "end": 10.96, "confidence": 0.9996401, "punctuated_word": "you" },
                    { "word": "might", "start": 10.96, "end": 11.12, "confidence": 0.9998423, "punctuated_word": "might" },
                    { "word": "want", "start": 11.12, "end": 11.28, "confidence": 0.9844897, "punctuated_word": "want" },
                    { "word": "to", "start": 11.28, "end": 11.44, "confidence": 0.9999361, "punctuated_word": "to" },
                    { "word": "build", "start": 11.44, "end": 11.679999, "confidence": 0.99989736, "punctuated_word": "build" },
                    { "word": "an", "start": 11.679999, "end": 11.84, "confidence": 0.99992263, "punctuated_word": "an" },
                    { "word": "entire", "start": 11.84, "end": 12.16, "confidence": 0.9999827, "punctuated_word": "entire" },
                    { "word": "business", "start": 12.16, "end": 12.559999, "confidence": 0.9999249, "punctuated_word": "business" },
                    { "word": "and", "start": 12.559999, "end": 12.719999, "confidence": 0.9995085, "punctuated_word": "and" },
                    { "word": "replace", "start": 12.719999, "end": 13.12, "confidence": 0.99985087, "punctuated_word": "replace" },
                    { "word": "your", "start": 13.12, "end": 13.36, "confidence": 0.99965334, "punctuated_word": "your" },
                    { "word": "nine", "start": 13.36, "end": 13.5199995, "confidence": 0.99769294, "punctuated_word": "nine" },
                    { "word": "to", "start": 13.5199995, "end": 13.679999, "confidence": 0.99371076, "punctuated_word": "to" },
                    { "word": "five", "start": 13.679999, "end": 14.179999, "confidence": 0.88584363, "punctuated_word": "five." },
                    { "word": "whatever", "start": 14.3949995, "end": 14.714999, "confidence": 0.99921036, "punctuated_word": "Whatever" },
                    { "word": "this", "start": 14.714999, "end": 14.834999, "confidence": 0.93103874, "punctuated_word": "this" },
                    { "word": "is", "start": 14.834999, "end": 14.955, "confidence": 0.99719065, "punctuated_word": "is" },
                    { "word": "you're", "start": 14.955, "end": 15.275, "confidence": 0.9778032, "punctuated_word": "you're" },
                    { "word": "trying", "start": 15.275, "end": 15.434999, "confidence": 0.9997116, "punctuated_word": "trying" },
                    { "word": "to", "start": 15.434999, "end": 15.594999, "confidence": 0.99937963, "punctuated_word": "to" },
                    { "word": "achieve", "start": 15.594999, "end": 16.095, "confidence": 0.9714007, "punctuated_word": "achieve," },
                    { "word": "my", "start": 16.235, "end": 16.395, "confidence": 0.9961551, "punctuated_word": "my" },
                    { "word": "goal", "start": 16.395, "end": 16.715, "confidence": 0.9998845, "punctuated_word": "goal" },
                    { "word": "with", "start": 16.715, "end": 17.035, "confidence": 0.9938, "punctuated_word": "with" },
                    { "word": "these", "start": 17.035, "end": 17.355, "confidence": 0.86507845, "punctuated_word": "these" },
                    { "word": "following", "start": 17.355, "end": 17.855, "confidence": 0.99909914, "punctuated_word": "following" },
                    { "word": "lessons", "start": 17.914999, "end": 18.314999, "confidence": 0.99934095, "punctuated_word": "lessons" },
                    { "word": "of", "start": 18.314999, "end": 18.474998, "confidence": 0.99919885, "punctuated_word": "of" },
                    { "word": "this", "start": 18.474998, "end": 18.715, "confidence": 0.996636, "punctuated_word": "this" },
                    { "word": "chapter", "start": 18.715, "end": 19.215, "confidence": 0.9996395, "punctuated_word": "chapter" },
                    { "word": "is", "start": 19.275, "end": 19.515, "confidence": 0.97052807, "punctuated_word": "is" },
                    { "word": "to", "start": 19.515, "end": 19.595, "confidence": 0.99992824, "punctuated_word": "to" },
                    { "word": "give", "start": 19.595, "end": 19.755, "confidence": 0.99996006, "punctuated_word": "give" },
                    { "word": "you", "start": 19.755, "end": 19.914999, "confidence": 0.99993134, "punctuated_word": "you" },
                    { "word": "the", "start": 19.914999, "end": 20.154999, "confidence": 0.9998233, "punctuated_word": "the" },
                    { "word": "entire", "start": 20.154999, "end": 20.555, "confidence": 0.99989164, "punctuated_word": "entire" },
                    { "word": "mindset", "start": 20.555, "end": 20.955, "confidence": 0.9997398, "punctuated_word": "mindset" },
                    { "word": "that", "start": 20.955, "end": 21.195, "confidence": 0.99917126, "punctuated_word": "that" },
                    { "word": "i've", "start": 21.195, "end": 21.435, "confidence": 0.92683583, "punctuated_word": "I've" },
                    { "word": "acquired", "start": 21.435, "end": 21.835, "confidence": 0.9994487, "punctuated_word": "acquired" },
                    { "word": "in", "start": 21.835, "end": 21.994999, "confidence": 0.99975854, "punctuated_word": "in" },
                    { "word": "the", "start": 21.994999, "end": 22.154999, "confidence": 0.9998585, "punctuated_word": "the" },
                    { "word": "past", "start": 22.154999, "end": 22.474998, "confidence": 0.9997608, "punctuated_word": "past" },
                    { "word": "six", "start": 22.474998, "end": 22.715, "confidence": 0.99969983, "punctuated_word": "six" },
                    { "word": "years", "start": 22.715, "end": 23.115, "confidence": 0.9999058, "punctuated_word": "years" },
                    { "word": "in", "start": 23.115, "end": 23.275, "confidence": 0.90626997, "punctuated_word": "in" },
                    { "word": "order", "start": 23.275, "end": 23.515, "confidence": 0.99985266, "punctuated_word": "order" },
                    { "word": "for", "start": 23.515, "end": 23.675, "confidence": 0.9999176, "punctuated_word": "for" },
                    { "word": "you", "start": 23.675, "end": 23.994999, "confidence": 0.99994695, "punctuated_word": "you" },
                    { "word": "to", "start": 23.994999, "end": 24.154999, "confidence": 0.99985754, "punctuated_word": "to" },
                    { "word": "achieve", "start": 24.154999, "end": 24.555, "confidence": 0.9999554, "punctuated_word": "achieve" },
                    { "word": "your", "start": 24.555, "end": 24.794998, "confidence": 0.99988484, "punctuated_word": "your" },
                    { "word": "goals", "start": 24.794998, "end": 25.275, "confidence": 0.99833965, "punctuated_word": "goals." },
                    { "word": "we're", "start": 25.275, "end": 25.515, "confidence": 0.99767196, "punctuated_word": "We're" },
                    { "word": "going", "start": 25.515, "end": 25.675, "confidence": 0.72978824, "punctuated_word": "going" },
                    { "word": "to", "start": 25.675, "end": 25.755, "confidence": 0.9962842, "punctuated_word": "to" },
                    { "word": "talk", "start": 25.755, "end": 25.914999, "confidence": 0.9996835, "punctuated_word": "talk" },
                    { "word": "about", "start": 25.914999, "end": 26.154999, "confidence": 0.99985933, "punctuated_word": "about" },
                    { "word": "things", "start": 26.154999, "end": 26.474998, "confidence": 0.9994966, "punctuated_word": "things" },
                    { "word": "like", "start": 26.474998, "end": 26.794998, "confidence": 0.99253935, "punctuated_word": "like" },
                    { "word": "how", "start": 26.794998, "end": 27.035, "confidence": 0.97474164, "punctuated_word": "how" },
                    { "word": "to", "start": 27.035, "end": 27.535, "confidence": 0.9995104, "punctuated_word": "to" },
                    { "word": "turn", "start": 27.54, "end": 27.86, "confidence": 0.9997038, "punctuated_word": "turn" },
                    { "word": "your", "start": 27.86, "end": 28.02, "confidence": 0.9993231, "punctuated_word": "your" },
                    { "word": "idea", "start": 28.02, "end": 28.5, "confidence": 0.97082496, "punctuated_word": "idea" },
                    { "word": "into", "start": 28.5, "end": 28.820002, "confidence": 0.99949193, "punctuated_word": "into" },
                    { "word": "a", "start": 28.820002, "end": 28.980001, "confidence": 0.8895643, "punctuated_word": "a" },
                    { "word": "reality", "start": 28.980001, "end": 29.460001, "confidence": 0.9998709, "punctuated_word": "reality" },
                    { "word": "as", "start": 29.460001, "end": 29.7, "confidence": 0.9956131, "punctuated_word": "as" },
                    { "word": "fast", "start": 29.7, "end": 29.94, "confidence": 0.9997185, "punctuated_word": "fast" },
                    { "word": "as", "start": 29.94, "end": 30.1, "confidence": 0.9980465, "punctuated_word": "as" },
                    { "word": "possible", "start": 30.1, "end": 30.42, "confidence": 0.9999249, "punctuated_word": "possible" },
                    { "word": "so", "start": 30.42, "end": 30.580002, "confidence": 0.78492546, "punctuated_word": "so" },
                    { "word": "you", "start": 30.580002, "end": 30.740002, "confidence": 0.99981064, "punctuated_word": "you" },
                    { "word": "don't", "start": 30.740002, "end": 30.900002, "confidence": 0.9997587, "punctuated_word": "don't" },
                    { "word": "burn", "start": 30.900002, "end": 31.140001, "confidence": 0.99965036, "punctuated_word": "burn" },
                    { "word": "out", "start": 31.140001, "end": 31.62, "confidence": 0.9398322, "punctuated_word": "out." },
                    { "word": "we're", "start": 31.62, "end": 31.78, "confidence": 0.9986433, "punctuated_word": "We're" },
                    { "word": "going", "start": 31.78, "end": 32.02, "confidence": 0.9958702, "punctuated_word": "going" },
                    { "word": "to", "start": 32.02, "end": 32.18, "confidence": 0.99898595, "punctuated_word": "to" },
                    { "word": "talk", "start": 32.18, "end": 32.420002, "confidence": 0.9992459, "punctuated_word": "talk" },
                    { "word": "about", "start": 32.420002, "end": 32.74, "confidence": 0.9995697, "punctuated_word": "about" },
                    { "word": "marketing", "start": 32.74, "end": 33.24, "confidence": 0.9968874, "punctuated_word": "marketing" },
                    { "word": "principles", "start": 33.38, "end": 33.88, "confidence": 0.99897707, "punctuated_word": "principles" },
                    { "word": "for", "start": 34.100002, "end": 34.34, "confidence": 0.99875283, "punctuated_word": "for" },
                    { "word": "you", "start": 34.34, "end": 34.5, "confidence": 0.9999405, "punctuated_word": "you" },
                    { "word": "to", "start": 34.5, "end": 34.58, "confidence": 0.9997608, "punctuated_word": "to" },
                    { "word": "build", "start": 34.58, "end": 34.9, "confidence": 0.99138063, "punctuated_word": "build" },
                    { "word": "a", "start": 34.9, "end": 35.14, "confidence": 0.9997621, "punctuated_word": "a" },
                    { "word": "profitable", "start": 35.14, "end": 35.64, "confidence": 0.99994123, "punctuated_word": "profitable" },
                    { "word": "business", "start": 35.86, "end": 36.36, "confidence": 0.8745123, "punctuated_word": "business." },
                    { "word": "and", "start": 36.693626, "end": 36.773624, "confidence": 0.98574567, "punctuated_word": "And" },
                    { "word": "we", "start": 36.773624, "end": 36.933624, "confidence": 0.9998036, "punctuated_word": "we" },
                    { "word": "are", "start": 36.933624, "end": 37.013626, "confidence": 0.66527146, "punctuated_word": "are" },
                    { "word": "going", "start": 37.013626, "end": 37.093624, "confidence": 0.9999633, "punctuated_word": "going" },
                    { "word": "to", "start": 37.093624, "end": 37.333626, "confidence": 0.99995863, "punctuated_word": "to" },
                    { "word": "talk", "start": 37.333626, "end": 37.573624, "confidence": 0.9999937, "punctuated_word": "talk" },
                    { "word": "about", "start": 37.573624, "end": 37.813625, "confidence": 0.99998796, "punctuated_word": "about" },
                    { "word": "how", "start": 37.813625, "end": 37.973625, "confidence": 0.9996314, "punctuated_word": "how" },
                    { "word": "to", "start": 37.973625, "end": 38.133625, "confidence": 0.9998661, "punctuated_word": "to" },
                    { "word": "become", "start": 38.133625, "end": 38.533623, "confidence": 0.99967647, "punctuated_word": "become" },
                    { "word": "self", "start": 38.533623, "end": 39.013626, "confidence": 0.9983752, "punctuated_word": "self" },
                    { "word": "driven", "start": 39.013626, "end": 39.513626, "confidence": 0.94849914, "punctuated_word": "driven," },
                    { "word": "how", "start": 39.653625, "end": 39.813625, "confidence": 0.9983329, "punctuated_word": "how" },
                    { "word": "to", "start": 39.813625, "end": 40.133625, "confidence": 0.9941374, "punctuated_word": "to" },
                    { "word": "easily", "start": 40.133625, "end": 40.613625, "confidence": 0.99835336, "punctuated_word": "easily" },
                    { "word": "find", "start": 40.613625, "end": 41.013626, "confidence": 0.99982196, "punctuated_word": "find" },
                    { "word": "motivation", "start": 41.013626, "end": 41.513626, "confidence": 0.92973876, "punctuated_word": "motivation" },
                    { "word": "so", "start": 41.573624, "end": 41.733624, "confidence": 0.7176476, "punctuated_word": "so" },
                    { "word": "you", "start": 41.733624, "end": 41.893623, "confidence": 0.9998667, "punctuated_word": "you" },
                    { "word": "want", "start": 41.893623, "end": 42.133625, "confidence": 0.9802563, "punctuated_word": "want" },
                    { "word": "to", "start": 42.133625, "end": 42.213623, "confidence": 0.9999255, "punctuated_word": "to" },
                    { "word": "show", "start": 42.213623, "end": 42.453625, "confidence": 0.9974872, "punctuated_word": "show" },
                    { "word": "up", "start": 42.453625, "end": 42.533623, "confidence": 0.9979394, "punctuated_word": "up" },
                    { "word": "every", "start": 42.533623, "end": 42.773624, "confidence": 0.9800537, "punctuated_word": "every" },
                    { "word": "day", "start": 42.773624, "end": 42.933624, "confidence": 0.9999496, "punctuated_word": "day" },
                    { "word": "and", "start": 42.933624, "end": 43.173626, "confidence": 0.9997391, "punctuated_word": "and" },
                    { "word": "do", "start": 43.173626, "end": 43.333626, "confidence": 0.99998426, "punctuated_word": "do" },
                    { "word": "the", "start": 43.333626, "end": 43.493626, "confidence": 0.9998876, "punctuated_word": "the" },
                    { "word": "work", "start": 43.493626, "end": 43.993626, "confidence": 0.99634373, "punctuated_word": "work." },
                    { "word": "let's", "start": 44.293625, "end": 44.693626, "confidence": 0.9994277, "punctuated_word": "Let's" },
                    { "word": "begin", "start": 44.693626, "end": 45.193626, "confidence": 0.99743354, "punctuated_word": "begin." }
                  ],
                  "paragraphs": {
                    "transcript": "\nIn this section of the course, we are not going to talk about coding. Instead, we're going to talk about mindsets. You're learning how to code because maybe you want to build an app for you and your friends, or even you might want to build an entire business and replace your nine to five. Whatever this is you're trying to achieve, my goal with these following lessons of this chapter is to give you the entire mindset that I've acquired in the past six years in order for you to achieve your goals. We're going to talk about things like how to turn your idea into a reality as fast as possible so you don't burn out.\n\nWe're going to talk about marketing principles for you to build a profitable business. And we are going to talk about how to become self driven, how to easily find motivation so you want to show up every day and do the work. Let's begin.",
                    "paragraphs": [
                      {
                        "sentences": [
                          { "text": "In this section of the course, we are not going to talk about coding.", "start": 0.08, "end": 3.1399999 },
                          { "text": "Instead, we're going to talk about mindsets.", "start": 3.36, "end": 5.7 },
                          { "text": "You're learning how to code because maybe you want to build an app for you and your friends, or even you might want to build an entire business and replace your nine to five.", "start": 5.92, "end": 14.179999 },
                          { "text": "Whatever this is you're trying to achieve, my goal with these following lessons of this chapter is to give you the entire mindset that I've acquired in the past six years in order for you to achieve your goals.", "start": 14.3949995, "end": 25.275 },
                          { "text": "We're going to talk about things like how to turn your idea into a reality as fast as possible so you don't burn out.", "start": 25.275, "end": 31.62 }
                        ],
                        "num_words": 118, "start": 0.08, "end": 31.62
                      },
                      {
                        "sentences": [
                          { "text": "We're going to talk about marketing principles for you to build a profitable business.", "start": 31.62, "end": 36.36 },
                          { "text": "And we are going to talk about how to become self driven, how to easily find motivation so you want to show up every day and do the work.", "start": 36.693626, "end": 43.993626 },
                          { "text": "Let's begin.", "start": 44.293625, "end": 45.193626 }
                        ],
                        "num_words": 45, "start": 31.62, "end": 45.193626
                      }
                    ]
                  }
                }
              ]
            }
          ]
        }
      }
    </script>
    <script>
        // Thông tin video (sẽ được cập nhật)
        window.GOOGLE_DRIVE_VIDEO_ID = "1xPXRoj1tcKV9n_61sDq9bcXhvAxpJkXK"; // Chỉ ID
        window.ORIGINAL_UPLOADER = "Google Drive Video";
        window.ORIGINAL_DURATION = 45.418686; // Lấy từ JSON metadata, hoặc để JS tự lấy
        window.VIDEO_TITLE = "0001 Intro";
    </script>
    <link rel="stylesheet" href="style.css"> <!-- Liên kết đến style.css -->
</head>
<body>
    <div class="page-container">
        <div class="video-section">
            <!-- Sử dụng thẻ video HTML5 thay vì div cho YouTube -->
            <video id="lessonVideoPlayer" controls playsinline>
                <source src="" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
        <header class="page-header">
             <div class="video-info">
                <h1 id="videoTitleElement"></h1> <!-- ID khác để tránh xung đột với window.VIDEO_TITLE -->
                <p>Channel: <span id="videoUploaderElement"></span> | Duration: <span id="videoDurationElement"></span></p>
            </div>
            <div class="settings-bar">
                <label for="autoScrollTranscriptCheckbox"><input type="checkbox" id="autoScrollTranscriptCheckbox" checked> Auto-scroll Transcript</label>
                <label for="minimalVideoToggle"><input type="checkbox" id="minimalVideoToggle"> Minimal Video Player</label>
            </div>
        </header>
        <div class="content-section" id="mainContentArea">
            <div id="timeline-container">
                <ul class="timeline-list" id="timelineListElement">
                    <!-- Timeline items sẽ được tạo bởi JS -->
                </ul>
            </div>
            <div id="transcript-content-container">
                <!-- Transcript paragraphs sẽ được tạo bởi JS -->
            </div>
        </div>
    </div>

    <!-- Sử dụng một file JS riêng đã được điều chỉnh cho HTML5 video -->
    <script>
        // lesson_player_html5.js (Nội dung JS đã được điều chỉnh)

        var player; // Sẽ là HTMLVideoElement
        var allParagraphsData = [];
        var autoScrollTranscriptEnabled = true;

        var currentActiveTimelineItem = null;
        var currentActiveParagraphText = null;
        var currentActiveSentence = null;

        var mainContentAreaEl, transcriptContentEl, timelineContainerEl, timelineListEl;
        var paragraphObserver, videoTimeUpdaterInterval;

        // Hàm định dạng thời gian (giữ nguyên từ file python)
        function formatDisplayTimestamp(seconds) {
            if (seconds == null || isNaN(seconds)) return "00:00";
            const totalSeconds = Math.floor(seconds);
            const hrs = Math.floor(totalSeconds / 3600);
            const mins = Math.floor((totalSeconds % 3600) / 60);
            const secs = totalSeconds % 60;
            if (hrs > 0) return `${String(hrs).padStart(2, '0')}:${String(mins).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
            return `${String(mins).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
        }


        document.addEventListener('DOMContentLoaded', function() {
            player = document.getElementById('lessonVideoPlayer');
            mainContentAreaEl = document.getElementById('mainContentArea');
            transcriptContentEl = document.getElementById('transcript-content-container');
            timelineContainerEl = document.getElementById('timeline-container');
            timelineListEl = document.getElementById('timelineListElement');

            // Cập nhật thông tin video từ biến window
            document.getElementById('videoTitleElement').textContent = window.VIDEO_TITLE || "Interactive Lesson";
            document.getElementById('videoUploaderElement').textContent = window.ORIGINAL_UPLOADER || "N/A";
            document.getElementById('videoDurationElement').textContent = formatDisplayTimestamp(window.ORIGINAL_DURATION);
            
            // Thiết lập nguồn video Google Drive
            if (window.GOOGLE_DRIVE_VIDEO_ID) {
                player.querySelector('source').src = `https://drive.google.com/uc?id=${window.GOOGLE_DRIVE_VIDEO_ID}`;
                player.load(); // Tải lại video với nguồn mới
            } else {
                console.error("GOOGLE_DRIVE_VIDEO_ID not found on window object.");
                transcriptContentEl.innerHTML = "<p class='no-transcript-message'>Error: Video ID missing.</p>";
                return;
            }

            const transcriptDataElem = document.getElementById('allTranscriptData');
            if (transcriptDataElem && transcriptDataElem.textContent) {
                try {
                    const fullJson = JSON.parse(transcriptDataElem.textContent);
                    // Trích xuất cấu trúc paragraphs mong muốn (tương tự logic Python)
                    const rawParagraphs = fullJson.results.channels[0].alternatives[0].paragraphs.paragraphs;
                    rawParagraphs.forEach((para_info, p_idx) => {
                        let sentences_for_html_structure = [];
                        para_info.sentences.forEach((sentence_info, s_idx) => {
                            const sentence_text = sentence_info.text.replace(/\n/g, " ").trim();
                            if (sentence_text) {
                                sentences_for_html_structure.push({
                                    id: `sent_${p_idx}_${s_idx}`,
                                    text: sentence_text,
                                    start: sentence_info.start,
                                    end: sentence_info.end
                                });
                            }
                        });
                        if (sentences_for_html_structure.length > 0) {
                            allParagraphsData.push({
                                id: `para_${p_idx}`, // ID cho thẻ div chứa paragraph
                                paragraph_idx: p_idx, // Index của paragraph
                                start: para_info.start,
                                end: para_info.end,
                                sentences: sentences_for_html_structure
                            });
                        }
                    });

                } catch (e) {
                    console.error("Parse allTranscriptData failed:", e);
                    if (transcriptContentEl) transcriptContentEl.innerHTML = "<p class='no-transcript-message'>Error loading transcript data.</p>";
                    return;
                }
            }

            if (allParagraphsData.length === 0) {
                if (transcriptContentEl && !transcriptContentEl.querySelector('.no-transcript-message')) {
                     transcriptContentEl.innerHTML = "<p class='no-transcript-message'>No transcript available for this video.</p>";
                }
            } else {
                generateTimelineAndTranscriptDOM();
            }

            setupClickHandlers(); // Phải gọi sau khi DOM được tạo
            setupScrollAndVideoSync();

            const autoScrollCheckbox = document.getElementById('autoScrollTranscriptCheckbox');
            if (autoScrollCheckbox) {
                autoScrollTranscriptEnabled = autoScrollCheckbox.checked;
                autoScrollCheckbox.addEventListener('change', function() { autoScrollTranscriptEnabled = this.checked; });
            }

            const minimalVideoToggle = document.getElementById('minimalVideoToggle');
            if (minimalVideoToggle) {
                if (localStorage.getItem('videoMinimalMode') === 'true') {
                    document.body.classList.add('video-minimal-mode');
                    minimalVideoToggle.checked = true;
                }
                minimalVideoToggle.addEventListener('change', function() {
                    if (this.checked) {
                        document.body.classList.add('video-minimal-mode');
                        localStorage.setItem('videoMinimalMode', 'true');
                    } else {
                        document.body.classList.remove('video-minimal-mode');
                        localStorage.setItem('videoMinimalMode', 'false');
                    }
                });
            }

            // Cập nhật duration khi video đã tải metadata
            player.onloadedmetadata = function() {
                window.ORIGINAL_DURATION = player.duration; // Cập nhật duration chính xác
                document.getElementById('videoDurationElement').textContent = formatDisplayTimestamp(player.duration);
            };
        });

        function generateTimelineAndTranscriptDOM() {
            let timelineHtml = '';
            let transcriptHtml = '';

            allParagraphsData.forEach(para_struct => {
                // Tạo Timeline Item
                timelineHtml += `
                    <li class="timeline-item" data-paragraph-idx="${para_struct.paragraph_idx}" data-start-time="${para_struct.start}" data-target-transcript-id="text-${para_struct.id}">
                        <div class="timeline-timestamp">${formatDisplayTimestamp(para_struct.start)}</div>
                        <div class="timeline-dot-container">
                            <div class="timeline-dot"></div>
                        </div>
                    </li>`;

                // Tạo Transcript Paragraph
                transcriptHtml += `<div class="transcript-paragraph-text" id="text-${para_struct.id}" data-paragraph-idx="${para_struct.paragraph_idx}" data-start-time="${para_struct.start}" data-end-time="${para_struct.end}">`;
                para_struct.sentences.forEach(sent_struct => {
                    transcriptHtml += `<span class="transcript-sentence" id="${sent_struct.id}" data-start-time="${sent_struct.start}" data-end-time="${sent_struct.end}">${sent_struct.text}</span> `;
                });
                transcriptHtml += `</div>`;
            });

            if (timelineListEl) timelineListEl.innerHTML = timelineHtml;
            if (transcriptContentEl) transcriptContentEl.innerHTML = transcriptHtml;
        }


        function setupClickHandlers() {
            // Click vào timeline item
            document.querySelectorAll('.timeline-item').forEach(item => {
                item.addEventListener('click', () => {
                    const startTime = parseFloat(item.dataset.startTime);
                    const targetTranscriptId = item.dataset.targetTranscriptId;
                    const targetTranscriptElement = document.getElementById(targetTranscriptId);
                    
                    if (targetTranscriptElement && mainContentAreaEl) {
                        // Scroll main content area để transcript paragraph tương ứng lên đầu
                        let scrollTargetY = targetTranscriptElement.offsetTop - mainContentAreaEl.offsetTop - (mainContentAreaEl.clientHeight * 0.1);
                        mainContentAreaEl.scrollTo({ top: Math.max(0, scrollTargetY), behavior: "smooth" });
                    }
                    if (player) {
                        player.currentTime = startTime;
                        if (player.paused) player.play();
                    }
                });
            });

            // Click vào câu trong transcript
            document.querySelectorAll('.transcript-sentence').forEach(sentEl => {
                sentEl.addEventListener('click', () => {
                    const startTime = parseFloat(sentEl.dataset.startTime);
                    if (player) {
                        player.currentTime = startTime;
                        if (player.paused) player.play();
                    }
                });
            });
        }

        function setupScrollAndVideoSync() {
            if (mainContentAreaEl && typeof IntersectionObserver !== 'undefined') {
                const observerOptions = {
                    root: mainContentAreaEl,
                    rootMargin: "-20% 0px -70% 0px", // Ưu tiên phần tử ở gần đầu viewport
                    threshold: 0.01
                };
                paragraphObserver = new IntersectionObserver((entries) => {
                    if (player && !player.paused && autoScrollTranscriptEnabled) return; // Không can thiệp nếu video đang phát và auto-scroll bật

                    let topmostEntry = null;
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            if (!topmostEntry || entry.boundingClientRect.top < topmostEntry.boundingClientRect.top) {
                                topmostEntry = entry;
                            }
                        }
                    });
                    if (topmostEntry) {
                        const paragraphIdx = parseInt(topmostEntry.target.dataset.paragraphIdx);
                         // Khi người dùng scroll, không tự động scroll transcript, chỉ cập nhật highlight
                        updateActiveStates(paragraphIdx, null, false);
                    }
                }, observerOptions);
                document.querySelectorAll('.transcript-paragraph-text').forEach(p => {
                    if(p) paragraphObserver.observe(p);
                });
            }
            startVideoTimeUpdater();
        }
                
        // Event listener cho HTML5 video
        if (player) {
            player.addEventListener('play', startVideoTimeUpdater);
            player.addEventListener('pause', stopVideoTimeUpdater);
            player.addEventListener('ended', stopVideoTimeUpdater);
            player.addEventListener('timeupdate', updateHighlightsAndScrollsBasedOnVideoTime); // Sử dụng timeupdate trực tiếp
        }

        function startVideoTimeUpdater() {
            // Không cần interval nếu dùng 'timeupdate' nhưng giữ lại để tương thích nếu JS gốc cần
            if (videoTimeUpdaterInterval) clearInterval(videoTimeUpdaterInterval);
            videoTimeUpdaterInterval = setInterval(updateHighlightsAndScrollsBasedOnVideoTime, 250); // Tăng interval lên một chút
        }
        function stopVideoTimeUpdater() {
            clearInterval(videoTimeUpdaterInterval);
        }

        function updateActiveStates(activeParagraphIndex, activeSentenceId, scrollMainContentIfNeeded) {
            // Update Timeline Item
            const targetTimelineItem = document.querySelector(`.timeline-item[data-paragraph-idx='${activeParagraphIndex}']`);
            if (currentActiveTimelineItem !== targetTimelineItem) {
                if (currentActiveTimelineItem) currentActiveTimelineItem.classList.remove('active');
                if (targetTimelineItem) targetTimelineItem.classList.add('active');
                currentActiveTimelineItem = targetTimelineItem;
            }

            // Update Paragraph Text
            const targetParagraphText = document.querySelector(`.transcript-paragraph-text[data-paragraph-idx='${activeParagraphIndex}']`);
            if (currentActiveParagraphText !== targetParagraphText) {
                if (currentActiveParagraphText) currentActiveParagraphText.classList.remove('highlighted-paragraph');
                if (targetParagraphText) {
                    targetParagraphText.classList.add('highlighted-paragraph');
                    if (scrollMainContentIfNeeded && autoScrollTranscriptEnabled && mainContentAreaEl) {
                        let scrollTargetY = targetParagraphText.offsetTop - mainContentAreaEl.offsetTop - (mainContentAreaEl.clientHeight * 0.1);
                        mainContentAreaEl.scrollTo({ top: Math.max(0, scrollTargetY), behavior: "smooth" });
                    }
                }
                currentActiveParagraphText = targetParagraphText;
            }

            // Update Sentence
            const sentenceEl = activeSentenceId ? document.getElementById(activeSentenceId) : null;
            if (currentActiveSentence !== sentenceEl) {
                if (currentActiveSentence) currentActiveSentence.classList.remove('highlighted-sentence');
                if (sentenceEl) {
                    sentenceEl.classList.add('highlighted-sentence');
                    // Tinh chỉnh logic scroll cho câu, đảm bảo nó nằm trong đoạn văn đang active
                    if (scrollMainContentIfNeeded && autoScrollTranscriptEnabled && mainContentAreaEl && targetParagraphText && targetParagraphText.classList.contains('highlighted-paragraph')) {
                        const sR = sentenceEl.getBoundingClientRect();
                        const cR_main = mainContentAreaEl.getBoundingClientRect(); // mainContentAreaEl là vùng cuộn chính
                        
                        // Kiểm tra xem câu có nằm ngoài vùng hiển thị của mainContentAreaEl không
                        if(sR.top < cR_main.top + 20 || sR.bottom > cR_main.bottom - 20 ) {
                            // Tính toán vị trí để cuộn câu vào giữa vùng hiển thị của mainContentAreaEl
                            let sentScrollOffsetInParent = sentenceEl.offsetTop - targetParagraphText.offsetTop; // Vị trí tương đối của câu trong đoạn văn
                            let paragraphScrollOffset = targetParagraphText.offsetTop - mainContentAreaEl.offsetTop;
                            
                            // Cuộn sao cho câu ở khoảng giữa màn hình
                            let finalScrollPos = paragraphScrollOffset + sentScrollOffsetInParent - (mainContentAreaEl.clientHeight / 2) + (sentenceEl.offsetHeight / 2);

                            mainContentAreaEl.scrollTo({ top: Math.max(0, finalScrollPos), behavior: "smooth" });
                        }
                    }
                }
                currentActiveSentence = sentenceEl;
            }
        }

        function updateHighlightsAndScrollsBasedOnVideoTime() {
            if (!player || allParagraphsData.length === 0) return;
            const currentTime = player.currentTime;
            let activeParagraphData = null, activeSentenceData = null;
            let paragraphChanged = false;

            // Tìm đoạn văn bản active
            for (const para of allParagraphsData) {
                if (currentTime >= para.start && currentTime < para.end) {
                    activeParagraphData = para;
                    break;
                }
            }
            // Nếu không tìm thấy (ví dụ, ở giữa các đoạn), hoặc ở cuối video
            if (!activeParagraphData && allParagraphsData.length > 0) {
                 // Mặc định là đoạn cuối cùng nếu thời gian video vượt qua thời gian bắt đầu của nó
                if (currentTime >= allParagraphsData[allParagraphsData.length -1].start) {
                     activeParagraphData = allParagraphsData[allParagraphsData.length -1];
                }
                // Hoặc nếu ở trước đoạn đầu tiên, không có gì active
            }


            if (activeParagraphData) {
                // Kiểm tra xem paragraph có thay đổi không
                if (!currentActiveParagraphText || currentActiveParagraphText.id !== `text-${activeParagraphData.id}`) {
                    paragraphChanged = true;
                }
                // Cập nhật trạng thái paragraph. Nếu paragraph thay đổi, cho phép scroll.
                updateActiveStates(activeParagraphData.paragraph_idx, null, paragraphChanged && autoScrollTranscriptEnabled);

                // Tìm câu active trong đoạn văn bản active
                for (const sent of activeParagraphData.sentences) {
                    if (currentTime >= sent.start && currentTime < sent.end) {
                        activeSentenceData = sent;
                        break;
                    }
                }
                 if (!activeSentenceData && activeParagraphData.sentences.length > 0) {
                    // Mặc định là câu cuối cùng trong đoạn nếu thời gian video vượt qua thời gian bắt đầu của nó
                    const lastSentenceInPara = activeParagraphData.sentences[activeParagraphData.sentences.length -1];
                    if (currentTime >= lastSentenceInPara.start) {
                        activeSentenceData = lastSentenceInPara;
                    }
                }
                
                // Cập nhật trạng thái câu. Không scroll chính ở đây, scroll cho câu đã xử lý trong updateActiveStates.
                updateActiveStates(activeParagraphData.paragraph_idx, activeSentenceData ? activeSentenceData.id : null, false);

            } else { // Không có paragraph nào active
                if (currentActiveTimelineItem) currentActiveTimelineItem.classList.remove('active');
                if (currentActiveParagraphText) currentActiveParagraphText.classList.remove('highlighted-paragraph');
                if (currentActiveSentence) currentActiveSentence.classList.remove('highlighted-sentence');
                currentActiveTimelineItem = null;
                currentActiveParagraphText = null;
                currentActiveSentence = null;
            }
        }
    </script>
</body>
</html>
