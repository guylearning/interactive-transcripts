
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MIT web.lab (6.962) - Day 6: Workshop 5 (Accounts/Auth)</title>
    <link rel="stylesheet" href="./assets/css/style.css"> <!-- Link to external CSS -->
    <script id="allTranscriptData" type="application/json">[{"id": "para_0", "paragraph_idx": 0, "start": 1.12, "end": 21.335, "sentences": [{"id": "sent_0_0", "text": "Okay.", "start": 1.12, "end": 1.76}, {"id": "sent_0_1", "text": "So now we'll start workshop five and we'll implement the whole Google sign in process flow that Annabel just showed.", "start": 1.76, "end": 10.32}, {"id": "sent_0_2", "text": "And we'll also add some changes to our front end and back end to support the login flow.", "start": 10.48, "end": 15.04}, {"id": "sent_0_3", "text": "Here's all the steps of the workshop.", "start": 16.055, "end": 17.975}, {"id": "sent_0_4", "text": "It's very meaty, but we'll slowly go through it together.", "start": 17.975, "end": 21.335}]}, {"id": "para_1", "paragraph_idx": 1, "start": 22.535, "end": 72.605, "sentences": [{"id": "sent_1_0", "text": "So open up your code ID and we'll start by git resetting hard.", "start": 22.535, "end": 29.335}, {"id": "sent_1_1", "text": "Let's fetch all the new changes made in the remote branch.", "start": 33.760002, "end": 37.36}, {"id": "sent_1_2", "text": "Let's check out to branch w five dash starter, And we'll do NPM install.", "start": 41.36, "end": 52.074997}, {"id": "sent_1_3", "text": "And in two separate terminals, let's run NPM start and npm run dev.", "start": 53.355, "end": 60.25}, {"id": "sent_1_4", "text": "Okay.", "start": 72.125, "end": 72.605}]}, {"id": "para_2", "paragraph_idx": 2, "start": 72.605, "end": 133.795, "sentences": [{"id": "sent_2_0", "text": "And once you've done that, let's open up nav bar dot j s x to look at some changes we've made for this workshop.", "start": 72.605, "end": 78.925}, {"id": "sent_2_1", "text": "So the first thing you'll notice is that we have a new sign in button in our nav bar that we didn't have before.", "start": 92.04, "end": 97.560005}, {"id": "sent_2_2", "text": "And in nav bar dot j s x, you'll see that this is from a Google login component that's provided to us by the React OAuth Google Library.", "start": 98.445, "end": 110.045}, {"id": "sent_2_3", "text": "And this is a login component that Google provides for us in their library that will handle the login process for us.", "start": 110.445, "end": 116.5}, {"id": "sent_2_4", "text": "So upon a successful login, we'll also call the handle login function, which we have a skeleton for here and we haven't filled it out yet, so all we have is a console log of the response that the Google auth server sends to us.", "start": 118.5, "end": 133.795}]}, {"id": "para_3", "paragraph_idx": 3, "start": 138.08, "end": 189.695, "sentences": [{"id": "sent_3_0", "text": "So another change that we've made is an index dot j s x.", "start": 138.08, "end": 141.68001}, {"id": "sent_3_1", "text": "To be able to send these requests to Google OAuth server, the Google OAuth server has to recognize us as a valid user, and that's done through the Google client ID.", "start": 142.24, "end": 153.32501}, {"id": "sent_3_2", "text": "So anyone can make a Google client ID for their web application, and this is like a username for our web app, and it allows the Google server to recognize our application as a valid user so that we can make these requests the server and get responses back.", "start": 153.885, "end": 168.77}, {"id": "sent_3_3", "text": "So what we've done with the Google client ID is that we've wrapped our entire web application, which is in the router provider, with a Google OAuth provider, and we pass in the client ID so that every time we make a request to the server of the Google sorry, the Google server, it'll pass this Google client ID through.", "start": 169.01, "end": 187.535}, {"id": "sent_3_4", "text": "So what does this look like?", "start": 188.255, "end": 189.695}]}, {"id": "para_4", "paragraph_idx": 4, "start": 191.375, "end": 245.505, "sentences": [{"id": "sent_4_0", "text": "So before we have our client and server sending requests and responses back to each other, but when we think of this in terms of the Google client oh, sorry, the Google server, we can think of our entire web application of a client as a client, and instead, our entire web application is now sending requests to the Google OAuth server.", "start": 191.375, "end": 213.615}, {"id": "sent_4_1", "text": "Okay.", "start": 217.61499, "end": 218.255}, {"id": "sent_4_2", "text": "So to recap, the Google client ID allows us to access the Google auth API in the Google server.", "start": 218.415, "end": 224.255}, {"id": "sent_4_3", "text": "It tells us what our app is called and its URL, and later on, you'll see that both the front end and back end will need the client ID because if you remember, the front end will handle the login process through the Google server endpoint, but in our server back end, we'll also need to verify the token once it gets sent back to us.", "start": 224.79, "end": 243.02501}, {"id": "sent_4_4", "text": "So we'll need the client ID again in the back end.", "start": 243.02501, "end": 245.505}]}, {"id": "para_5", "paragraph_idx": 5, "start": 245.985, "end": 277.255, "sentences": [{"id": "sent_5_0", "text": "And this isn't secret information, so it's okay to commit it to git.", "start": 245.985, "end": 249.425}, {"id": "sent_5_1", "text": "So for now, an index.jsx will all share the same Google client ID, but later on, you'll have to make your own for your own web lab project and we'll go over how to do that in our deployment lecture.", "start": 249.985, "end": 263.11002}, {"id": "sent_5_2", "text": "Okay.", "start": 264.55, "end": 264.79}, {"id": "sent_5_3", "text": "So let's look at what logging in looks like so far.", "start": 266.695, "end": 270.53503}, {"id": "sent_5_4", "text": "If I go back to my web sorry, my cat book application, I can sign in with Google.", "start": 271.015, "end": 277.255}]}, {"id": "para_6", "paragraph_idx": 6, "start": 281.9, "end": 320.5, "sentences": [{"id": "sent_6_0", "text": "Once I'm signed in, I see the same sign in button, which is not what we want.", "start": 281.9, "end": 287.26}, {"id": "sent_6_1", "text": "We want the nav bar to show the login button when we're logged out and the log out button when we're logged in.", "start": 288.14, "end": 293.9}, {"id": "sent_6_2", "text": "So take a moment to think about how we can do this.", "start": 294.255, "end": 297.695}, {"id": "sent_6_3", "text": "And feel free to talk to your neighbors.", "start": 301.215, "end": 302.89502}, {"id": "sent_6_4", "text": "Okay.", "start": 320.1, "end": 320.5}]}, {"id": "para_7", "paragraph_idx": 7, "start": 321.55502, "end": 339.55, "sentences": [{"id": "sent_7_0", "text": "Does anyone wanna try answering the question?", "start": 321.55502, "end": 325.31503}, {"id": "sent_7_1", "text": "No.", "start": 328.755, "end": 329.155}, {"id": "sent_7_2", "text": "That's okay too.", "start": 329.155, "end": 330.27502}, {"id": "sent_7_3", "text": "What we can do is we can keep a react state in our nav bar to keep track of when we're logged in.", "start": 330.67502, "end": 336.11502}, {"id": "sent_7_4", "text": "So what we'll do is we'll create a react state called logged in.", "start": 336.11502, "end": 339.55}]}, {"id": "para_8", "paragraph_idx": 8, "start": 341.31, "end": 380.015, "sentences": [{"id": "sent_8_0", "text": "So let's implement our handle login function.", "start": 341.31, "end": 343.94998}, {"id": "sent_8_1", "text": "So first, let's keep track of a login state using called logged in.", "start": 345.22998, "end": 350.335}, {"id": "sent_8_2", "text": "So navigate back to navbar.jsx, and at the very top, we'll wanna use the use state hook so that we can create a login state.", "start": 350.335, "end": 362.255}, {"id": "sent_8_3", "text": "So do const logged in, set logged in.", "start": 362.57498, "end": 367.90002}, {"id": "sent_8_4", "text": "Oh, we'll have this be a use state and we'll wanna start the login state as false because otherwise authenticated, the user should be logged out.", "start": 369.42, "end": 380.015}]}, {"id": "para_9", "paragraph_idx": 9, "start": 380.655, "end": 414.365, "sentences": [{"id": "sent_9_0", "text": "So we now have a logged in state that is initialized to false.", "start": 380.655, "end": 385.135}, {"id": "sent_9_1", "text": "So now what we'll wanna do is once the Google login component returns on success, then our front end should know, oh, now we're logged in.", "start": 387.695, "end": 396.9}, {"id": "sent_9_2", "text": "So it calls the handle login function and what we wanna do now is in the handle login function.", "start": 397.13998, "end": 402.5}, {"id": "sent_9_3", "text": "We'll wanna call set logged in, And now we wanna set logged into true.", "start": 402.66, "end": 408.205}, {"id": "sent_9_4", "text": "So that's what you should have so far.", "start": 412.525, "end": 414.365}]}, {"id": "para_10", "paragraph_idx": 10, "start": 432.74, "end": 469.385, "sentences": [{"id": "sent_10_0", "text": "Thumbs up if you need more time.", "start": 432.74, "end": 434.41998}, {"id": "sent_10_1", "text": "Alright.", "start": 453.66, "end": 454.06}, {"id": "sent_10_2", "text": "So now we'll move on to the next step.", "start": 454.06, "end": 456.54}, {"id": "sent_10_3", "text": "So now our web our front end knows once we're logged in because once handle login is called, we'll set the login react state to true.", "start": 457.66, "end": 465.705}, {"id": "sent_10_4", "text": "Oh, I just gave you the answer.", "start": 467.705, "end": 469.385}]}, {"id": "para_11", "paragraph_idx": 11, "start": 469.705, "end": 531.985, "sentences": [{"id": "sent_11_0", "text": "Yeah, just to reiterate, once the Google login component returns in on success, it'll call the handle login function which now sets logged in to true.", "start": 469.705, "end": 479.25}, {"id": "sent_11_1", "text": "So we wanna do some something similar for the log out function.", "start": 481.25, "end": 484.69}, {"id": "sent_11_2", "text": "Here, for the login, we already have a Google login component that renders a button for us, but unfortunately, Google's library doesn't have a logout function, so we'll just use the button property and instead of having an on success attribute that calls the handle login function, you'll wanna write an on click attribute that calls the handle logout function.", "start": 485.65, "end": 509.30002}, {"id": "sent_11_3", "text": "So for this part of the workshop, you'll wanna add a logout button using button.", "start": 509.7, "end": 515.46}, {"id": "sent_11_4", "text": "On click, it should call a handle logout function, and you want to define a handle log out function that performs an analogous task to handle log in, but instead of setting logged into false, sorry, instead of setting logged into true, it should set it back to false.", "start": 515.94, "end": 531.985}]}, {"id": "para_12", "paragraph_idx": 12, "start": 534.63995, "end": 685.77997, "sentences": [{"id": "sent_12_0", "text": "So give that a try and feel free to hop on the queue if you need any help.", "start": 534.63995, "end": 538.39996}, {"id": "sent_12_1", "text": "Okay.", "start": 572.86, "end": 573.26}, {"id": "sent_12_2", "text": "Raise your hand if you need another minute or two.", "start": 662.36, "end": 664.76}, {"id": "sent_12_3", "text": "Okay.", "start": 683.69995, "end": 684.1}, {"id": "sent_12_4", "text": "Let's go over how we can do that.", "start": 684.1, "end": 685.77997}]}, {"id": "para_13", "paragraph_idx": 13, "start": 686.74, "end": 707.48505, "sentences": [{"id": "sent_13_0", "text": "So first, we'll start off by adding a new button for log out.", "start": 686.74, "end": 691.13995}, {"id": "sent_13_1", "text": "Under the Google login component, I'll just make a button component here.", "start": 691.22, "end": 695.80505}, {"id": "sent_13_2", "text": "And just call it log out.", "start": 696.36505, "end": 697.965}, {"id": "sent_13_3", "text": "And on click, let's have it call our handle log out function.", "start": 698.765, "end": 702.765}, {"id": "sent_13_4", "text": "Which we need to define, and we'll do that right here.", "start": 704.525, "end": 707.48505}]}, {"id": "para_14", "paragraph_idx": 14, "start": 712.4, "end": 732.21497, "sentences": [{"id": "sent_14_0", "text": "So let's define a handle log out function.", "start": 712.4, "end": 714.96}, {"id": "sent_14_1", "text": "And.", "start": 716.64, "end": 717.36}, {"id": "sent_14_2", "text": "You can console log logged out.", "start": 720.16, "end": 723.2}, {"id": "sent_14_3", "text": "And then we'll wanna set logged in back to false.", "start": 724.21497, "end": 727.095}, {"id": "sent_14_4", "text": "So now if we go back to our local host.", "start": 729.415, "end": 732.21497}]}, {"id": "para_15", "paragraph_idx": 15, "start": 736.26, "end": 766.135, "sentences": [{"id": "sent_15_0", "text": "Yeah.", "start": 736.26, "end": 736.74}, {"id": "sent_15_1", "text": "If you go back to our local host, we have both a login function and a logout function.", "start": 736.74, "end": 741.94}, {"id": "sent_15_2", "text": "So now what we wanna do is we'll want to conditionally render the login and logout buttons.", "start": 742.9, "end": 751.62}, {"id": "sent_15_3", "text": "So we wanted to make it show Google login when the user isn't logged in and we wanted to show the log out button when the user's logged in.", "start": 752.295, "end": 759.015}, {"id": "sent_15_4", "text": "So here's a hint, here's a template for how you can do conditional rendering in the return.", "start": 759.495, "end": 766.135}]}, {"id": "para_16", "paragraph_idx": 16, "start": 767.23004, "end": 865.19, "sentences": [{"id": "sent_16_0", "text": "So give that a try and let us know if you have any questions.", "start": 767.23004, "end": 771.71}, {"id": "sent_16_1", "text": "Just to clarify the notation for the conditional rendering is this first line and what it's doing is saying that if the condition is true, then render x, otherwise render y.", "start": 801.10004, "end": 814.25507}, {"id": "sent_16_2", "text": "But you wanna use this notation.", "start": 814.655, "end": 816.49506}, {"id": "sent_16_3", "text": "Okay.", "start": 860.63, "end": 861.11005}, {"id": "sent_16_4", "text": "Now let's go over how we can conditionally render the login and log out buttons.", "start": 861.11005, "end": 865.19}]}, {"id": "para_17", "paragraph_idx": 17, "start": 866.23004, "end": 887.16003, "sentences": [{"id": "sent_17_0", "text": "So here, in the return, we have two buttons side by side.", "start": 866.23004, "end": 869.91003}, {"id": "sent_17_1", "text": "But what we'll wanna do is we wanna check if logged in our logged in state is true.", "start": 870.645, "end": 877.125}, {"id": "sent_17_2", "text": "So let's wrap these in brackets.", "start": 877.765, "end": 880.885}, {"id": "sent_17_3", "text": "You wanna check the condition is logged in true.", "start": 881.28503, "end": 884.645}, {"id": "sent_17_4", "text": "So we'll do logged in question mark.", "start": 885.0, "end": 887.16003}]}, {"id": "para_18", "paragraph_idx": 18, "start": 887.8, "end": 909.375, "sentences": [{"id": "sent_18_0", "text": "And then we'll have two two things that can render.", "start": 887.8, "end": 891.4}, {"id": "sent_18_1", "text": "So if logged in is true, we're gonna wanna render the log out button.", "start": 891.4, "end": 896.2}, {"id": "sent_18_2", "text": "So we can paste that into the first argument.", "start": 896.52, "end": 899.0}, {"id": "sent_18_3", "text": "And the second thing renders if logged in is false.", "start": 902.01495, "end": 905.615}, {"id": "sent_18_4", "text": "So if we're logged out, we'll wanna render the log in component.", "start": 905.615, "end": 909.375}]}, {"id": "para_19", "paragraph_idx": 19, "start": 910.57495, "end": 959.5, "sentences": [{"id": "sent_19_0", "text": "So that it looks like that.", "start": 910.57495, "end": 912.01495}, {"id": "sent_19_1", "text": "Okay.", "start": 912.01495, "end": 912.175}, {"id": "sent_19_2", "text": "If you didn't catch that, here's the solution.", "start": 917.19, "end": 919.43}, {"id": "sent_19_3", "text": "I'll give you some time to copy that.", "start": 921.43, "end": 923.03}, {"id": "sent_19_4", "text": "Okay.", "start": 959.18, "end": 959.5}]}, {"id": "para_20", "paragraph_idx": 20, "start": 959.925, "end": 1002.175, "sentences": [{"id": "sent_20_0", "text": "Let's take a look at what we have now on local host 5173.", "start": 959.925, "end": 964.245}, {"id": "sent_20_1", "text": "So now I have a sign in button, and if I'm signed in, it'll now show up the log out button.", "start": 965.365, "end": 974.56}, {"id": "sent_20_2", "text": "So with this step, we now have a working log in and log out button, and they'll conditionally render depending on the new react state that we've added in nav bar dot j s x called logged in.", "start": 974.64, "end": 984.96}, {"id": "sent_20_3", "text": "And I think we'll break free lunch.", "start": 985.36, "end": 987.76}, {"id": "sent_20_4", "text": "So just to recap, in our starter step, we implemented working login log out buttons and we define a login state so that we can keep track in the front end of whether we're logged in or not.", "start": 990.815, "end": 1002.175}]}, {"id": "para_21", "paragraph_idx": 21, "start": 1004.48, "end": 1037.68, "sentences": [{"id": "sent_21_0", "text": "So now, once we're logged in, we should be able to see a log out button, and if we're logged out, we should be able to see a log in button.", "start": 1004.48, "end": 1011.60004}, {"id": "sent_21_1", "text": "So now that users can log in, let's store data about the users that use Catbook.", "start": 1013.28, "end": 1018.16}, {"id": "sent_21_2", "text": "Take ten seconds to think about how we can do that.", "start": 1019.335, "end": 1022.135}, {"id": "sent_21_3", "text": "Does anyone wanna take a stab at it?", "start": 1028.935, "end": 1030.855}, {"id": "sent_21_4", "text": "No.", "start": 1037.2001, "end": 1037.68}]}, {"id": "para_22", "paragraph_idx": 22, "start": 1037.68, "end": 1068.8599, "sentences": [{"id": "sent_22_0", "text": "And that's okay too.", "start": 1037.68, "end": 1039.12}, {"id": "sent_22_1", "text": "Let's add a user collection into our Mongo database to keep track of all the users that use Catbook.", "start": 1039.2001, "end": 1044.4801}, {"id": "sent_22_2", "text": "So as we went over in the database lecture, we wanted to find a user model and schema in our back end.", "start": 1046.625, "end": 1053.0249}, {"id": "sent_22_3", "text": "So now on if you're checked out to step one, you should see a new file in the models folder in server called user dot j s.", "start": 1053.025, "end": 1060.625}, {"id": "sent_22_4", "text": "You can copy and paste the template from story dot j s, and what you'll wanna modify is the names and collections being passed in.", "start": 1061.4199, "end": 1068.8599}]}, {"id": "para_23", "paragraph_idx": 23, "start": 1069.1, "end": 1160.9551, "sentences": [{"id": "sent_23_0", "text": "And for this schema, we'll wanna have two fields.", "start": 1069.1, "end": 1071.7399}, {"id": "sent_23_1", "text": "Let's keep track of a name field and a Google ID field for each user.", "start": 1072.0599, "end": 1075.98}, {"id": "sent_23_2", "text": "So take a few minutes to implement the model in schema and user dot j s.", "start": 1076.585, "end": 1081.625}, {"id": "sent_23_3", "text": "Raise your hand if you need more time.", "start": 1140.095, "end": 1141.855}, {"id": "sent_23_4", "text": "Okay.", "start": 1160.3151, "end": 1160.9551}]}, {"id": "para_24", "paragraph_idx": 24, "start": 1160.9551, "end": 1196.495, "sentences": [{"id": "sent_24_0", "text": "Let's go through how we can add our user model and schema to the back end.", "start": 1160.9551, "end": 1165.115}, {"id": "sent_24_1", "text": "So first, I'll go into story dot j s because we already wrote a story schema and exported it there, so I'll use that as a template.", "start": 1165.3551, "end": 1173.9099}, {"id": "sent_24_2", "text": "So what I'm doing is I'm copy pasting that into user dot j s.", "start": 1174.23, "end": 1178.71}, {"id": "sent_24_3", "text": "So in our first line, we're requiring Mongoose and instead of a story schema, we you wanna define a user schema and we wanna have two fields.", "start": 1179.51, "end": 1190.815}, {"id": "sent_24_4", "text": "Let's have a name field with type string and a Google ID field with type string.", "start": 1190.975, "end": 1196.495}]}, {"id": "para_25", "paragraph_idx": 25, "start": 1199.13, "end": 1229.01, "sentences": [{"id": "sent_25_0", "text": "And instead of structuring the story collection, we're using this to structure the user collection.", "start": 1199.13, "end": 1205.69}, {"id": "sent_25_1", "text": "So you should replace this with user, and we want this user collection to have structure user schema.", "start": 1205.85, "end": 1211.4501}, {"id": "sent_25_2", "text": "So now we have we should have a structured user collection that follows the schema.", "start": 1213.0851, "end": 1219.245}, {"id": "sent_25_3", "text": "So I have the solution right here.", "start": 1219.9651, "end": 1221.485}, {"id": "sent_25_4", "text": "Feel free to check out to step two if you missed any of that.", "start": 1225.73, "end": 1229.01}]}, {"id": "para_26", "paragraph_idx": 26, "start": 1252.47, "end": 1272.835, "sentences": [{"id": "sent_26_0", "text": "Raise your hand if you need more time.", "start": 1252.47, "end": 1254.47}, {"id": "sent_26_1", "text": "No?", "start": 1256.9501, "end": 1257.43}, {"id": "sent_26_2", "text": "Okay.", "start": 1257.43, "end": 1257.99}, {"id": "sent_26_3", "text": "Let's move on to step two then.", "start": 1257.99, "end": 1260.39}, {"id": "sent_26_4", "text": "So I'll check out the step two and we'll all wanna do this because from our side, we've made a few changes that you didn't have originally in step one.", "start": 1260.39, "end": 1272.835}]}, {"id": "para_27", "paragraph_idx": 27, "start": 1273.075, "end": 1300.4149, "sentences": [{"id": "sent_27_0", "text": "So go to your terminal.", "start": 1273.075, "end": 1274.5149}, {"id": "sent_27_1", "text": "And we wanna check out w five dash step two.", "start": 1274.995, "end": 1279.395}, {"id": "sent_27_2", "text": "If you made any changes, you'll want to reset hard first and we can check out to w five step two.", "start": 1282.78, "end": 1288.0599}, {"id": "sent_27_3", "text": "If it says that you're behind by commit, you just wanna git pull.", "start": 1288.78, "end": 1295.7749}, {"id": "sent_27_4", "text": "So let's talk about some changes we've made to the workshop.", "start": 1297.215, "end": 1300.4149}]}, {"id": "para_28", "paragraph_idx": 28, "start": 1301.695, "end": 1341.9099, "sentences": [{"id": "sent_28_0", "text": "First is to survey dot j s.", "start": 1301.695, "end": 1303.9349}, {"id": "sent_28_1", "text": "As in Annabel's lecture, we're now using a session to persist authentication.", "start": 1304.335, "end": 1310.0499}, {"id": "sent_28_2", "text": "So once the user's logged in, auth dot js will set up a session for us, which is persisted by express dot js, and this will allow the user to stay logged in even after we've refreshed.", "start": 1310.21, "end": 1322.13}, {"id": "sent_28_3", "text": "Another change we've made is that now we have a file called auth dot j s.", "start": 1331.805, "end": 1336.525}, {"id": "sent_28_4", "text": "And this is a library that the web lab staff have written for you, and we've provided a few functions.", "start": 1337.35, "end": 1341.9099}]}, {"id": "para_29", "paragraph_idx": 29, "start": 1341.9099, "end": 1369.1699, "sentences": [{"id": "sent_29_0", "text": "So let's go through them.", "start": 1341.9099, "end": 1343.0299}, {"id": "sent_29_1", "text": "First, we have a login function.", "start": 1343.51, "end": 1345.5099}, {"id": "sent_29_2", "text": "The login function is in the back end server, and once the front end gets its token from the Google auth server, it can send this token to the back end.", "start": 1347.2699, "end": 1356.7349}, {"id": "sent_29_3", "text": "And the back end will take this token, and this login function, it'll take the token from the request body.", "start": 1356.815, "end": 1365.2949}, {"id": "sent_29_4", "text": "It'll verify with Google to see if this is a legit token.", "start": 1365.7749, "end": 1369.1699}]}, {"id": "para_30", "paragraph_idx": 30, "start": 1369.89, "end": 1401.82, "sentences": [{"id": "sent_30_0", "text": "If it is a good a legit token, it'll create a new user if it's the user's first time logging in.", "start": 1369.89, "end": 1377.01}, {"id": "sent_30_1", "text": "And if it's an invalid token, it'll give us an error and tell us that we failed to log in.", "start": 1378.21, "end": 1384.5349}, {"id": "sent_30_2", "text": "We've also written for you a log out function.", "start": 1385.815, "end": 1388.6149}, {"id": "sent_30_3", "text": "Oh, sorry.", "start": 1388.9349, "end": 1389.815}, {"id": "sent_30_4", "text": "In the log in function, if it's a valid token, we also set the session user to this user so that the user can be persisted in the session and we can stay logged in even after we reload.", "start": 1389.815, "end": 1401.82}]}, {"id": "para_31", "paragraph_idx": 31, "start": 1403.1, "end": 1456.42, "sentences": [{"id": "sent_31_0", "text": "And what the log out function does is that it'll set this rec dot session user to null, so that if the user clicks the log out button, now the session doesn't have a user field in it, so authentication is no longer persisted and a new user can log in.", "start": 1403.1, "end": 1418.465}, {"id": "sent_31_1", "text": "And you'll also see that we have a new field called rec dot user, and later on, we'll see how we can use this to access the user information from any API route.", "start": 1419.88, "end": 1430.6}, {"id": "sent_31_2", "text": "Let's look at a diagram of what's happening.", "start": 1431.765, "end": 1434.485}, {"id": "sent_31_3", "text": "So remember on our front end, we had our Google login component, which allows you to access the Google auth server, which will return a success token if you've logged in through Google.", "start": 1434.725, "end": 1445.685}, {"id": "sent_31_4", "text": "And in the back end, we've just written a login function that will take a token and check with the Google auth library to verify if this is a current a valid token.", "start": 1446.5801, "end": 1456.42}]}, {"id": "para_32", "paragraph_idx": 32, "start": 1456.8201, "end": 1505.94, "sentences": [{"id": "sent_32_0", "text": "So take a few minutes to turn and talk and think about how we can get this token from the front end all the way to the back end, so that we can actually use our auth login function.", "start": 1456.8201, "end": 1466.2949}, {"id": "sent_32_1", "text": "Okay.", "start": 1495.985, "end": 1496.705}, {"id": "sent_32_2", "text": "Does anyone wanna take a stab at it?", "start": 1496.945, "end": 1498.945}, {"id": "sent_32_3", "text": "Feel free to raise your hand.", "start": 1501.78, "end": 1503.2999}, {"id": "sent_32_4", "text": "Feel free to not.", "start": 1504.82, "end": 1505.94}]}, {"id": "para_33", "paragraph_idx": 33, "start": 1505.94, "end": 1549.835, "sentences": [{"id": "sent_33_0", "text": "What we can do is we can make a post request.", "start": 1505.94, "end": 1508.82}, {"id": "sent_33_1", "text": "So we can define a new endpoint in our server called API login, and what the front end can do is make a post request and send the token all the way to our back end.", "start": 1509.14, "end": 1517.845}, {"id": "sent_33_2", "text": "So similarly for our logout function, on our front end, the user can now click a logout button and it'll change the front end to have a login button now.", "start": 1519.285, "end": 1531.045}, {"id": "sent_33_3", "text": "And what we wanna do is also tell the back end that we wanna log out so in the server, we can get rid of the session user and this is done by calling the auth layout function.", "start": 1531.5599, "end": 1543.4799}, {"id": "sent_33_4", "text": "So similarly, we can make another post request and tell the back end that we want to log out.", "start": 1543.88, "end": 1549.835}]}, {"id": "para_34", "paragraph_idx": 34, "start": 1552.715, "end": 1578.5549, "sentences": [{"id": "sent_34_0", "text": "So that's what you'll be doing next.", "start": 1552.715, "end": 1554.5549}, {"id": "sent_34_1", "text": "We want to connect the front end to the back end using two post routes.", "start": 1554.555, "end": 1557.755}, {"id": "sent_34_2", "text": "We'll make a login post route and a log out post route.", "start": 1557.9, "end": 1561.26}, {"id": "sent_34_3", "text": "So for the first part, we can go to api.js, and you'll wanna add these two routes, which we've already written for you on this slide.", "start": 1561.66, "end": 1569.66}, {"id": "sent_34_4", "text": "And once you've added that to api.js, go to navbar.jsx on the front end, and you'll wanna call you wanna post these routes.", "start": 1570.155, "end": 1578.5549}]}, {"id": "para_35", "paragraph_idx": 35, "start": 1579.035, "end": 1603.5549, "sentences": [{"id": "sent_35_0", "text": "And for the login route, you wanna pass a token parameter, which you can get by calling res.", "start": 1579.035, "end": 1584.89}, {"id": "sent_35_1", "text": "Credential.", "start": 1584.89, "end": 1585.61}, {"id": "sent_35_2", "text": "And for the log out function, you'll just need to call the post route and you won't need to pass anything through.", "start": 1586.01, "end": 1590.8099}, {"id": "sent_35_3", "text": "So take a few minutes and give that a try and feel free to hop on the queue if you have any questions.", "start": 1591.13, "end": 1595.93}, {"id": "sent_35_4", "text": "Or raise your hand and someone will come.", "start": 1601.475, "end": 1603.5549}]}, {"id": "para_36", "paragraph_idx": 36, "start": 1701.5801, "end": 1723.675, "sentences": [{"id": "sent_36_0", "text": "Raise your hand if you need more time.", "start": 1701.5801, "end": 1703.5}, {"id": "sent_36_1", "text": "Okay.", "start": 1705.8201, "end": 1706.62}, {"id": "sent_36_2", "text": "Let's go through how we can do that.", "start": 1706.9401, "end": 1708.86}, {"id": "sent_36_3", "text": "So in API.JS, you should've just added two new post endpoints, router.post, and this is the login endpoint.", "start": 1708.9401, "end": 1716.395}, {"id": "sent_36_4", "text": "And what this will do is call the auth login function that we've already written for you, and we'll do something similar for log out.", "start": 1716.875, "end": 1723.675}]}, {"id": "para_37", "paragraph_idx": 37, "start": 1726.9601, "end": 1761.0, "sentences": [{"id": "sent_37_0", "text": "So this is in our back end server, and now we wanna call these endpoints from the front end.", "start": 1726.9601, "end": 1732.32}, {"id": "sent_37_1", "text": "And we wanna do that in nap bar dot j s x when handle login and handle log out are called.", "start": 1732.4801, "end": 1737.36}, {"id": "sent_37_2", "text": "So first, in handle login, we can call the post end point to log in, and we'll do that by calling post to slash API slash log in.", "start": 1737.92, "end": 1747.0349}, {"id": "sent_37_3", "text": "And wait wait.", "start": 1748.315, "end": 1749.9149}, {"id": "sent_37_4", "text": "First, let me define a variable called user token, and we get this by getting the response of the Google server and getting the credential parameter of that response.", "start": 1749.9149, "end": 1761.0}]}, {"id": "para_38", "paragraph_idx": 38, "start": 1761.7201, "end": 1823.125, "sentences": [{"id": "sent_38_0", "text": "So after we have our user token, we can pass it to our back end.", "start": 1761.7201, "end": 1765.64}, {"id": "sent_38_1", "text": "Through a token parameter, and remember that a post request is a promise, so we wanna just or we were trying to send the user back to the front end, so let's console log.", "start": 1773.1549, "end": 1786.73}, {"id": "sent_38_2", "text": "I'll post the solutions up so you can also follow along there.", "start": 1805.825, "end": 1809.105}, {"id": "sent_38_3", "text": "And for handle log out, we don't have to pass anything to the back end because we just wanna call the end point and tell the back end that we're logged out now.", "start": 1809.96, "end": 1816.84}, {"id": "sent_38_4", "text": "So all we have to do is call post and call that to our log out endpoint.", "start": 1816.84, "end": 1823.125}]}, {"id": "para_39", "paragraph_idx": 39, "start": 1824.885, "end": 1866.4299, "sentences": [{"id": "sent_39_0", "text": "So take a second to copy that if you miss anything.", "start": 1824.885, "end": 1828.005}, {"id": "sent_39_1", "text": "Otherwise, our sign in flow should now be complete.", "start": 1831.205, "end": 1833.685}, {"id": "sent_39_2", "text": "Because now, in our front end, we have this Google login component, which will allow us to log in through Google's interface.", "start": 1834.0399, "end": 1841.32}, {"id": "sent_39_3", "text": "Google should send us a token back to the front end, and now that we have a post end point slash API slash login, we can pass this token to the back end, which will call auth dot login and do some stuff in the server to help us persist the authentication in a session.", "start": 1841.64, "end": 1856.8151}, {"id": "sent_39_4", "text": "And once we click the logout function, we'll call the API logout endpoint, API which we'll call auth logout so that we can remove the user from the session.", "start": 1857.375, "end": 1866.4299}]}, {"id": "para_40", "paragraph_idx": 40, "start": 1868.6699, "end": 1891.32, "sentences": [{"id": "sent_40_0", "text": "And now we'll move on to step three.", "start": 1868.6699, "end": 1870.8298}, {"id": "sent_40_1", "text": "Oh, take a second to breathe.", "start": 1873.71, "end": 1876.215}, {"id": "sent_40_2", "text": "This workshop is very long and we'll take another break in the middle at some point.", "start": 1876.2151, "end": 1882.215}, {"id": "sent_40_3", "text": "Okay.", "start": 1883.9751, "end": 1884.535}, {"id": "sent_40_4", "text": "So if we go back to our cat book, let's sign in.", "start": 1884.535, "end": 1891.32}]}, {"id": "para_41", "paragraph_idx": 41, "start": 1893.08, "end": 1907.1449, "sentences": [{"id": "sent_41_0", "text": "I mean, go ahead and make a story.", "start": 1893.08, "end": 1894.9199}, {"id": "sent_41_1", "text": "Hello.", "start": 1895.08, "end": 1895.72}, {"id": "sent_41_2", "text": "You make a comment as well.", "start": 1897.16, "end": 1898.68}, {"id": "sent_41_3", "text": "Here is a comment.", "start": 1898.68, "end": 1899.88}, {"id": "sent_41_4", "text": "Now you'll see that we're logged in, but it still says that we're anonymous user.", "start": 1902.425, "end": 1907.1449}]}, {"id": "para_42", "paragraph_idx": 42, "start": 1908.585, "end": 1955.78, "sentences": [{"id": "sent_42_0", "text": "That's because in our API J s, we set a variable called my name to anonymous user, so every time we're posting a story, we're just passing the string anonymous user to the database.", "start": 1908.585, "end": 1921.3499}, {"id": "sent_42_1", "text": "But now that we're logged in, it'd be great if we could log the actual user's name that's logging in so that we can see who's posting these stories and comments.", "start": 1921.51, "end": 1928.63}, {"id": "sent_42_2", "text": "So let's keep track of the creators of all our stories and comments.", "start": 1932.045, "end": 1935.485}, {"id": "sent_42_3", "text": "Turn and talk or take some take a minute to think about how you might wanna implement this.", "start": 1936.045, "end": 1940.685}, {"id": "sent_42_4", "text": "For reference, before in our story field, we have creator name and content, and now we're keeping track of the users that use our website through a user ID.", "start": 1945.62, "end": 1955.78}]}, {"id": "para_43", "paragraph_idx": 43, "start": 1979.84, "end": 2004.4299, "sentences": [{"id": "sent_43_0", "text": "Okay.", "start": 1979.84, "end": 1980.56}, {"id": "sent_43_1", "text": "So what we can do is we can add a creator ID field to all our stories and common schemas so that in our database, we can keep track of this user information.", "start": 1980.56, "end": 1990.2849}, {"id": "sent_43_2", "text": "So your turn.", "start": 1992.125, "end": 1993.645}, {"id": "sent_43_3", "text": "Now we wanna know the user ID associated with every story and comment.", "start": 1993.965, "end": 1998.0449}, {"id": "sent_43_4", "text": "So you'll first wanna start by modifying the story schema and comment schema by adding a creator ID string.", "start": 1998.205, "end": 2004.4299}]}, {"id": "para_44", "paragraph_idx": 44, "start": 2004.91, "end": 2114.445, "sentences": [{"id": "sent_44_0", "text": "And then you'll also wanna update the post route in api.j s so that for when we're making a new story or comment, we're also specifying the ID of the user that made that story in comment.", "start": 2004.91, "end": 2015.47}, {"id": "sent_44_1", "text": "And remember that right now, we're just passing anonymous user to all the creator names, so instead of that, you wanna pass the actual user's name.", "start": 2016.3949, "end": 2025.4349}, {"id": "sent_44_2", "text": "And you can get this by calling rec.user.", "start": 2025.5149, "end": 2028.075}, {"id": "sent_44_3", "text": "Raise your hand if you need more time for this.", "start": 2106.5251, "end": 2108.9253}, {"id": "sent_44_4", "text": "Okay.", "start": 2114.0452, "end": 2114.445}]}, {"id": "para_45", "paragraph_idx": 45, "start": 2117.75, "end": 2177.56, "sentences": [{"id": "sent_45_0", "text": "Let's go through how we can implement these two steps then.", "start": 2117.75, "end": 2121.59}, {"id": "sent_45_1", "text": "So first, we're gonna modify the story schema and comment schema.", "start": 2121.99, "end": 2125.9102}, {"id": "sent_45_2", "text": "Let's add a creator ID field and this will be a type string And in comment dot j s, we'll do the same thing.", "start": 2126.31, "end": 2135.445}, {"id": "sent_45_3", "text": "And now, an API dot j s, When we make a post request for a story, we're gonna wanna update creator ID and we can get that from rec dot user rec dot user dot underscore ID And we'll replace creator name with rec dot user dot name.", "start": 2142.405, "end": 2164.905}, {"id": "sent_45_4", "text": "And we'll do something similar for comment or replace creator name with rack dot user dot name.", "start": 2169.945, "end": 2177.56}]}, {"id": "para_46", "paragraph_idx": 46, "start": 2178.4402, "end": 2217.1653, "sentences": [{"id": "sent_46_0", "text": "And now we wanna insert a new field corresponding to the unique user that posted that comment.", "start": 2178.4402, "end": 2184.36}, {"id": "sent_46_1", "text": "And we'll get that via rec dot user dot underscore ID.", "start": 2184.6802, "end": 2188.7852}, {"id": "sent_46_2", "text": "And here's the solution up on the slide.", "start": 2192.7852, "end": 2195.2651}, {"id": "sent_46_3", "text": "Let's revisit cat book.", "start": 2211.3699, "end": 2213.2898}, {"id": "sent_46_4", "text": "Now if I post a story, be able to see my name.", "start": 2213.2898, "end": 2217.1653}]}, {"id": "para_47", "paragraph_idx": 47, "start": 2217.3252, "end": 2226.5251, "sentences": [{"id": "sent_47_0", "text": "Oh, we didn't wanna reload it.", "start": 2217.3252, "end": 2219.3252}, {"id": "sent_47_1", "text": "You log in.", "start": 2219.485, "end": 2220.9253}, {"id": "sent_47_2", "text": "Okay.", "start": 2224.445, "end": 2224.925}, {"id": "sent_47_3", "text": "Hi.", "start": 2224.925, "end": 2225.405}, {"id": "sent_47_4", "text": "This is Sophie.", "start": 2225.405, "end": 2226.5251}]}, {"id": "para_48", "paragraph_idx": 48, "start": 2229.1199, "end": 2268.7102, "sentences": [{"id": "sent_48_0", "text": "Yep.", "start": 2229.1199, "end": 2229.5999}, {"id": "sent_48_1", "text": "And now, you should be able to see a name field whenever you make a story and also if you make a comment.", "start": 2229.5999, "end": 2236.3198}, {"id": "sent_48_2", "text": "So give that a try on your cat book interface and feel free to raise your hand if you don't see this.", "start": 2236.3198, "end": 2242.48}, {"id": "sent_48_3", "text": "Yeah.", "start": 2262.7102, "end": 2263.2703}, {"id": "sent_48_4", "text": "Let me do that.", "start": 2267.99, "end": 2268.7102}]}, {"id": "para_49", "paragraph_idx": 49, "start": 2274.515, "end": 2310.055, "sentences": [{"id": "sent_49_0", "text": "Is that better?", "start": 2274.515, "end": 2283.555}, {"id": "sent_49_1", "text": "Okay.", "start": 2284.595, "end": 2284.9949}, {"id": "sent_49_2", "text": "Okay.", "start": 2291.44, "end": 2292.16}, {"id": "sent_49_3", "text": "So now let's check out the step four if in case you missed anything.", "start": 2292.4, "end": 2296.96}, {"id": "sent_49_4", "text": "So just to reiterate, what we just did was we added a creator ID field for both the story and comment.", "start": 2304.455, "end": 2310.055}]}, {"id": "para_50", "paragraph_idx": 50, "start": 2310.055, "end": 2336.585, "sentences": [{"id": "sent_50_0", "text": "We also replaced creator name with the name of the user that's that made the comment and story.", "start": 2310.055, "end": 2316.455}, {"id": "sent_50_1", "text": "And that should be reflected in your cat book interface.", "start": 2316.695, "end": 2320.32}, {"id": "sent_50_2", "text": "And if you wanna learn a bit more about rec where rec.", "start": 2321.12, "end": 2323.6}, {"id": "sent_50_3", "text": "User came from, you can check out the hidden slides in the slideshow.", "start": 2323.6, "end": 2327.36}, {"id": "sent_50_4", "text": "So we just saw that now we can see a name corresponding to every news story or a comment that's posted.", "start": 2329.52, "end": 2336.585}]}, {"id": "para_51", "paragraph_idx": 51, "start": 2336.665, "end": 2383.29, "sentences": [{"id": "sent_51_0", "text": "It'd be great if we could click these names and it would take us to a profile corresponding to that user.", "start": 2336.665, "end": 2341.865}, {"id": "sent_51_1", "text": "So what we wanna do now is let's add a link so that we can click on a poster's name and view their profile.", "start": 2342.425, "end": 2347.9448}, {"id": "sent_51_2", "text": "So right now, if we go to slash profile, we only have one link for this and you can get it by going to your nav bar.", "start": 2350.5898, "end": 2359.95}, {"id": "sent_51_3", "text": "But what we wanna do is we we wanna create a unique URL for every user of Catbook, and we want this to have the URL slash profile slash user ID, which we just went over in Daniel's lecture.", "start": 2361.15, "end": 2373.425}, {"id": "sent_51_4", "text": "So remember that we can do this by passing in a user ID parameter into the react router path for profile.", "start": 2373.905, "end": 2383.29}]}, {"id": "para_52", "paragraph_idx": 52, "start": 2383.29, "end": 2415.3699, "sentences": [{"id": "sent_52_0", "text": "So let's do just that.", "start": 2383.29, "end": 2384.97}, {"id": "sent_52_1", "text": "Go back to v s code, and you'll wanna go to index.j s x where our react router is defined.", "start": 2385.85, "end": 2391.21}, {"id": "sent_52_2", "text": "So here we have the route for a path profile, and right now, it's a static route that only takes us to slash profile.", "start": 2393.195, "end": 2400.395}, {"id": "sent_52_3", "text": "So what we wanna do is we wanna add slash colon user ID, this becomes a dynamic route so that the profile component now accepts a user ID after the slash profile in the URL.", "start": 2400.395, "end": 2412.97}, {"id": "sent_52_4", "text": "So go ahead and do that.", "start": 2414.0098, "end": 2415.3699}]}, {"id": "para_53", "paragraph_idx": 53, "start": 2424.305, "end": 2461.145, "sentences": [{"id": "sent_53_0", "text": "Okay.", "start": 2424.305, "end": 2424.945}, {"id": "sent_53_1", "text": "So just to recap, before we had the static route that slash profile, and now we no longer have a path at slash profile.", "start": 2426.945, "end": 2437.8}, {"id": "sent_53_2", "text": "So if you try to go to local host five one seven three slash profile, you should get an error.", "start": 2437.8, "end": 2443.56}, {"id": "sent_53_3", "text": "And instead, we'll now have profile pages that will generate for a slash profile slash user ID.", "start": 2443.96, "end": 2449.705}, {"id": "sent_53_4", "text": "So now that we have that link, let's make it so when clicking a name for each story, it'll take us to slash profile slash creator ID.", "start": 2452.665, "end": 2461.145}]}, {"id": "para_54", "paragraph_idx": 54, "start": 2463.26, "end": 2520.78, "sentences": [{"id": "sent_54_0", "text": "Okay.", "start": 2463.26, "end": 2463.74}, {"id": "sent_54_1", "text": "Turn and talk.", "start": 2463.74, "end": 2464.78}, {"id": "sent_54_2", "text": "Where does creator ID come from and how can we get it in single story so that clicking on a name will take us to this link and we're able to pass creator ID into that link in single story.", "start": 2464.94, "end": 2477.58}, {"id": "sent_54_3", "text": "Okay.", "start": 2516.38, "end": 2517.1}, {"id": "sent_54_4", "text": "Did anyone figure out where we get creator ID from?", "start": 2517.5, "end": 2520.78}]}, {"id": "para_55", "paragraph_idx": 55, "start": 2521.26, "end": 2541.225, "sentences": [{"id": "sent_55_0", "text": "Or where we can get it from?", "start": 2521.26, "end": 2522.9402}, {"id": "sent_55_1", "text": "It's not yet defined.", "start": 2523.34, "end": 2524.54}, {"id": "sent_55_2", "text": "Okay.", "start": 2530.0251, "end": 2530.8252}, {"id": "sent_55_3", "text": "Well, so how the creator information is passed is in feed.", "start": 2531.5452, "end": 2536.425}, {"id": "sent_55_4", "text": "Remember that we make a get request to slash API slash stories.", "start": 2537.145, "end": 2541.225}]}, {"id": "para_56", "paragraph_idx": 56, "start": 2541.53, "end": 2579.79, "sentences": [{"id": "sent_56_0", "text": "And what this API endpoint does is that it sends all the stories to from the back end in the database all the way to our front end.", "start": 2541.53, "end": 2550.17}, {"id": "sent_56_1", "text": "And remember that in the previous step, we just added a new field to each story, and that's the creator ID field.", "start": 2550.25, "end": 2556.73}, {"id": "sent_56_2", "text": "So once we get all these stories, we're setting the stories array object and feed to all the story objects that get returned from the database.", "start": 2557.215, "end": 2565.935}, {"id": "sent_56_3", "text": "And now, all of these story objects now have a new field called creator ID.", "start": 2566.175, "end": 2570.2551}, {"id": "sent_56_4", "text": "So when we're actually rendering the components on feed, we're passing in all of the fields of the story object into a card component.", "start": 2571.39, "end": 2579.79}]}, {"id": "para_57", "paragraph_idx": 57, "start": 2580.27, "end": 2613.8098, "sentences": [{"id": "sent_57_0", "text": "And now we also have a creator ID component.", "start": 2580.27, "end": 2582.91}, {"id": "sent_57_1", "text": "So we what we wanna do is we wanna pass creator ID from feel sorry, from feed into card so that card can pass the creator ID down a single story.", "start": 2583.7852, "end": 2595.145}, {"id": "sent_57_2", "text": "Yeah.", "start": 2601.5698, "end": 2601.97}, {"id": "sent_57_3", "text": "So creator ID lives in field and we got this for by making a post request to the stories.", "start": 2601.97, "end": 2607.89}, {"id": "sent_57_4", "text": "And we can pass this as a prop to card and pass that as a prop to single story.", "start": 2608.8499, "end": 2613.8098}]}, {"id": "para_58", "paragraph_idx": 58, "start": 2614.685, "end": 2810.135, "sentences": [{"id": "sent_58_0", "text": "So give that a try.", "start": 2614.685, "end": 2616.0452}, {"id": "sent_58_1", "text": "First, you'll wanna grab the creator ID and pass it in as a field to card, and then you'll wanna pass it to single story.", "start": 2616.605, "end": 2623.165}, {"id": "sent_58_2", "text": "And once you've passed that all the way down, in single story, you can change the link so that you can change the user's name from text to link so that clicking it takes us to slash profile slash creator ID.", "start": 2623.325, "end": 2636.35}, {"id": "sent_58_3", "text": "Raise your hand if you need a bit more time to finish this.", "start": 2740.93, "end": 2743.73}, {"id": "sent_58_4", "text": "Okay.", "start": 2809.655, "end": 2810.135}]}, {"id": "para_59", "paragraph_idx": 59, "start": 2810.135, "end": 2838.1052, "sentences": [{"id": "sent_59_0", "text": "Are we all good now?", "start": 2810.135, "end": 2811.095}, {"id": "sent_59_1", "text": "Okay.", "start": 2817.23, "end": 2817.71}, {"id": "sent_59_2", "text": "I'll go through how we can implement these two steps now.", "start": 2817.71, "end": 2820.83}, {"id": "sent_59_3", "text": "So if you recall, we just went over that in feed dot j s x, we made a get request to the back end so that it sends all the story objects back to our front end.", "start": 2821.23, "end": 2830.19}, {"id": "sent_59_4", "text": "And when we're rendering, we're taking this entire stories list and passing in the fields of the stories into the card component.", "start": 2830.745, "end": 2838.1052}]}, {"id": "para_60", "paragraph_idx": 60, "start": 2838.585, "end": 2872.5098, "sentences": [{"id": "sent_60_0", "text": "So now now that we've added a creator ID field in our story schema, let's put that in the creator ID field in the card.", "start": 2838.585, "end": 2848.59}, {"id": "sent_60_1", "text": "So we can get that by grabbing story object dot creator ID.", "start": 2848.75, "end": 2853.4702}, {"id": "sent_60_2", "text": "So now the creator ID should be passed into card.", "start": 2854.43, "end": 2857.55}, {"id": "sent_60_3", "text": "We just added that line here in free dot jsx.", "start": 2859.1748, "end": 2862.615}, {"id": "sent_60_4", "text": "So after we pass that into card, we'll end up needing creator ID in single story.", "start": 2865.895, "end": 2872.5098}]}, {"id": "para_61", "paragraph_idx": 61, "start": 2872.5098, "end": 2911.37, "sentences": [{"id": "sent_61_0", "text": "So we need to go to card dot j s x and pass the creator ID all the way down a single story.", "start": 2872.5098, "end": 2878.91}, {"id": "sent_61_1", "text": "So now that creator ID prop lives here and we can go to single story, We can add a new prop called creator ID and set it equal to props.", "start": 2879.7898, "end": 2889.585}, {"id": "sent_61_2", "text": "Creator ID.", "start": 2889.585, "end": 2890.945}, {"id": "sent_61_3", "text": "So we just added this line into card dot j s x so that we can pass the creator ID from feed to card to single story.", "start": 2893.1848, "end": 2902.01}, {"id": "sent_61_4", "text": "So now that we have the creator ID prop in single story, we can replace this props.", "start": 2904.73, "end": 2911.37}]}, {"id": "para_62", "paragraph_idx": 62, "start": 2911.37, "end": 2941.13, "sentences": [{"id": "sent_62_0", "text": "Creator name span component with a link component that takes us to slash profile slash creator ID.", "start": 2911.37, "end": 2918.005}, {"id": "sent_62_1", "text": "So let's replace this with a link component.", "start": 2918.645, "end": 2921.045}, {"id": "sent_62_2", "text": "So instead of span, we'll replace this with a link.", "start": 2921.4448, "end": 2925.125}, {"id": "sent_62_3", "text": "And with link, we have a two parameter, which will pass in a link to.", "start": 2927.45, "end": 2933.3699}, {"id": "sent_62_4", "text": "So let's have this take us to /profile/props.", "start": 2933.7698, "end": 2941.13}]}, {"id": "para_63", "paragraph_idx": 63, "start": 2941.13, "end": 2990.01, "sentences": [{"id": "sent_63_0", "text": "Creator ID.", "start": 2941.13, "end": 2942.17}, {"id": "sent_63_1", "text": "And this should make the creator name now a link in our front end interface.", "start": 2946.385, "end": 2952.225}, {"id": "sent_63_2", "text": "So to reiterate, we just pass the props down to single story and we modify this line to be a link so that clicking it should take us to slash profile slash props dot creator ID, which is a dynamic route that we just defined in the previous step in index dot j s x.", "start": 2953.105, "end": 2969.6099}, {"id": "sent_63_3", "text": "So I'll put the solution up on the slide, and let's take a look at cat look now.", "start": 2973.465, "end": 2978.1853}, {"id": "sent_63_4", "text": "So remember that slash profile is now four zero four not found because we no longer have a path for it in our react router, but instead we have dynamic paths taking us to slash profile slash user ID.", "start": 2978.745, "end": 2990.01}]}, {"id": "para_64", "paragraph_idx": 64, "start": 2990.25, "end": 3015.2402, "sentences": [{"id": "sent_64_0", "text": "So if you go back to local host, you'll see that all the names are now links.", "start": 2990.25, "end": 2994.49}, {"id": "sent_64_1", "text": "So if I click my name, it takes me to a profile.", "start": 2994.49, "end": 2997.13}, {"id": "sent_64_2", "text": "While it's not my profile, it's still a profile page.", "start": 2997.825, "end": 3000.545}, {"id": "sent_64_3", "text": "And in the next step, we'll go over how we can modify this page.", "start": 3000.785, "end": 3004.785}, {"id": "sent_64_4", "text": "So if everyone's ready, you can reset hard in case you miss any steps and we can check out to workshop five step five.", "start": 3008.2249, "end": 3015.2402}]}, {"id": "para_65", "paragraph_idx": 65, "start": 3015.4001, "end": 3070.5552, "sentences": [{"id": "sent_65_0", "text": "So I'll do git reset dash dash hard, and I'll check out to workshop five step five.", "start": 3015.4001, "end": 3021.48}, {"id": "sent_65_1", "text": "Here's some hints for testing in case you're getting any bugs.", "start": 3035.095, "end": 3039.0952}, {"id": "sent_65_2", "text": "First, you wanna make sure that you're logged in before posting because you remember when we post, we're passing in user information and if you're not logged in, that user information is null and it'll get mad at you.", "start": 3039.335, "end": 3050.0403}, {"id": "sent_65_3", "text": "And you If you're trying to test the features for the links and the usernames, make sure that you're making new posts with the new changes to test this feature because previously, we didn't have usernames for the stories and comments.", "start": 3050.4402, "end": 3063.0352}, {"id": "sent_65_4", "text": "And if your code works, clicking on a username should take you to a link that goes to slash profile slash some user ID.", "start": 3063.435, "end": 3070.5552}]}, {"id": "para_66", "paragraph_idx": 66, "start": 3071.355, "end": 3100.4248, "sentences": [{"id": "sent_66_0", "text": "And the name on the profile page should currently be wrong, but that's okay because we'll tackle that in the next step.", "start": 3071.355, "end": 3078.3103}, {"id": "sent_66_1", "text": "So feel free to test that out and now we'll move on to step five.", "start": 3081.9102, "end": 3085.9902}, {"id": "sent_66_2", "text": "Okay.", "start": 3088.825, "end": 3089.4648}, {"id": "sent_66_3", "text": "So remember that we just clicked the link and it took us to Shannon Wu's profile page.", "start": 3089.7048, "end": 3094.825}, {"id": "sent_66_4", "text": "But we don't know who Shannon Wu is and we want that to take us to the profile page for the user we clicked.", "start": 3094.825, "end": 3100.4248}]}, {"id": "para_67", "paragraph_idx": 67, "start": 3102.4, "end": 3159.6401, "sentences": [{"id": "sent_67_0", "text": "So that means that we need to access user dot name from the profile.js x component, but how do we do that?", "start": 3102.4, "end": 3110.32}, {"id": "sent_67_1", "text": "So remember, on profile.js x, we have access to the user ID parameter that was passed in through the URL in the React router.", "start": 3112.4, "end": 3122.2651}, {"id": "sent_67_2", "text": "So with this user ID, how can we get the name of the user from profile.jsx?", "start": 3122.8252, "end": 3128.0251}, {"id": "sent_67_3", "text": "Take a few minutes to turn and talk with a neighbor and think about how we can use the user ID in the profile page to grab the name of the user.", "start": 3128.92, "end": 3135.64}, {"id": "sent_67_4", "text": "Okay.", "start": 3159.32, "end": 3159.6401}]}, {"id": "para_68", "paragraph_idx": 68, "start": 3159.6401, "end": 3193.55, "sentences": [{"id": "sent_68_0", "text": "Does anyone wanna raise their hand and take a stab at this question?", "start": 3159.6401, "end": 3163.08}, {"id": "sent_68_1", "text": "Yeah.", "start": 3165.8801, "end": 3166.28}, {"id": "sent_68_2", "text": "Yeah.", "start": 3191.79, "end": 3192.35}, {"id": "sent_68_3", "text": "Exactly.", "start": 3192.35, "end": 3192.75}, {"id": "sent_68_4", "text": "Good job.", "start": 3192.75, "end": 3193.55}]}, {"id": "para_69", "paragraph_idx": 69, "start": 3193.95, "end": 3242.0652, "sentences": [{"id": "sent_69_0", "text": "So what we can do is we can make a get request by passing in the user ID as a parameter to our back end server.", "start": 3193.95, "end": 3200.83}, {"id": "sent_69_1", "text": "And if you remember from the databases lecture, we're using a library in our back end called Mongoose, and Mongoose has query functions that allow us to search in the user database by ID or by certain queries.", "start": 3201.07, "end": 3213.845}, {"id": "sent_69_2", "text": "So what we're gonna do now is we'll pass the user ID into a get request to the back end server, and we'll have this user endpoint that will find the user by ID from the database, and it'll pass all of this user information along to the front end after the get request returns.", "start": 3214.34, "end": 3232.865}, {"id": "sent_69_3", "text": "Okay.", "start": 3234.385, "end": 3235.105}, {"id": "sent_69_4", "text": "So what we wanna do is write an API route that gives us information about a user.", "start": 3236.945, "end": 3242.0652}]}, {"id": "para_70", "paragraph_idx": 70, "start": 3242.785, "end": 3296.3452, "sentences": [{"id": "sent_70_0", "text": "We kinda already talked about this but just to reiterate, we're now working on or yeah, turn and talk.", "start": 3242.785, "end": 3251.16}, {"id": "sent_70_1", "text": "Which part of the diagram are we gonna work on to give us information about a user and what does this a p riot route have to do?", "start": 3251.16, "end": 3257.5598}, {"id": "sent_70_2", "text": "Kinda already gave away the answer, but I think it's just good to think about and talk through again with a partner.", "start": 3259.8552, "end": 3265.0552}, {"id": "sent_70_3", "text": "Okay, yeah.", "start": 3283.57, "end": 3284.53}, {"id": "sent_70_4", "text": "So just to recap, we're now gonna be working we're gonna first be working on this part of the diagram because we wanna grab information about the user from our MongoDB database.", "start": 3284.53, "end": 3296.3452}]}, {"id": "para_71", "paragraph_idx": 71, "start": 3296.825, "end": 3388.2903, "sentences": [{"id": "sent_71_0", "text": "So what's gonna happen is the API route defined in API.js is gonna use a Mongoose query to find the user by the user ID.", "start": 3296.825, "end": 3305.21}, {"id": "sent_71_1", "text": "So let's start by implementing the API route in API.js.", "start": 3307.21, "end": 3311.6099}, {"id": "sent_71_2", "text": "And this is gonna be a get endpoint that's gonna use a mongoose query to find the user document of the user given the user ID.", "start": 3312.145, "end": 3320.465}, {"id": "sent_71_3", "text": "And as a hint, you can use the user dot find by ID function and pass in the user ID there.", "start": 3320.865, "end": 3328.0498}, {"id": "sent_71_4", "text": "As a hint, where it says insert ID here, we wanna be passing in the user ID as a parameter.", "start": 3381.01, "end": 3388.2903}]}, {"id": "para_72", "paragraph_idx": 72, "start": 3388.4502, "end": 3503.3801, "sentences": [{"id": "sent_72_0", "text": "And how we can get that parameter is by getting by entering rec dot query dot user ID.", "start": 3388.4502, "end": 3394.1301}, {"id": "sent_72_1", "text": "Another hint is that a mongoose query is a promise, so after, you should use a dot den and send the user back to the front end by using res dot send.", "start": 3410.46, "end": 3421.4202}, {"id": "sent_72_2", "text": "So those are two hints I have for you and now take another minute or two to finish writing your code.", "start": 3421.66, "end": 3427.935}, {"id": "sent_72_3", "text": "Raise your hand if you need another minute.", "start": 3449.1501, "end": 3451.23}, {"id": "sent_72_4", "text": "Okay.", "start": 3502.58, "end": 3503.3801}]}, {"id": "para_73", "paragraph_idx": 73, "start": 3503.7002, "end": 3540.0852, "sentences": [{"id": "sent_73_0", "text": "Let's go through how we can implement this API route to grab information about the user by passing in the user ID through a parameter.", "start": 3503.7002, "end": 3511.6052}, {"id": "sent_73_1", "text": "So this is a get endpoint that we're calling in our front end.", "start": 3512.5652, "end": 3516.0051}, {"id": "sent_73_2", "text": "So we'll wanna start by using router dot get, and we want this endpoint to live in slash user.", "start": 3516.085, "end": 3521.685}, {"id": "sent_73_3", "text": "So in the first argument, pass in a string called slash user.", "start": 3522.0698, "end": 3526.39}, {"id": "sent_73_4", "text": "You wanna take the rack and res objects and now in the body of the function or you function or You should use the find by ID mongoose function.", "start": 3527.8298, "end": 3540.0852}]}, {"id": "para_74", "paragraph_idx": 74, "start": 3540.565, "end": 3577.945, "sentences": [{"id": "sent_74_0", "text": "So we'll take a user object which connects to the user collection in the database.", "start": 3540.565, "end": 3545.925}, {"id": "sent_74_1", "text": "So user dot find by ID and in the argument of this function, we wanna pass in the user ID.", "start": 3546.405, "end": 3554.09}, {"id": "sent_74_2", "text": "And remember that this is a get request, so we can get it from the front end by entering rec dot query dot user ID.", "start": 3554.3298, "end": 3562.01}, {"id": "sent_74_3", "text": "So now, this function will go through your Mongo database, look through the users collection, and find the user that has this user ID.", "start": 3563.305, "end": 3571.865}, {"id": "sent_74_4", "text": "Remember that Mongoose queries are promises, so we're gonna wanna make this a dot then.", "start": 3572.345, "end": 3577.945}]}, {"id": "para_75", "paragraph_idx": 75, "start": 3579.05, "end": 3606.9749, "sentences": [{"id": "sent_75_0", "text": "And we're also gonna wanna send this user back to the front end.", "start": 3579.05, "end": 3582.73}, {"id": "sent_75_1", "text": "So we'll take the user as the parameter, and we'll send this in the response back to the front end by doing res dot send.", "start": 3582.81, "end": 3592.33}, {"id": "sent_75_2", "text": "And in the send, we'll wanna pass in the user.", "start": 3593.775, "end": 3596.335}, {"id": "sent_75_3", "text": "So this is a user object with all of the user fields that we define in our user schema in an earlier step.", "start": 3597.135, "end": 3603.135}, {"id": "sent_75_4", "text": "And now we have a get endpoint to slash user.", "start": 3603.535, "end": 3606.9749}]}, {"id": "para_76", "paragraph_idx": 76, "start": 3607.5398, "end": 3661.4849, "sentences": [{"id": "sent_76_0", "text": "Here's the solution by the way, to slash user and it'll go through the database, find the user that has this ID and send the entire user object back to your front end.", "start": 3607.5398, "end": 3618.8198}, {"id": "sent_76_1", "text": "So take a minute to copy that down.", "start": 3621.595, "end": 3623.675}, {"id": "sent_76_2", "text": "And now that we have this user endpoint, as our friend mentioned earlier here, we're gonna wanna call this get endpoint from nav sorry, from the profile page so that we can pass the username into that and render it on the front interface.", "start": 3626.635, "end": 3644.27}, {"id": "sent_76_3", "text": "Okay.", "start": 3657.085, "end": 3657.565}, {"id": "sent_76_4", "text": "So hopefully, you guys have this get endpoint copied down now.", "start": 3657.565, "end": 3661.4849}]}, {"id": "para_77", "paragraph_idx": 77, "start": 3662.5898, "end": 3702.0698, "sentences": [{"id": "sent_77_0", "text": "If you don't, you can refer back to the slides.", "start": 3662.5898, "end": 3665.15}, {"id": "sent_77_1", "text": "And now that we have this endpoint, our next step is to update profile.jsx.", "start": 3665.79, "end": 3671.15}, {"id": "sent_77_2", "text": "What we wanna do is we wanna update the name to show user dot name instead of Shannon Wu.", "start": 3672.67, "end": 3680.495}, {"id": "sent_77_3", "text": "So remember that as we covered in Daniel's lecture earlier, the React router will pass in the user ID parameter of the URL into use params dot user ID.", "start": 3681.5352, "end": 3693.67}, {"id": "sent_77_4", "text": "So you can use that when you're making an API call to API slash user by passing that as your argument to the endpoint.", "start": 3693.8298, "end": 3702.0698}]}, {"id": "para_78", "paragraph_idx": 78, "start": 3702.655, "end": 3879.555, "sentences": [{"id": "sent_78_0", "text": "So what we wanna do now is we wanna make an API call and profile dot j s x to slash API slash user, and you wanna pass the user ID to the back end, and you can get the user ID by using use params dot user ID.", "start": 3702.655, "end": 3716.735}, {"id": "sent_78_1", "text": "Don't worry about the loading step for now, we can go over that together after you implement the first check mark step, which is to make an API call and pass that back to the front end.", "start": 3723.84, "end": 3733.885}, {"id": "sent_78_2", "text": "As a hint, you wanna make this API call in a use effect, and you want this use effect to be called upon the render of profile.jsx.", "start": 3787.865, "end": 3798.665}, {"id": "sent_78_3", "text": "Raise your hand if you need a bit more time to complete the first step of this slide.", "start": 3840.1401, "end": 3845.225}, {"id": "sent_78_4", "text": "Okay.", "start": 3878.9949, "end": 3879.555}]}, {"id": "para_79", "paragraph_idx": 79, "start": 3879.555, "end": 3906.5051, "sentences": [{"id": "sent_79_0", "text": "So let's go through how we can call the, user get endpoint in the back end from profile.jsx.", "start": 3879.555, "end": 3886.515}, {"id": "sent_79_1", "text": "So if we call this endpoint, we're gonna need to save this information somewhere.", "start": 3887.54, "end": 3891.46}, {"id": "sent_79_2", "text": "So what we can do is start by defining a user state.", "start": 3891.46, "end": 3894.6602}, {"id": "sent_79_3", "text": "So let's do const user set user, and let's use the u state hook.", "start": 3895.06, "end": 3900.18}, {"id": "sent_79_4", "text": "And initially, we won't know what the user is, so we'll just initialize the user state to null.", "start": 3900.665, "end": 3906.5051}]}, {"id": "para_80", "paragraph_idx": 80, "start": 3907.945, "end": 3946.03, "sentences": [{"id": "sent_80_0", "text": "Now that we have this user state, we can make a get request, and this should happen in a use effect hook.", "start": 3907.945, "end": 3913.945}, {"id": "sent_80_1", "text": "And the use effect hook should have a dependency of an empty array, because we want this use effect to be called at the initial rendering of profile dot j s x.", "start": 3914.51, "end": 3924.19}, {"id": "sent_80_2", "text": "So let's start by making a use effect.", "start": 3924.5898, "end": 3928.3499}, {"id": "sent_80_3", "text": "And what we want to happen in this use effect is we want to make a get request to slash API slash user.", "start": 3934.615, "end": 3942.455}, {"id": "sent_80_4", "text": "And we wanna pass in a user ID.", "start": 3943.23, "end": 3946.03}]}, {"id": "para_81", "paragraph_idx": 81, "start": 3948.75, "end": 3969.915, "sentences": [{"id": "sent_81_0", "text": "So let's define the user ID really quickly above the use effect, and remember that we're gonna use use params.", "start": 3948.75, "end": 3954.91}, {"id": "sent_81_1", "text": "User ID.", "start": 3954.91, "end": 3955.55}, {"id": "sent_81_2", "text": "So let's do let user ID equal use params.", "start": 3956.155, "end": 3963.3552}, {"id": "sent_81_3", "text": "User ID.", "start": 3963.3552, "end": 3964.875}, {"id": "sent_81_4", "text": "But this ID is capitalized because that's just how we defined it as a parameter in the URL.", "start": 3964.875, "end": 3969.915}]}, {"id": "para_82", "paragraph_idx": 82, "start": 3970.69, "end": 3996.625, "sentences": [{"id": "sent_82_0", "text": "So be aware of how the capitalization is here.", "start": 3970.69, "end": 3974.37}, {"id": "sent_82_1", "text": "It's just a notation we're using.", "start": 3975.97, "end": 3977.81}, {"id": "sent_82_2", "text": "So we just defined a user ID variable on line 18.", "start": 3979.97, "end": 3983.81}, {"id": "sent_82_3", "text": "And now on line 20, let's pass that in when we're making a get request.", "start": 3984.225, "end": 3988.1453}, {"id": "sent_82_4", "text": "So we're making a get request, and this is a promise.", "start": 3990.7852, "end": 3996.625}]}, {"id": "para_83", "paragraph_idx": 83, "start": 3996.625, "end": 4027.54, "sentences": [{"id": "sent_83_0", "text": "So we want to send and remember that our get request returns the user object.", "start": 3996.625, "end": 4002.24}, {"id": "sent_83_1", "text": "So once we have that user object, let's set our user state and profile to user.", "start": 4002.3198, "end": 4007.3599}, {"id": "sent_83_2", "text": "So what just happened here was we define a user state that can be stored on the profile page.", "start": 4010.535, "end": 4016.455}, {"id": "sent_83_3", "text": "We're making a get request and this use effect that's called at the rendering of profile of the profile page.", "start": 4016.9348, "end": 4022.615}, {"id": "sent_83_4", "text": "We're passing the user ID from the URL parameter to the back end.", "start": 4023.06, "end": 4027.54}]}, {"id": "para_84", "paragraph_idx": 84, "start": 4027.54, "end": 4067.35, "sentences": [{"id": "sent_84_0", "text": "The back end is taking this user ID and querying the database for the user corresponding to this ID, and it's being sent back so that we can set our variable now to user.", "start": 4027.54, "end": 4036.58}, {"id": "sent_84_1", "text": "So one thing we wanna do now is we wanna show a loading component or page if the user hasn't load yet, or else this error might occur that like you the name doesn't yet exist, so you'll get a type error that you can't read this name property.", "start": 4037.945, "end": 4051.705}, {"id": "sent_84_2", "text": "So we can use a conditional operator again.", "start": 4052.47, "end": 4055.83}, {"id": "sent_84_3", "text": "So my next step for you is to check if you should check if the user object is null.", "start": 4055.99, "end": 4062.31}, {"id": "sent_84_4", "text": "If the user object is null, you should just show like a text element that says loading.", "start": 4062.6301, "end": 4067.35}]}, {"id": "para_85", "paragraph_idx": 85, "start": 4068.0352, "end": 4166.335, "sentences": [{"id": "sent_85_0", "text": "Otherwise, you should render everything else on this page.", "start": 4068.0352, "end": 4071.3152}, {"id": "sent_85_1", "text": "So give that a try.", "start": 4071.475, "end": 4072.915}, {"id": "sent_85_2", "text": "In case you missed it, this is what I just wrote.", "start": 4078.115, "end": 4080.74}, {"id": "sent_85_3", "text": "Let's go through the conditional rendering now.", "start": 4155.535, "end": 4158.255}, {"id": "sent_85_4", "text": "Similar to the earlier step, we can wrap everything in brackets.", "start": 4159.855, "end": 4166.335}]}, {"id": "para_86", "paragraph_idx": 86, "start": 4169.2803, "end": 4198.76, "sentences": [{"id": "sent_86_0", "text": "We'll check if user is no or not.", "start": 4169.2803, "end": 4173.52}, {"id": "sent_86_1", "text": "So if it's if not user, we're gonna want to have a loading component.", "start": 4173.7603, "end": 4180.24}, {"id": "sent_86_2", "text": "So let's just put it between dev dev brackets and say like, oh, loading.", "start": 4180.805, "end": 4186.085}, {"id": "sent_86_3", "text": "Otherwise, we wanna render everything else.", "start": 4187.045, "end": 4189.525}, {"id": "sent_86_4", "text": "So we can copy paste everything else and wrap it in these parentheses.", "start": 4189.9253, "end": 4198.76}]}, {"id": "para_87", "paragraph_idx": 87, "start": 4224.5303, "end": 4325.0947, "sentences": [{"id": "sent_87_0", "text": "Notation wrong.", "start": 4224.5303, "end": 4225.6504}, {"id": "sent_87_1", "text": "Okay.", "start": 4304.11, "end": 4304.75}, {"id": "sent_87_2", "text": "I think I just have a typo somewhere.", "start": 4306.03, "end": 4308.4297}, {"id": "sent_87_3", "text": "Hold on.", "start": 4312.35, "end": 4312.91}, {"id": "sent_87_4", "text": "Okay.", "start": 4324.695, "end": 4325.0947}]}, {"id": "para_88", "paragraph_idx": 88, "start": 4329.48, "end": 4369.55, "sentences": [{"id": "sent_88_0", "text": "I just pasted everything into the second argument of the conditional rendering and I wrapped everything in a parent element.", "start": 4329.48, "end": 4337.8}, {"id": "sent_88_1", "text": "So you can do that by using these empty angular brackets.", "start": 4339.8, "end": 4343.48}, {"id": "sent_88_2", "text": "Once you have that, it should conditionally render loading if user is undefined and if you're getting any problems with this, just don't worry about it and you can get checkout on the next step.", "start": 4347.715, "end": 4356.915}, {"id": "sent_88_3", "text": "And one thing we didn't do is, right now it still says Shannon Wu.", "start": 4358.03, "end": 4362.03}, {"id": "sent_88_4", "text": "So we're gonna wanna pass our new user element and we wanna grab the name parameter of the user object.", "start": 4362.11, "end": 4369.55}]}, {"id": "para_89", "paragraph_idx": 89, "start": 4370.805, "end": 4414.6597, "sentences": [{"id": "sent_89_0", "text": "Remember that user was defined earlier as a react state above here.", "start": 4370.805, "end": 4375.045}, {"id": "sent_89_1", "text": "So what we should have now is in local host.", "start": 4375.685, "end": 4378.485}, {"id": "sent_89_2", "text": "If you click on a profile, oh, awkward.", "start": 4379.5254, "end": 4384.085}, {"id": "sent_89_3", "text": "Oh.", "start": 4398.3, "end": 4398.6196}, {"id": "sent_89_4", "text": "What did you say?", "start": 4413.6196, "end": 4414.6597}]}, {"id": "para_90", "paragraph_idx": 90, "start": 4415.1396, "end": 4427.9946, "sentences": [{"id": "sent_90_0", "text": "Okay.", "start": 4415.1396, "end": 4415.78}, {"id": "sent_90_1", "text": "Use params is not defined.", "start": 4420.1797, "end": 4421.6196}, {"id": "sent_90_2", "text": "Oh, oops.", "start": 4421.6196, "end": 4422.34}, {"id": "sent_90_3", "text": "We have to import it.", "start": 4422.34, "end": 4423.86}, {"id": "sent_90_4", "text": "So we wanna import use params from react here.", "start": 4424.58, "end": 4427.9946}]}, {"id": "para_91", "paragraph_idx": 91, "start": 4428.315, "end": 4446.1, "sentences": [{"id": "sent_91_0", "text": "That should work now, maybe.", "start": 4428.315, "end": 4430.4746}, {"id": "sent_91_1", "text": "Typo?", "start": 4432.315, "end": 4433.1147}, {"id": "sent_91_2", "text": "Wait, I don't remember where use params is imported from.", "start": 4433.435, "end": 4441.675}, {"id": "sent_91_3", "text": "Oh, okay.", "start": 4443.3003, "end": 4444.1797}, {"id": "sent_91_4", "text": "Sorry you guys.", "start": 4444.9, "end": 4446.1}]}, {"id": "para_92", "paragraph_idx": 92, "start": 4446.1, "end": 4480.36, "sentences": [{"id": "sent_92_0", "text": "You wanna import re use params from react router dom.", "start": 4446.1, "end": 4453.22}, {"id": "sent_92_1", "text": "And we also wanna import get from Utilities.", "start": 4461.915, "end": 4471.6396}, {"id": "sent_92_2", "text": "Alright.", "start": 4474.44, "end": 4474.76}, {"id": "sent_92_3", "text": "So don't worry about importing all of this.", "start": 4474.76, "end": 4476.6797}, {"id": "sent_92_4", "text": "You guys can just watch and check out to the next step after this.", "start": 4476.6797, "end": 4480.36}]}, {"id": "para_93", "paragraph_idx": 93, "start": 4481.1597, "end": 4525.895, "sentences": [{"id": "sent_93_0", "text": "If you import the get so that we can make the request and import the use params, you should be able to see your name if you click on a story and the user of that story.", "start": 4481.1597, "end": 4495.1445}, {"id": "sent_93_1", "text": "So let's just get check out to the next step.", "start": 4495.385, "end": 4497.465}, {"id": "sent_93_2", "text": "If you made any changes, wanna reset dash dash hard first and then check out to step six.", "start": 4500.54, "end": 4506.78}, {"id": "sent_93_3", "text": "So now on step six, you should check by going to your feed and clicking on one of the usernames and see that it takes you to a profile page with that user's name.", "start": 4508.54, "end": 4520.2944}, {"id": "sent_93_4", "text": "So just a recap of all the changes that were made in step five.", "start": 4521.9746, "end": 4525.895}]}, {"id": "para_94", "paragraph_idx": 94, "start": 4528.4897, "end": 4565.82, "sentences": [{"id": "sent_94_0", "text": "We now have a u r a dynamic URL at slash profile slash user ID that takes in this user ID parameter.", "start": 4528.4897, "end": 4536.17}, {"id": "sent_94_1", "text": "And now we make a get request to our back end so that we can get the user object corresponding to this user ID.", "start": 4536.57, "end": 4542.89}, {"id": "sent_94_2", "text": "And if we get that user object onto the profile page, we can grab the name parameter of this user object and pass it in and render that instead of Shannon Wu.", "start": 4543.765, "end": 4554.085}, {"id": "sent_94_3", "text": "Okay.", "start": 4559.18, "end": 4559.9}, {"id": "sent_94_4", "text": "So now let's move on with step six.", "start": 4562.94, "end": 4565.82}]}, {"id": "para_95", "paragraph_idx": 95, "start": 4566.94, "end": 4597.92, "sentences": [{"id": "sent_95_0", "text": "So you might notice that if you click the profile page of your nav bar, you'll see that the profile link is broken.", "start": 4566.94, "end": 4573.1}, {"id": "sent_95_1", "text": "And this is because earlier, in index dot j s x, we changed our profile route so that we have a dynamic route that renders at slash profile slash user ID.", "start": 4573.785, "end": 4584.8247}, {"id": "sent_95_2", "text": "And we no longer have a route in our router that goes to slash profile.", "start": 4585.385, "end": 4588.425}, {"id": "sent_95_3", "text": "So what we want to do is we want this profile page to take us to the profile corresponding to the logged in user.", "start": 4590.0, "end": 4596.32}, {"id": "sent_95_4", "text": "Oh.", "start": 4597.44, "end": 4597.92}]}, {"id": "para_96", "paragraph_idx": 96, "start": 4597.92, "end": 4625.19, "sentences": [{"id": "sent_96_0", "text": "Oh yeah.", "start": 4597.92, "end": 4598.32}, {"id": "sent_96_1", "text": "Just as I explained, we now have a dynamic route at slash profile slash user ID, so slash profile should be not found out.", "start": 4598.32, "end": 4605.2}, {"id": "sent_96_2", "text": "So we wanna go to slash profile slash user ID if we click on the profile once we're logged in.", "start": 4606.925, "end": 4612.6045}, {"id": "sent_96_3", "text": "But what is your user ID?", "start": 4613.085, "end": 4614.605}, {"id": "sent_96_4", "text": "So now we also wanna maintain a user ID react state in our nav bar.", "start": 4621.0303, "end": 4625.19}]}, {"id": "para_97", "paragraph_idx": 97, "start": 4629.35, "end": 4680.97, "sentences": [{"id": "sent_97_0", "text": "So the next step is in nav bar dot j s x, we'll wanna set a user ID state once we call a post request to log in.", "start": 4629.35, "end": 4637.3447}, {"id": "sent_97_1", "text": "And we wanna remove this user ID from the state once we call post slash log out, and this will be replacing our earlier React state of logged in.", "start": 4639.105, "end": 4648.465}, {"id": "sent_97_2", "text": "So let's go through how we can do that together.", "start": 4661.3203, "end": 4663.24}, {"id": "sent_97_3", "text": "Let's go to navbar.jsx, and we wanna replace this logged in state now with a user ID state.", "start": 4664.355, "end": 4673.315}, {"id": "sent_97_4", "text": "We can also use the user ID state to keep track of whether we're logged in or not, because the user ID state should be null if we're logged out.", "start": 4674.435, "end": 4680.97}]}, {"id": "para_98", "paragraph_idx": 98, "start": 4681.29, "end": 4740.77, "sentences": [{"id": "sent_98_0", "text": "So let's replace this with user ID, set user ID, and we wanna initialize the user ID to null because initially, we won't know if we're logged in or not and we should be logged out, there should be no user corresponding to the user ID.", "start": 4681.29, "end": 4695.855}, {"id": "sent_98_1", "text": "So once we have that react state and handle login, we should now update the user ID state.", "start": 4703.7, "end": 4710.42}, {"id": "sent_98_2", "text": "So let's get rid of the line that says logged in a true because we no longer have that state.", "start": 4710.58, "end": 4714.66}, {"id": "sent_98_3", "text": "And now let's update the user ID state.", "start": 4717.615, "end": 4720.335}, {"id": "sent_98_4", "text": "So let's set user set user set user ID to user dot slash ID, and remember that user is an object that the login endpoint is sending back to us that contains information about the user, and we can grab the ID parameter from that.", "start": 4721.855, "end": 4740.77}]}, {"id": "para_99", "paragraph_idx": 99, "start": 4745.305, "end": 4789.87, "sentences": [{"id": "sent_99_0", "text": "So similarly, in handle logout, let's get rid of the set logged in, because as you remember, we just got rid of that state and we now have a user ID state replacing that.", "start": 4745.305, "end": 4758.7295}, {"id": "sent_99_1", "text": "And now we'll wanna set user ID to null.", "start": 4759.13, "end": 4761.9297}, {"id": "sent_99_2", "text": "So what we just did was we updated the logic and handle login and handle logout so that we're setting user ID accordingly based on whether we're logged in or not.", "start": 4765.7354, "end": 4774.855}, {"id": "sent_99_3", "text": "And now that we have the user ID, we want to link to slash profile slash user ID instead of slash profile.", "start": 4777.015, "end": 4785.3096}, {"id": "sent_99_4", "text": "So let's go to line this line where our profile link is defined.", "start": 4785.71, "end": 4789.87}]}, {"id": "para_100", "paragraph_idx": 100, "start": 4791.645, "end": 4856.865, "sentences": [{"id": "sent_100_0", "text": "Right now, links to slash profile, but instead of slash profile, let's have it linked to slash profile slash user ID.", "start": 4791.645, "end": 4800.445}, {"id": "sent_100_1", "text": "So I'll paste the solution up on the slides and you can copy that.", "start": 4803.005, "end": 4806.765}, {"id": "sent_100_2", "text": "Oh, wait, I explained to the step after that.", "start": 4814.23, "end": 4817.3496}, {"id": "sent_100_3", "text": "So So once you have the logic for setting the user ID, we wanna move on to the next step which is linking it to slash profile slash user ID which I accidentally just showed.", "start": 4818.31, "end": 4850.04}, {"id": "sent_100_4", "text": "But in case you missed it, I'll give you a few minutes to give it a try on your own and we can go over it again.", "start": 4850.705, "end": 4856.865}]}, {"id": "para_101", "paragraph_idx": 101, "start": 4878.01, "end": 4899.5, "sentences": [{"id": "sent_101_0", "text": "Yeah?", "start": 4878.01, "end": 4878.4097}, {"id": "sent_101_1", "text": "Okay.", "start": 4879.9653, "end": 4880.685}, {"id": "sent_101_2", "text": "So to do this, we just modified this slash profile link to slash profile slash user ID.", "start": 4880.845, "end": 4890.285}, {"id": "sent_101_3", "text": "And the solutions are up on the slides.", "start": 4891.565, "end": 4893.645}, {"id": "sent_101_4", "text": "So now our profiling should take us so if you go back to our home page.", "start": 4894.46, "end": 4899.5}]}, {"id": "para_102", "paragraph_idx": 102, "start": 4925.55, "end": 4971.915, "sentences": [{"id": "sent_102_0", "text": "So instead of when we're conditionally rendering sign out, instead of checking whether logged in is null, we should be checking whether user ID is null.", "start": 4925.55, "end": 4938.015}, {"id": "sent_102_1", "text": "Okay.", "start": 4940.495, "end": 4940.975}, {"id": "sent_102_2", "text": "So now, what should happen is if you're logged in, and if you click the profile page, it should take you to your own profile.", "start": 4940.975, "end": 4953.8696}, {"id": "sent_102_3", "text": "So give that a try.", "start": 4955.31, "end": 4956.4297}, {"id": "sent_102_4", "text": "And we'll move on to step seven.", "start": 4970.2354, "end": 4971.915}]}, {"id": "para_103", "paragraph_idx": 103, "start": 4975.84, "end": 5015.88, "sentences": [{"id": "sent_103_0", "text": "Let's do git reset dash dash hard and go to git checkout w five step seven.", "start": 4975.84, "end": 4985.84}, {"id": "sent_103_1", "text": "And once you're on step seven, you should be able to do what we just shown and if you're logged in and click the profile page on that bar, it should take you to your own profile page.", "start": 4985.84, "end": 4994.975}, {"id": "sent_103_2", "text": "So make sure that works while you're on step seven.", "start": 4994.975, "end": 4997.375}, {"id": "sent_103_3", "text": "And note that if I'm logged in, if I refresh the page, it takes me back to a signed out state.", "start": 4997.935, "end": 5010.84}, {"id": "sent_103_4", "text": "So that means once you refresh, user ID is reset because it's stored in a state.", "start": 5011.4, "end": 5015.88}]}, {"id": "para_104", "paragraph_idx": 104, "start": 5016.5854, "end": 5077.025, "sentences": [{"id": "sent_104_0", "text": "But remember in the back end, we already stored the user information into a session.", "start": 5016.5854, "end": 5021.785}, {"id": "sent_104_1", "text": "This means that the back end remembers if you're logged in or not, because it keeps rec dot user filled with the user's information in your session, but the front end forgot because user ID is now stored as a state.", "start": 5021.9453, "end": 5032.75}, {"id": "sent_104_2", "text": "So every time that navbar.jsx renders, we need to ask the server, are we still logged in and if so, what's my user ID?", "start": 5034.59, "end": 5042.43}, {"id": "sent_104_3", "text": "So take twenty seconds to think about how we can check if we're still logged in or not.", "start": 5042.9653, "end": 5049.205}, {"id": "sent_104_4", "text": "Yeah.", "start": 5076.465, "end": 5077.025}]}, {"id": "para_105", "paragraph_idx": 105, "start": 5077.025, "end": 5098.87, "sentences": [{"id": "sent_105_0", "text": "Okay.", "start": 5077.025, "end": 5077.505}, {"id": "sent_105_1", "text": "So remember that our user information is persisted in the back end in your session, so we wanna make another get request to the back end.", "start": 5077.505, "end": 5086.1445}, {"id": "sent_105_2", "text": "And we wanna request to the back end.", "start": 5086.1445, "end": 5086.15}, {"id": "sent_105_3", "text": "And we wanna check if rec dot user is still filled in, because that means that the user information is still in our session and we should be good to stay logged in.", "start": 5086.15, "end": 5094.9497}, {"id": "sent_105_4", "text": "So we're gonna implement a new get endpoint called whoami.", "start": 5095.19, "end": 5098.87}]}, {"id": "para_106", "paragraph_idx": 106, "start": 5100.015, "end": 5135.835, "sentences": [{"id": "sent_106_0", "text": "And you're gonna implement this new route in api.js.", "start": 5100.015, "end": 5103.855}, {"id": "sent_106_1", "text": "It looks like no parameters, and all it'll do is return if it'll return rec dot user if it exists, and if it doesn't, it'll return empty brackets.", "start": 5104.7354, "end": 5114.415}, {"id": "sent_106_2", "text": "So we can start with the first step and implement this route in api dot j s.", "start": 5116.92, "end": 5121.5596}, {"id": "sent_106_3", "text": "And let's go ahead and write that together.", "start": 5126.2, "end": 5128.76}, {"id": "sent_106_4", "text": "So open up api dot j s, and let's set up the get route to who am I.", "start": 5129.275, "end": 5135.835}]}, {"id": "para_107", "paragraph_idx": 107, "start": 5136.235, "end": 5165.675, "sentences": [{"id": "sent_107_0", "text": "So we'll do router dot get, and we want this endpoint to live in slash who am I.", "start": 5136.235, "end": 5141.515}, {"id": "sent_107_1", "text": "We'll take the rec and res objects.", "start": 5142.86, "end": 5145.26}, {"id": "sent_107_2", "text": "And if this get endpoint is called, we wanna check if rec dot user exists.", "start": 5147.1, "end": 5153.42}, {"id": "sent_107_3", "text": "So what we can do is use an if statement.", "start": 5153.58, "end": 5155.58}, {"id": "sent_107_4", "text": "If rec dot user If it exists, then we'll wanna send this rec dot user back to our front end.", "start": 5156.075, "end": 5165.675}]}, {"id": "para_108", "paragraph_idx": 108, "start": 5165.755, "end": 5203.7695, "sentences": [{"id": "sent_108_0", "text": "So we wanna do res dot send rec dot user.", "start": 5165.755, "end": 5169.275}, {"id": "sent_108_1", "text": "This will send the user at in the response.", "start": 5170.5903, "end": 5173.4697}, {"id": "sent_108_2", "text": "Otherwise, we'll have else, and we wanna send empty brackets.", "start": 5174.43, "end": 5179.87}, {"id": "sent_108_3", "text": "So this is a get endpoint at whoami, which will send rec dot user if it exists, and otherwise, it'll send nothing.", "start": 5181.23, "end": 5188.085}, {"id": "sent_108_4", "text": "So copy that down in api.js, and once you have this API endpoint, we wanna call this route in nav bar, so that every time nav bar loads, it's gonna ask the back end, oh, are we still logged in?", "start": 5190.5654, "end": 5203.7695}]}, {"id": "para_109", "paragraph_idx": 109, "start": 5203.8496, "end": 5243.9297, "sentences": [{"id": "sent_109_0", "text": "And if so, it's gonna fill in the user ID state that we defined in navbar, fill it in so that every time you reload, your authentication should be persisted.", "start": 5203.8496, "end": 5213.8496}, {"id": "sent_109_1", "text": "Let's go to navbar.jsx, and let's make a get request.", "start": 5214.755, "end": 5218.9946}, {"id": "sent_109_2", "text": "So in the top of the navbar component, we'll call who am I inside a use effect.", "start": 5220.195, "end": 5226.195}, {"id": "sent_109_3", "text": "So let's do use effect.", "start": 5227.0747, "end": 5229.795}, {"id": "sent_109_4", "text": "And we want the dependency array to be empty because we want this to be called every time that your nav bar page loads.", "start": 5235.05, "end": 5243.9297}]}, {"id": "para_110", "paragraph_idx": 110, "start": 5245.6953, "end": 5273.44, "sentences": [{"id": "sent_110_0", "text": "So here's the skeleton for these effect.", "start": 5245.6953, "end": 5248.255}, {"id": "sent_110_1", "text": "Inside the use effect, let's make our get request.", "start": 5248.335, "end": 5251.295}, {"id": "sent_110_2", "text": "So we'll make a get request to slash api slash who am I, and this is a promise that's gonna return with the user object from the back end.", "start": 5251.935, "end": 5261.215}, {"id": "sent_110_3", "text": "So we'll wanna do that then.", "start": 5261.215, "end": 5262.9595}, {"id": "sent_110_4", "text": "We'll take the user and just to be robust, we'll check again if user ID exists.", "start": 5264.1597, "end": 5273.44}]}, {"id": "para_111", "paragraph_idx": 111, "start": 5274.775, "end": 5327.0703, "sentences": [{"id": "sent_111_0", "text": "Or sorry, we'll check if user ID exists, and if so, we'll set our user ID state to user dot slash ID.", "start": 5274.775, "end": 5282.455}, {"id": "sent_111_1", "text": "Isn't it right here?", "start": 5322.1904, "end": 5323.55}, {"id": "sent_111_2", "text": "Oh, okay.", "start": 5323.71, "end": 5325.47}, {"id": "sent_111_3", "text": "Wait.", "start": 5326.5103, "end": 5326.83}, {"id": "sent_111_4", "text": "What?", "start": 5326.83, "end": 5327.0703}]}, {"id": "para_112", "paragraph_idx": 112, "start": 5334.475, "end": 5380.7197, "sentences": [{"id": "sent_112_0", "text": "Okay.", "start": 5334.475, "end": 5335.1147}, {"id": "sent_112_1", "text": "So just to reiterate, now we're using the use effect hook to call the get endpoint at who am I to get the user ID if it's still in the session, and this should set our user ID state to user dot slash ID.", "start": 5336.075, "end": 5351.1997}, {"id": "sent_112_2", "text": "So that's the second step, and what we wanna do now is that if the user is logged out, we'll wanna hide the profile button because there will not be a user using the application, so we don't want a profile button.", "start": 5352.4, "end": 5367.495}, {"id": "sent_112_3", "text": "So let's go down to where profile is being rendered, and we'll wanna do conditional rendering again.", "start": 5367.975, "end": 5374.6396}, {"id": "sent_112_4", "text": "And we can wrap this all in brackets, and we'll check if user id is null.", "start": 5375.1997, "end": 5380.7197}]}, {"id": "para_113", "paragraph_idx": 113, "start": 5380.88, "end": 5426.915, "sentences": [{"id": "sent_113_0", "text": "So we can do this by saying if both user id sorry, if user id is true, we'll render this profile link.", "start": 5380.88, "end": 5389.3447}, {"id": "sent_113_1", "text": "So you can write that here.", "start": 5391.825, "end": 5393.585}, {"id": "sent_113_2", "text": "You wanna put this in parentheses.", "start": 5394.865, "end": 5397.345}, {"id": "sent_113_3", "text": "So I'll post the solution on the slides.", "start": 5404.37, "end": 5406.5303}, {"id": "sent_113_4", "text": "You see that?", "start": 5426.1147, "end": 5426.915}]}, {"id": "para_114", "paragraph_idx": 114, "start": 5432.47, "end": 5493.95, "sentences": [{"id": "sent_114_0", "text": "Think it's here.", "start": 5432.47, "end": 5433.19}, {"id": "sent_114_1", "text": "Okay.", "start": 5454.845, "end": 5455.245}, {"id": "sent_114_2", "text": "And if it's not working, you wanna make sure import use effect in the top line.", "start": 5458.05, "end": 5475.125}, {"id": "sent_114_3", "text": "Okay.", "start": 5481.4453, "end": 5482.165}, {"id": "sent_114_4", "text": "So after all those changes are made, what should happen now is if you sign in and if you refresh.", "start": 5482.4053, "end": 5493.95}]}, {"id": "para_115", "paragraph_idx": 115, "start": 5508.645, "end": 5543.13, "sentences": [{"id": "sent_115_0", "text": "Let me reiterate all the changes we just made to nav bar.", "start": 5508.645, "end": 5511.5254}, {"id": "sent_115_1", "text": "So first, we imported use effect on the first line so that we can call this hook when we're making our get request.", "start": 5512.0703, "end": 5517.75}, {"id": "sent_115_2", "text": "Upon loading, we'll use this use effect to call the get request, and if the user ID exists, we're gonna set user ID to the user dot slash ID, which we get from our back end.", "start": 5518.5503, "end": 5529.3447}, {"id": "sent_115_3", "text": "And then, we'll conditionally render the profile button to only show if user ID is not null.", "start": 5530.8647, "end": 5536.385}, {"id": "sent_115_4", "text": "So after all those changes are made and you're logged in, you should be able to refresh and it'll persist your authentication.", "start": 5537.13, "end": 5543.13}]}, {"id": "para_116", "paragraph_idx": 116, "start": 5545.05, "end": 5572.85, "sentences": [{"id": "sent_116_0", "text": "If you miss any of the steps, feel free to git reset dash dash hard and check out to w five step eight.", "start": 5545.05, "end": 5550.57}, {"id": "sent_116_1", "text": "So we'll do that, git reset dash dash hard, git checkout, workshop five step eight.", "start": 5551.415, "end": 5557.015}, {"id": "sent_116_2", "text": "Okay.", "start": 5563.6504, "end": 5564.0503}, {"id": "sent_116_3", "text": "So now what happens upon refresh?", "start": 5564.0503, "end": 5566.13}, {"id": "sent_116_4", "text": "Every time that we reload navbar dot j s x, the use effect will call the API endpoint.", "start": 5566.37, "end": 5572.85}]}, {"id": "para_117", "paragraph_idx": 117, "start": 5573.81, "end": 5603.19, "sentences": [{"id": "sent_117_0", "text": "So who am I?", "start": 5573.81, "end": 5574.93}, {"id": "sent_117_1", "text": "Who am I will check if the user still exists in the session, and it'll send the user object if it does, empty brackets if it doesn't.", "start": 5574.93, "end": 5582.605}, {"id": "sent_117_2", "text": "We have one last problem.", "start": 5583.965, "end": 5585.885}, {"id": "sent_117_3", "text": "If we go back to cat book, and if we're signed out, you you'll notice that we're able to make new stories and new comments even if we're not logged in.", "start": 5587.165, "end": 5596.87}, {"id": "sent_117_4", "text": "And this is bad because when we're making these stories and comments, we have a field called user dot name.", "start": 5596.87, "end": 5603.19}]}, {"id": "para_118", "paragraph_idx": 118, "start": 5603.19, "end": 5644.825, "sentences": [{"id": "sent_118_0", "text": "But because there's no user logged in, it'll be null and you'll have a you'll have a failure in making these post requests.", "start": 5603.19, "end": 5611.2344}, {"id": "sent_118_1", "text": "So what we wanna do is, if we're not logged in, we'll wanna hide the input fields for both the new story and new comment.", "start": 5612.5146, "end": 5620.275}, {"id": "sent_118_2", "text": "Let's hide the input fields if the user is not logged in.", "start": 5623.29, "end": 5626.4897}, {"id": "sent_118_3", "text": "So let's revisit the React hierarchy of feed.", "start": 5628.17, "end": 5631.4497}, {"id": "sent_118_4", "text": "So here's what how the React components are nested within each other, and what we wanna do is we wanna hide the new story and new common components if we're not logged in.", "start": 5634.985, "end": 5644.825}]}, {"id": "para_119", "paragraph_idx": 119, "start": 5645.94, "end": 5709.6997, "sentences": [{"id": "sent_119_0", "text": "And remember that the new story and new common components are called in the parent component, so both feed and comments block will need to know whether we're logged in or not, so that they can conditionally render their child component depending on that state.", "start": 5645.94, "end": 5663.145}, {"id": "sent_119_1", "text": "So one solution is to call the who am I get endpoint in both feed and comments block to check whether we're logged in or not.", "start": 5664.4253, "end": 5671.625}, {"id": "sent_119_2", "text": "That's bad, because remember that these who am I get endpoints will be called at each time we render the app.", "start": 5672.79, "end": 5680.8696}, {"id": "sent_119_3", "text": "So every time we reload the app, we're gonna get not just two, but three get requests made, and that is really unnecessary, and it calls api slash whoami way too many times.", "start": 5680.87, "end": 5693.485}, {"id": "sent_119_4", "text": "So one solution we can do is we can call this whoami endpoint once at the rendering of app, which encapsulates everything, and we can take the user ID returned by whoami and pass it all the way down to all these components using props.", "start": 5694.3647, "end": 5709.6997}]}, {"id": "para_120", "paragraph_idx": 120, "start": 5711.6997, "end": 5748.175, "sentences": [{"id": "sent_120_0", "text": "This is a better solution than what we just offered with making three calls to whoami, because this only calls whoami once, and it'll pass everything down as props.", "start": 5711.6997, "end": 5723.475}, {"id": "sent_120_1", "text": "But this is bad because we're prop drilling, and that means that we're passing props unnecessarily through many components to get to a child component.", "start": 5724.915, "end": 5732.95}, {"id": "sent_120_2", "text": "And as mentioned in Daniel's lecture, this can get really complicated and we don't want that.", "start": 5733.1104, "end": 5738.95}, {"id": "sent_120_3", "text": "So what's another way to maintain just one API call in app dot jsx?", "start": 5739.6704, "end": 5744.31}, {"id": "sent_120_4", "text": "Think back to what we covered in the lecture this morning, yeah.", "start": 5744.815, "end": 5748.175}]}, {"id": "para_121", "paragraph_idx": 121, "start": 5749.0547, "end": 5781.665, "sentences": [{"id": "sent_121_0", "text": "Yeah, exactly.", "start": 5749.0547, "end": 5750.655}, {"id": "sent_121_1", "text": "So what we can do is we can wrap everything in context, and what we'll do is we'll make a get request in the app.", "start": 5752.0146, "end": 5758.815}, {"id": "sent_121_2", "text": "This will give us a user ID, and this user ID will live in a context that wraps everything.", "start": 5759.45, "end": 5764.9697}, {"id": "sent_121_3", "text": "And because all of these child components are wrapped in the context, they'll also be able to access user ID.", "start": 5766.65, "end": 5773.85}, {"id": "sent_121_4", "text": "Remember that state changes in your context re renders the components consuming the context.", "start": 5776.625, "end": 5781.665}]}, {"id": "para_122", "paragraph_idx": 122, "start": 5781.745, "end": 5806.545, "sentences": [{"id": "sent_122_0", "text": "So this means we have we're storing one object in our context, and that's user ID.", "start": 5781.745, "end": 5787.425}, {"id": "sent_122_1", "text": "If user ID was to change at all, everything would get re rendered.", "start": 5787.505, "end": 5791.9097}, {"id": "sent_122_2", "text": "So is this a good scenario to use context?", "start": 5793.27, "end": 5795.9897}, {"id": "sent_122_3", "text": "Thumbs up if yes and thumbs down if no.", "start": 5796.07, "end": 5798.7896}, {"id": "sent_122_4", "text": "Yeah, I'm seeing some thumbs up and yeah, does someone wanna tell me why?", "start": 5801.03, "end": 5806.545}]}, {"id": "para_123", "paragraph_idx": 123, "start": 5806.865, "end": 5848.155, "sentences": [{"id": "sent_123_0", "text": "Yeah.", "start": 5806.865, "end": 5807.105}, {"id": "sent_123_1", "text": "Yeah, exactly.", "start": 5820.24, "end": 5821.2803}, {"id": "sent_123_2", "text": "So we're only changing user ID if we log in and log out, which you don't expect to happen that many times over the course of the user using the application.", "start": 5821.2803, "end": 5830.0}, {"id": "sent_123_3", "text": "There might be like other scenarios where you have an variable in your context that might change a lot throughout the course of the app existing and that's bad.", "start": 5830.16, "end": 5839.275}, {"id": "sent_123_4", "text": "But yeah, this would be a good use case of context because user ID will only change upon login and log out.", "start": 5839.435, "end": 5848.155}]}, {"id": "para_124", "paragraph_idx": 124, "start": 5851.35, "end": 5884.6797, "sentences": [{"id": "sent_124_0", "text": "So we don't have repeated unnecessary rerendering, so this is a great use case for context.", "start": 5851.35, "end": 5855.9897}, {"id": "sent_124_1", "text": "So let's do just that.", "start": 5855.9897, "end": 5857.4297}, {"id": "sent_124_2", "text": "First, let's if you're not on step eight already, make sure to reset dash dash hard and check out the w w five step eight.", "start": 5858.07, "end": 5866.195}, {"id": "sent_124_3", "text": "We have a new file called context, which now lives in the components folder.", "start": 5873.395, "end": 5877.875}, {"id": "sent_124_4", "text": "Sorry, in the context folder, in components, this is called user context.", "start": 5880.28, "end": 5884.6797}]}, {"id": "para_125", "paragraph_idx": 125, "start": 5885.08, "end": 5916.17, "sentences": [{"id": "sent_125_0", "text": "So let's go through the process of creating a context.", "start": 5885.08, "end": 5888.28}, {"id": "sent_125_1", "text": "We want this context to live in a file outside of all of our components, and we wanna import the create context from react.", "start": 5888.6797, "end": 5896.795}, {"id": "sent_125_2", "text": "And we wanna export a user context element.", "start": 5899.675, "end": 5903.1147}, {"id": "sent_125_3", "text": "Export const user context, and we wanna use create context and initialize our user context.", "start": 5904.81, "end": 5911.69}, {"id": "sent_125_4", "text": "And we'll initialize it to null because we don't know what our user value is gonna be at.", "start": 5911.77, "end": 5916.17}]}, {"id": "para_126", "paragraph_idx": 126, "start": 5917.225, "end": 5963.9595, "sentences": [{"id": "sent_126_0", "text": "So this should be in user context dot j s x, and all we've done is added these two lines to define a user context element.", "start": 5917.225, "end": 5924.745}, {"id": "sent_126_1", "text": "So remember that we said we would make one API call now in app.jsx, and we'll store this user ID information in app and pass it into the user context in app.", "start": 5928.0254, "end": 5939.4595}, {"id": "sent_126_2", "text": "But because handle login and handle logout will modify user ID, and user ID is now handled in app, we'll wanna move not only the who am I call up from nav bar to app, we'll also wanna move handle login and handle log out up to app.jsx.", "start": 5939.86, "end": 5956.015}, {"id": "sent_126_3", "text": "So let's go through how we can do that together.", "start": 5957.375, "end": 5959.535}, {"id": "sent_126_4", "text": "So first, let's go to navbar dot jsx.", "start": 5961.0796, "end": 5963.9595}]}, {"id": "para_127", "paragraph_idx": 127, "start": 5966.28, "end": 6011.505, "sentences": [{"id": "sent_127_0", "text": "Here we have the get request of who am I, a handle login function and a handle log out function.", "start": 5966.28, "end": 5973.0796}, {"id": "sent_127_1", "text": "So let's copy paste all three of these.", "start": 5973.1597, "end": 5975.48}, {"id": "sent_127_2", "text": "Oh, copy paste everything including the user ID definition because we'll wanna move these up to app dot j s x.", "start": 5978.355, "end": 5984.9146}, {"id": "sent_127_3", "text": "So everything between these slash dividers, copy it, and let's go to app dot j s x, and let's paste it above the return.", "start": 5984.9946, "end": 5998.11}, {"id": "sent_127_4", "text": "Now, we've moved the user ID state, the get request to who am I, handle login function, and handle logout function all to app dot j s x.", "start": 6001.79, "end": 6011.505}]}, {"id": "para_128", "paragraph_idx": 128, "start": 6012.305, "end": 6059.73, "sentences": [{"id": "sent_128_0", "text": "But remember that nav bar dot j s x directly calls handle login and handle logout if we click the buttons.", "start": 6012.305, "end": 6018.225}, {"id": "sent_128_1", "text": "So I wanna pass handle login and handle logout down as props.", "start": 6018.3853, "end": 6022.86}, {"id": "sent_128_2", "text": "So what we can do is let's go to where nav bar is defined.", "start": 6024.54, "end": 6028.6997}, {"id": "sent_128_3", "text": "Let's pass in handle login as a prop, And this passes the whole function down, and we'll also wanna pass handle logout as a prop.", "start": 6029.02, "end": 6038.725}, {"id": "sent_128_4", "text": "So just to reiterate, we passed we moved the who am I handle login, handle logout, and user ID up to app, and now we've passed handle login and handle logout down to nav bar.", "start": 6049.8896, "end": 6059.73}]}, {"id": "para_129", "paragraph_idx": 129, "start": 6060.1553, "end": 6096.105, "sentences": [{"id": "sent_129_0", "text": "But what we need to do in nav bar is, now we wanna reference handle login as a prop, because it no longer is defined in nav bar.", "start": 6060.1553, "end": 6068.475}, {"id": "sent_129_1", "text": "So here, where we have the log out button, on click, we should call props.", "start": 6068.7954, "end": 6076.48}, {"id": "sent_129_2", "text": "Handle log out.", "start": 6076.48, "end": 6077.6}, {"id": "sent_129_3", "text": "Similarly for the Google login component, on success should call props.handle log in, remember because handle log in and handle log out are no longer defined in nav bar.", "start": 6078.4004, "end": 6087.92}, {"id": "sent_129_4", "text": "What I just changed was modifying these as fields of the prop sorry, parameters of the prop.", "start": 6088.665, "end": 6096.105}]}, {"id": "para_130", "paragraph_idx": 130, "start": 6101.145, "end": 6134.32, "sentences": [{"id": "sent_130_0", "text": "Here's the code if you missed that.", "start": 6101.145, "end": 6102.9053}, {"id": "sent_130_1", "text": "Okay.", "start": 6108.97, "end": 6109.69}, {"id": "sent_130_2", "text": "So now that we have our user ID now defined in app, we wanna wrap all the components inside our app inside a context provider.", "start": 6111.77, "end": 6121.2646}, {"id": "sent_130_3", "text": "And this context provider will have one value, and that value will be our user ID.", "start": 6121.425, "end": 6126.0645}, {"id": "sent_130_4", "text": "We're wrapping everything inside our app inside the context provider because we want anything inside our app to be able to access this value, which is the user ID.", "start": 6126.385, "end": 6134.32}]}, {"id": "para_131", "paragraph_idx": 131, "start": 6134.88, "end": 6178.3047, "sentences": [{"id": "sent_131_0", "text": "So let's go to the return statement of app dot j s x.", "start": 6134.88, "end": 6139.1196}, {"id": "sent_131_1", "text": "So we wanna wrap these four lines in the context provider.", "start": 6143.0396, "end": 6147.775}, {"id": "sent_131_2", "text": "So above nav bar, let's go ahead and take user context dot provider and set its value to user ID.", "start": 6147.935, "end": 6157.5347}, {"id": "sent_131_3", "text": "And we wanna take the closing tag and place it under those four lines.", "start": 6160.11, "end": 6167.55}, {"id": "sent_131_4", "text": "So now we've wrapped the nav bar and the outlet inside the context provider, and it'll pass in the value of user ID, which is set in the rendering of app.", "start": 6168.67, "end": 6178.3047}]}, {"id": "para_132", "paragraph_idx": 132, "start": 6186.87, "end": 6218.9497, "sentences": [{"id": "sent_132_0", "text": "Oh.", "start": 6186.87, "end": 6187.51}, {"id": "sent_132_1", "text": "And remember that we defined user context in a different file, so what we wanna do is import that and you can do that by uncommenting up here.", "start": 6188.23, "end": 6197.91}, {"id": "sent_132_2", "text": "You wanna uncomment that line so we have we're able to access this user context in the other file.", "start": 6198.585, "end": 6204.7446}, {"id": "sent_132_3", "text": "And do the same thing in nav bar.", "start": 6207.225, "end": 6209.145}, {"id": "sent_132_4", "text": "So once we've wrapped everything in the provider, we still have to access the user ID in nav bar in some way.", "start": 6211.35, "end": 6218.9497}]}, {"id": "para_133", "paragraph_idx": 133, "start": 6219.4297, "end": 6259.255, "sentences": [{"id": "sent_133_0", "text": "And just now in nav bar, we uncommented the import of user context, and we can consume user ID from the context.", "start": 6219.4297, "end": 6227.935}, {"id": "sent_133_1", "text": "So let's go through how we can do that.", "start": 6228.895, "end": 6230.735}, {"id": "sent_133_2", "text": "We can use this simple line, we'll set a variable const user ID, we'll use context and pass in user context.", "start": 6232.095, "end": 6240.58}, {"id": "sent_133_3", "text": "And right now, user context has a singular value, so it'll take the singular value of user context and put it in our user ID variables that lives in nav bar.", "start": 6240.82, "end": 6249.46}, {"id": "sent_133_4", "text": "We'll also want to import use context on the first line of navbar dot jsx.", "start": 6253.335, "end": 6259.255}]}, {"id": "para_134", "paragraph_idx": 134, "start": 6264.02, "end": 6280.675, "sentences": [{"id": "sent_134_0", "text": "Oh no, sorry.", "start": 6264.02, "end": 6265.06}, {"id": "sent_134_1", "text": "We wanna import that in React Router DOM.", "start": 6265.06, "end": 6267.78}, {"id": "sent_134_2", "text": "I think.", "start": 6270.02, "end": 6270.82}, {"id": "sent_134_3", "text": "Let me check.", "start": 6274.98, "end": 6275.6997}, {"id": "sent_134_4", "text": "I guess we'll see if it works or not.", "start": 6278.755, "end": 6280.675}]}, {"id": "para_135", "paragraph_idx": 135, "start": 6280.835, "end": 6298.11, "sentences": [{"id": "sent_135_0", "text": "Okay.", "start": 6280.835, "end": 6281.155}, {"id": "sent_135_1", "text": "Sorry.", "start": 6289.31, "end": 6290.19}, {"id": "sent_135_2", "text": "Oh, okay.", "start": 6290.27, "end": 6291.15}, {"id": "sent_135_3", "text": "So now far you want to import use context.", "start": 6293.55, "end": 6296.3496}, {"id": "sent_135_4", "text": "Also, I think.", "start": 6296.99, "end": 6298.11}]}, {"id": "para_136", "paragraph_idx": 136, "start": 6298.91, "end": 6320.15, "sentences": [{"id": "sent_136_0", "text": "This is wrong.", "start": 6298.91, "end": 6299.55}, {"id": "sent_136_1", "text": "Oh.", "start": 6311.1846, "end": 6311.905}, {"id": "sent_136_2", "text": "Okay.", "start": 6313.425, "end": 6313.8247}, {"id": "sent_136_3", "text": "In app dot j s x, I also imported user context wrong.", "start": 6313.8247, "end": 6317.1846}, {"id": "sent_136_4", "text": "It should be slash components slash context.", "start": 6317.1846, "end": 6320.15}]}, {"id": "para_137", "paragraph_idx": 137, "start": 6322.71, "end": 6379.8096, "sentences": [{"id": "sent_137_0", "text": "Or And we'll also wanna import get, so copy the get and post import line from nav bar and paste it into app dot j s x.", "start": 6322.71, "end": 6335.415}, {"id": "sent_137_1", "text": "Okay.", "start": 6348.9, "end": 6349.94}, {"id": "sent_137_2", "text": "Alright.", "start": 6352.42, "end": 6352.82}, {"id": "sent_137_3", "text": "Just to reiterate, we imported get and so this is app dot j s x, and we're now making the get request in app, so we need to import get into app, and this is done via line three.", "start": 6352.82, "end": 6365.715}, {"id": "sent_137_4", "text": "And we are also using the user context object, which we define in user context dot x, so we have to import that into apps as in line five.", "start": 6368.515, "end": 6379.8096}]}, {"id": "para_138", "paragraph_idx": 138, "start": 6380.3696, "end": 6418.08, "sentences": [{"id": "sent_138_0", "text": "So we have two new import statements.", "start": 6380.3696, "end": 6384.05}, {"id": "sent_138_1", "text": "After we import those, remember that we copy paste the user ID, the get request, handle login, and handle log out from nav bar.", "start": 6385.4897, "end": 6392.535}, {"id": "sent_138_2", "text": "And we're passing the handle login and handle log out functions down to nav bar.", "start": 6393.335, "end": 6397.5747}, {"id": "sent_138_3", "text": "And what we've changed in nav bar is instead of getting user ID via the who am I endpoint, we're just taking it from our context by importing user context from the user context file we defined earlier, and then we're setting that to the value inside the user context.", "start": 6397.895, "end": 6414.7197}, {"id": "sent_138_4", "text": "So hopefully everything still works.", "start": 6415.6, "end": 6418.08}]}, {"id": "para_139", "paragraph_idx": 139, "start": 6419.225, "end": 6450.135, "sentences": [{"id": "sent_139_0", "text": "Hopefully, you can log in.", "start": 6419.225, "end": 6420.985}, {"id": "sent_139_1", "text": "And everything should still persist.", "start": 6422.745, "end": 6424.7446}, {"id": "sent_139_2", "text": "And remember, our motivation for using context is so that we can hide the input fields for story and comments by looking at the value of user ID.", "start": 6426.185, "end": 6437.7803}, {"id": "sent_139_3", "text": "And instead of making the who am I get request everywhere, we're gonna store that information in the context.", "start": 6438.5, "end": 6444.4204}, {"id": "sent_139_4", "text": "So we'll also need to access the context from some other components.", "start": 6445.175, "end": 6450.135}]}, {"id": "para_140", "paragraph_idx": 140, "start": 6450.135, "end": 6484.1147, "sentences": [{"id": "sent_140_0", "text": "So we'll go over that in the final step.", "start": 6450.135, "end": 6452.9346}, {"id": "sent_140_1", "text": "Okay, so that was a lot.", "start": 6454.215, "end": 6455.735}, {"id": "sent_140_2", "text": "Just to reiterate, we rearranged our code so that we now store user ID in a global context, and that's so that we can now access user ID from any component in app.js x.", "start": 6455.815, "end": 6466.8496}, {"id": "sent_140_3", "text": "So now feel free to git reset hard dash dash hard, git checkout step nine.", "start": 6469.3296, "end": 6476.915}, {"id": "sent_140_4", "text": "And our last step will be hiding the input boxes if we're logged out.", "start": 6478.035, "end": 6484.1147}]}, {"id": "para_141", "paragraph_idx": 141, "start": 6484.6753, "end": 6528.965, "sentences": [{"id": "sent_141_0", "text": "So remember that in nav bar dot j s x, we just went over how we can consume the context and set user id to the value of user context.", "start": 6484.6753, "end": 6493.13}, {"id": "sent_141_1", "text": "So you wanna do something very similar in feed dot jsx in comments block.", "start": 6493.53, "end": 6497.69}, {"id": "sent_141_2", "text": "So what you'll wanna do is you'll wanna import the user context and you'll just wanna set user ID to the value of that context, and you'll wanna conditionally render new story and new comment if user ID exists.", "start": 6498.57, "end": 6510.985}, {"id": "sent_141_3", "text": "Okay.", "start": 6526.645, "end": 6527.2847}, {"id": "sent_141_4", "text": "Okay.", "start": 6528.405, "end": 6528.965}]}, {"id": "para_142", "paragraph_idx": 142, "start": 6528.965, "end": 6557.8047, "sentences": [{"id": "sent_142_0", "text": "So let's go over how we can do that together.", "start": 6528.965, "end": 6531.2847}, {"id": "sent_142_1", "text": "Let's start by going to feed.", "start": 6532.485, "end": 6534.645}, {"id": "sent_142_2", "text": "I we've already imported user context for you, so all we need to do is consume it.", "start": 6540.26, "end": 6545.6997}, {"id": "sent_142_3", "text": "So let's do const user ID and set this equal to use context user context.", "start": 6545.78, "end": 6551.3}, {"id": "sent_142_4", "text": "Now you wanna conditionally render new story.", "start": 6553.725, "end": 6557.8047}]}, {"id": "para_143", "paragraph_idx": 143, "start": 6558.445, "end": 6586.3647, "sentences": [{"id": "sent_143_0", "text": "So let's put this in brackets, and if user ID exists, we'll render new story as well.", "start": 6558.445, "end": 6564.685}, {"id": "sent_143_1", "text": "Let's just check and you'll see that if we go back to the input fields, you no longer see the input field for story.", "start": 6566.64, "end": 6574.8}, {"id": "sent_143_2", "text": "I'll post the solution up for that.", "start": 6576.64, "end": 6578.8447}, {"id": "sent_143_3", "text": "And you can do the same thing in oh, what was the other one?", "start": 6579.405, "end": 6583.3247}, {"id": "sent_143_4", "text": "You can do the same thing in comments block.", "start": 6583.965, "end": 6586.3647}]}, {"id": "para_144", "paragraph_idx": 144, "start": 6588.605, "end": 6619.9297, "sentences": [{"id": "sent_144_0", "text": "We already imported user context, you just need to consume the context and place into user ID variable.", "start": 6588.605, "end": 6595.55}, {"id": "sent_144_1", "text": "And then we'll wanna conditionally render the new comment component.", "start": 6599.87, "end": 6602.9897}, {"id": "sent_144_2", "text": "Okay.", "start": 6606.715, "end": 6607.4346}, {"id": "sent_144_3", "text": "And now, you should see that the input field should disappear for both comments and stories.", "start": 6607.4346, "end": 6612.0747}, {"id": "sent_144_4", "text": "And that's the end of cat book.", "start": 6617.21, "end": 6619.9297}]}, {"id": "para_145", "paragraph_idx": 145, "start": 6620.57, "end": 6628.41, "sentences": [{"id": "sent_145_0", "text": "Yay.", "start": 6620.57, "end": 6621.3696}, {"id": "sent_145_1", "text": "Good job guys, that was a lot.", "start": 6623.69, "end": 6625.69}, {"id": "sent_145_2", "text": "And now we'll hand it over to Daniel.", "start": 6625.77, "end": 6628.41}]}]</script>
    <script>
        window.YT_VIDEO_ID = "jpjUyVCzsdM";
        window.ORIGINAL_UPLOADER = "MIT Web Lab (6.962)";
        window.ORIGINAL_DURATION = 6628;
    </script>
    <style>
        /* Inline critical styles to ensure layout works even before external CSS loads */
        .transcript-container {
            display: flex;
            width: 100%;
            position: relative;
        }

        .timeline-column {
            width: 60px;
            position: relative;
            flex-shrink: 0;
        }

        .transcript-column {
            flex: 1;
            overflow-y: auto;
            max-height: calc(100vh - 250px);
            padding-right: 20px;
        }

        .timeline-connecting-line {
            position: absolute;
            left: 30px;
            top: 30px;
            bottom: 30px;
            width: 2px;
            background-color: #ccc;
            transform: translateX(-50%);
        }

        .paragraph-container {
            display: flex;
            margin-bottom: 20px;
            position: relative;
        }

        .timeline-dot-wrapper {
            width: 60px;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            margin-top: 8px;
            flex-shrink: 0;
        }

        .timeline-dot {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background-color: #ccc;
            transition: all 0.3s ease;
        }

        .timeline-timestamp {
            font-size: 12px;
            color: #666;
            margin-top: 4px;
        }

        .paragraph-text {
            flex: 1;
            padding: 5px 10px;
            border-radius: 4px;
            transition: background-color 0.3s ease;
        }

        .paragraph-active .paragraph-text {
            background-color: rgba(144, 202, 249, 0.2);
        }

        .paragraph-active .timeline-dot {
            background-color: #2196F3;
            width: 18px;
            height: 18px;
            box-shadow: 0 0 0 4px rgba(33, 150, 243, 0.2);
        }

        .transcript-sentence {
            transition: background-color 0.3s ease;
        }

        .sentence-active {
            background-color: rgba(33, 150, 243, 0.3);
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="page-container">
        <div class="video-section">
            <div id="youtube-player-iframe"></div>
        </div>
        <header class="page-header">
             <div class="video-info">
                <h1>MIT web.lab (6.962) - Day 6: Workshop 5 (Accounts/Auth)</h1>
                <p>Channel: MIT Web Lab (6.962) | Duration: 01:50:28</p>
            </div>
            <div class="settings-bar">
                <label for="autoScrollTranscriptCheckbox"><input type="checkbox" id="autoScrollTranscriptCheckbox" checked> Auto-scroll Transcript</label>
                <label for="minimalVideoToggle"><input type="checkbox" id="minimalVideoToggle"> Minimal Video Player</label>
            </div>
        </header>
        <div class="content-section" id="mainContentArea">
            
        <div class="transcript-container">
            <div class="timeline-column">
                <div class="timeline-connecting-line"></div>
            </div>
            <div class="transcript-column">
        
                <div class="paragraph-container" data-paragraph-id="para_0" data-paragraph-idx="0" data-start-time="1.12" data-end-time="21.335">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1.12"></div>
                        <div class="timeline-timestamp">00:01</div>
                    </div>
                    <div class="paragraph-text" id="text-para_0"><span class="transcript-sentence" id="sent_0_0" data-start-time="1.12" data-end-time="1.76">Okay.</span> <span class="transcript-sentence" id="sent_0_1" data-start-time="1.76" data-end-time="10.32">So now we'll start workshop five and we'll implement the whole Google sign in process flow that Annabel just showed.</span> <span class="transcript-sentence" id="sent_0_2" data-start-time="10.48" data-end-time="15.04">And we'll also add some changes to our front end and back end to support the login flow.</span> <span class="transcript-sentence" id="sent_0_3" data-start-time="16.055" data-end-time="17.975">Here's all the steps of the workshop.</span> <span class="transcript-sentence" id="sent_0_4" data-start-time="17.975" data-end-time="21.335">It's very meaty, but we'll slowly go through it together.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_1" data-paragraph-idx="1" data-start-time="22.535" data-end-time="72.605">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="22.535"></div>
                        <div class="timeline-timestamp">00:22</div>
                    </div>
                    <div class="paragraph-text" id="text-para_1"><span class="transcript-sentence" id="sent_1_0" data-start-time="22.535" data-end-time="29.335">So open up your code ID and we'll start by git resetting hard.</span> <span class="transcript-sentence" id="sent_1_1" data-start-time="33.760002" data-end-time="37.36">Let's fetch all the new changes made in the remote branch.</span> <span class="transcript-sentence" id="sent_1_2" data-start-time="41.36" data-end-time="52.074997">Let's check out to branch w five dash starter, And we'll do NPM install.</span> <span class="transcript-sentence" id="sent_1_3" data-start-time="53.355" data-end-time="60.25">And in two separate terminals, let's run NPM start and npm run dev.</span> <span class="transcript-sentence" id="sent_1_4" data-start-time="72.125" data-end-time="72.605">Okay.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_2" data-paragraph-idx="2" data-start-time="72.605" data-end-time="133.795">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="72.605"></div>
                        <div class="timeline-timestamp">01:12</div>
                    </div>
                    <div class="paragraph-text" id="text-para_2"><span class="transcript-sentence" id="sent_2_0" data-start-time="72.605" data-end-time="78.925">And once you've done that, let's open up nav bar dot j s x to look at some changes we've made for this workshop.</span> <span class="transcript-sentence" id="sent_2_1" data-start-time="92.04" data-end-time="97.560005">So the first thing you'll notice is that we have a new sign in button in our nav bar that we didn't have before.</span> <span class="transcript-sentence" id="sent_2_2" data-start-time="98.445" data-end-time="110.045">And in nav bar dot j s x, you'll see that this is from a Google login component that's provided to us by the React OAuth Google Library.</span> <span class="transcript-sentence" id="sent_2_3" data-start-time="110.445" data-end-time="116.5">And this is a login component that Google provides for us in their library that will handle the login process for us.</span> <span class="transcript-sentence" id="sent_2_4" data-start-time="118.5" data-end-time="133.795">So upon a successful login, we'll also call the handle login function, which we have a skeleton for here and we haven't filled it out yet, so all we have is a console log of the response that the Google auth server sends to us.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_3" data-paragraph-idx="3" data-start-time="138.08" data-end-time="189.695">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="138.08"></div>
                        <div class="timeline-timestamp">02:18</div>
                    </div>
                    <div class="paragraph-text" id="text-para_3"><span class="transcript-sentence" id="sent_3_0" data-start-time="138.08" data-end-time="141.68001">So another change that we've made is an index dot j s x.</span> <span class="transcript-sentence" id="sent_3_1" data-start-time="142.24" data-end-time="153.32501">To be able to send these requests to Google OAuth server, the Google OAuth server has to recognize us as a valid user, and that's done through the Google client ID.</span> <span class="transcript-sentence" id="sent_3_2" data-start-time="153.885" data-end-time="168.77">So anyone can make a Google client ID for their web application, and this is like a username for our web app, and it allows the Google server to recognize our application as a valid user so that we can make these requests the server and get responses back.</span> <span class="transcript-sentence" id="sent_3_3" data-start-time="169.01" data-end-time="187.535">So what we've done with the Google client ID is that we've wrapped our entire web application, which is in the router provider, with a Google OAuth provider, and we pass in the client ID so that every time we make a request to the server of the Google sorry, the Google server, it'll pass this Google client ID through.</span> <span class="transcript-sentence" id="sent_3_4" data-start-time="188.255" data-end-time="189.695">So what does this look like?</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_4" data-paragraph-idx="4" data-start-time="191.375" data-end-time="245.505">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="191.375"></div>
                        <div class="timeline-timestamp">03:11</div>
                    </div>
                    <div class="paragraph-text" id="text-para_4"><span class="transcript-sentence" id="sent_4_0" data-start-time="191.375" data-end-time="213.615">So before we have our client and server sending requests and responses back to each other, but when we think of this in terms of the Google client oh, sorry, the Google server, we can think of our entire web application of a client as a client, and instead, our entire web application is now sending requests to the Google OAuth server.</span> <span class="transcript-sentence" id="sent_4_1" data-start-time="217.61499" data-end-time="218.255">Okay.</span> <span class="transcript-sentence" id="sent_4_2" data-start-time="218.415" data-end-time="224.255">So to recap, the Google client ID allows us to access the Google auth API in the Google server.</span> <span class="transcript-sentence" id="sent_4_3" data-start-time="224.79" data-end-time="243.02501">It tells us what our app is called and its URL, and later on, you'll see that both the front end and back end will need the client ID because if you remember, the front end will handle the login process through the Google server endpoint, but in our server back end, we'll also need to verify the token once it gets sent back to us.</span> <span class="transcript-sentence" id="sent_4_4" data-start-time="243.02501" data-end-time="245.505">So we'll need the client ID again in the back end.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_5" data-paragraph-idx="5" data-start-time="245.985" data-end-time="277.255">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="245.985"></div>
                        <div class="timeline-timestamp">04:05</div>
                    </div>
                    <div class="paragraph-text" id="text-para_5"><span class="transcript-sentence" id="sent_5_0" data-start-time="245.985" data-end-time="249.425">And this isn't secret information, so it's okay to commit it to git.</span> <span class="transcript-sentence" id="sent_5_1" data-start-time="249.985" data-end-time="263.11002">So for now, an index.jsx will all share the same Google client ID, but later on, you'll have to make your own for your own web lab project and we'll go over how to do that in our deployment lecture.</span> <span class="transcript-sentence" id="sent_5_2" data-start-time="264.55" data-end-time="264.79">Okay.</span> <span class="transcript-sentence" id="sent_5_3" data-start-time="266.695" data-end-time="270.53503">So let's look at what logging in looks like so far.</span> <span class="transcript-sentence" id="sent_5_4" data-start-time="271.015" data-end-time="277.255">If I go back to my web sorry, my cat book application, I can sign in with Google.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_6" data-paragraph-idx="6" data-start-time="281.9" data-end-time="320.5">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="281.9"></div>
                        <div class="timeline-timestamp">04:41</div>
                    </div>
                    <div class="paragraph-text" id="text-para_6"><span class="transcript-sentence" id="sent_6_0" data-start-time="281.9" data-end-time="287.26">Once I'm signed in, I see the same sign in button, which is not what we want.</span> <span class="transcript-sentence" id="sent_6_1" data-start-time="288.14" data-end-time="293.9">We want the nav bar to show the login button when we're logged out and the log out button when we're logged in.</span> <span class="transcript-sentence" id="sent_6_2" data-start-time="294.255" data-end-time="297.695">So take a moment to think about how we can do this.</span> <span class="transcript-sentence" id="sent_6_3" data-start-time="301.215" data-end-time="302.89502">And feel free to talk to your neighbors.</span> <span class="transcript-sentence" id="sent_6_4" data-start-time="320.1" data-end-time="320.5">Okay.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_7" data-paragraph-idx="7" data-start-time="321.55502" data-end-time="339.55">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="321.55502"></div>
                        <div class="timeline-timestamp">05:21</div>
                    </div>
                    <div class="paragraph-text" id="text-para_7"><span class="transcript-sentence" id="sent_7_0" data-start-time="321.55502" data-end-time="325.31503">Does anyone wanna try answering the question?</span> <span class="transcript-sentence" id="sent_7_1" data-start-time="328.755" data-end-time="329.155">No.</span> <span class="transcript-sentence" id="sent_7_2" data-start-time="329.155" data-end-time="330.27502">That's okay too.</span> <span class="transcript-sentence" id="sent_7_3" data-start-time="330.67502" data-end-time="336.11502">What we can do is we can keep a react state in our nav bar to keep track of when we're logged in.</span> <span class="transcript-sentence" id="sent_7_4" data-start-time="336.11502" data-end-time="339.55">So what we'll do is we'll create a react state called logged in.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_8" data-paragraph-idx="8" data-start-time="341.31" data-end-time="380.015">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="341.31"></div>
                        <div class="timeline-timestamp">05:41</div>
                    </div>
                    <div class="paragraph-text" id="text-para_8"><span class="transcript-sentence" id="sent_8_0" data-start-time="341.31" data-end-time="343.94998">So let's implement our handle login function.</span> <span class="transcript-sentence" id="sent_8_1" data-start-time="345.22998" data-end-time="350.335">So first, let's keep track of a login state using called logged in.</span> <span class="transcript-sentence" id="sent_8_2" data-start-time="350.335" data-end-time="362.255">So navigate back to navbar.jsx, and at the very top, we'll wanna use the use state hook so that we can create a login state.</span> <span class="transcript-sentence" id="sent_8_3" data-start-time="362.57498" data-end-time="367.90002">So do const logged in, set logged in.</span> <span class="transcript-sentence" id="sent_8_4" data-start-time="369.42" data-end-time="380.015">Oh, we'll have this be a use state and we'll wanna start the login state as false because otherwise authenticated, the user should be logged out.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_9" data-paragraph-idx="9" data-start-time="380.655" data-end-time="414.365">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="380.655"></div>
                        <div class="timeline-timestamp">06:20</div>
                    </div>
                    <div class="paragraph-text" id="text-para_9"><span class="transcript-sentence" id="sent_9_0" data-start-time="380.655" data-end-time="385.135">So we now have a logged in state that is initialized to false.</span> <span class="transcript-sentence" id="sent_9_1" data-start-time="387.695" data-end-time="396.9">So now what we'll wanna do is once the Google login component returns on success, then our front end should know, oh, now we're logged in.</span> <span class="transcript-sentence" id="sent_9_2" data-start-time="397.13998" data-end-time="402.5">So it calls the handle login function and what we wanna do now is in the handle login function.</span> <span class="transcript-sentence" id="sent_9_3" data-start-time="402.66" data-end-time="408.205">We'll wanna call set logged in, And now we wanna set logged into true.</span> <span class="transcript-sentence" id="sent_9_4" data-start-time="412.525" data-end-time="414.365">So that's what you should have so far.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_10" data-paragraph-idx="10" data-start-time="432.74" data-end-time="469.385">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="432.74"></div>
                        <div class="timeline-timestamp">07:12</div>
                    </div>
                    <div class="paragraph-text" id="text-para_10"><span class="transcript-sentence" id="sent_10_0" data-start-time="432.74" data-end-time="434.41998">Thumbs up if you need more time.</span> <span class="transcript-sentence" id="sent_10_1" data-start-time="453.66" data-end-time="454.06">Alright.</span> <span class="transcript-sentence" id="sent_10_2" data-start-time="454.06" data-end-time="456.54">So now we'll move on to the next step.</span> <span class="transcript-sentence" id="sent_10_3" data-start-time="457.66" data-end-time="465.705">So now our web our front end knows once we're logged in because once handle login is called, we'll set the login react state to true.</span> <span class="transcript-sentence" id="sent_10_4" data-start-time="467.705" data-end-time="469.385">Oh, I just gave you the answer.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_11" data-paragraph-idx="11" data-start-time="469.705" data-end-time="531.985">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="469.705"></div>
                        <div class="timeline-timestamp">07:49</div>
                    </div>
                    <div class="paragraph-text" id="text-para_11"><span class="transcript-sentence" id="sent_11_0" data-start-time="469.705" data-end-time="479.25">Yeah, just to reiterate, once the Google login component returns in on success, it'll call the handle login function which now sets logged in to true.</span> <span class="transcript-sentence" id="sent_11_1" data-start-time="481.25" data-end-time="484.69">So we wanna do some something similar for the log out function.</span> <span class="transcript-sentence" id="sent_11_2" data-start-time="485.65" data-end-time="509.30002">Here, for the login, we already have a Google login component that renders a button for us, but unfortunately, Google's library doesn't have a logout function, so we'll just use the button property and instead of having an on success attribute that calls the handle login function, you'll wanna write an on click attribute that calls the handle logout function.</span> <span class="transcript-sentence" id="sent_11_3" data-start-time="509.7" data-end-time="515.46">So for this part of the workshop, you'll wanna add a logout button using button.</span> <span class="transcript-sentence" id="sent_11_4" data-start-time="515.94" data-end-time="531.985">On click, it should call a handle logout function, and you want to define a handle log out function that performs an analogous task to handle log in, but instead of setting logged into false, sorry, instead of setting logged into true, it should set it back to false.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_12" data-paragraph-idx="12" data-start-time="534.63995" data-end-time="685.77997">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="534.63995"></div>
                        <div class="timeline-timestamp">08:54</div>
                    </div>
                    <div class="paragraph-text" id="text-para_12"><span class="transcript-sentence" id="sent_12_0" data-start-time="534.63995" data-end-time="538.39996">So give that a try and feel free to hop on the queue if you need any help.</span> <span class="transcript-sentence" id="sent_12_1" data-start-time="572.86" data-end-time="573.26">Okay.</span> <span class="transcript-sentence" id="sent_12_2" data-start-time="662.36" data-end-time="664.76">Raise your hand if you need another minute or two.</span> <span class="transcript-sentence" id="sent_12_3" data-start-time="683.69995" data-end-time="684.1">Okay.</span> <span class="transcript-sentence" id="sent_12_4" data-start-time="684.1" data-end-time="685.77997">Let's go over how we can do that.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_13" data-paragraph-idx="13" data-start-time="686.74" data-end-time="707.48505">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="686.74"></div>
                        <div class="timeline-timestamp">11:26</div>
                    </div>
                    <div class="paragraph-text" id="text-para_13"><span class="transcript-sentence" id="sent_13_0" data-start-time="686.74" data-end-time="691.13995">So first, we'll start off by adding a new button for log out.</span> <span class="transcript-sentence" id="sent_13_1" data-start-time="691.22" data-end-time="695.80505">Under the Google login component, I'll just make a button component here.</span> <span class="transcript-sentence" id="sent_13_2" data-start-time="696.36505" data-end-time="697.965">And just call it log out.</span> <span class="transcript-sentence" id="sent_13_3" data-start-time="698.765" data-end-time="702.765">And on click, let's have it call our handle log out function.</span> <span class="transcript-sentence" id="sent_13_4" data-start-time="704.525" data-end-time="707.48505">Which we need to define, and we'll do that right here.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_14" data-paragraph-idx="14" data-start-time="712.4" data-end-time="732.21497">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="712.4"></div>
                        <div class="timeline-timestamp">11:52</div>
                    </div>
                    <div class="paragraph-text" id="text-para_14"><span class="transcript-sentence" id="sent_14_0" data-start-time="712.4" data-end-time="714.96">So let's define a handle log out function.</span> <span class="transcript-sentence" id="sent_14_1" data-start-time="716.64" data-end-time="717.36">And.</span> <span class="transcript-sentence" id="sent_14_2" data-start-time="720.16" data-end-time="723.2">You can console log logged out.</span> <span class="transcript-sentence" id="sent_14_3" data-start-time="724.21497" data-end-time="727.095">And then we'll wanna set logged in back to false.</span> <span class="transcript-sentence" id="sent_14_4" data-start-time="729.415" data-end-time="732.21497">So now if we go back to our local host.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_15" data-paragraph-idx="15" data-start-time="736.26" data-end-time="766.135">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="736.26"></div>
                        <div class="timeline-timestamp">12:16</div>
                    </div>
                    <div class="paragraph-text" id="text-para_15"><span class="transcript-sentence" id="sent_15_0" data-start-time="736.26" data-end-time="736.74">Yeah.</span> <span class="transcript-sentence" id="sent_15_1" data-start-time="736.74" data-end-time="741.94">If you go back to our local host, we have both a login function and a logout function.</span> <span class="transcript-sentence" id="sent_15_2" data-start-time="742.9" data-end-time="751.62">So now what we wanna do is we'll want to conditionally render the login and logout buttons.</span> <span class="transcript-sentence" id="sent_15_3" data-start-time="752.295" data-end-time="759.015">So we wanted to make it show Google login when the user isn't logged in and we wanted to show the log out button when the user's logged in.</span> <span class="transcript-sentence" id="sent_15_4" data-start-time="759.495" data-end-time="766.135">So here's a hint, here's a template for how you can do conditional rendering in the return.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_16" data-paragraph-idx="16" data-start-time="767.23004" data-end-time="865.19">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="767.23004"></div>
                        <div class="timeline-timestamp">12:47</div>
                    </div>
                    <div class="paragraph-text" id="text-para_16"><span class="transcript-sentence" id="sent_16_0" data-start-time="767.23004" data-end-time="771.71">So give that a try and let us know if you have any questions.</span> <span class="transcript-sentence" id="sent_16_1" data-start-time="801.10004" data-end-time="814.25507">Just to clarify the notation for the conditional rendering is this first line and what it's doing is saying that if the condition is true, then render x, otherwise render y.</span> <span class="transcript-sentence" id="sent_16_2" data-start-time="814.655" data-end-time="816.49506">But you wanna use this notation.</span> <span class="transcript-sentence" id="sent_16_3" data-start-time="860.63" data-end-time="861.11005">Okay.</span> <span class="transcript-sentence" id="sent_16_4" data-start-time="861.11005" data-end-time="865.19">Now let's go over how we can conditionally render the login and log out buttons.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_17" data-paragraph-idx="17" data-start-time="866.23004" data-end-time="887.16003">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="866.23004"></div>
                        <div class="timeline-timestamp">14:26</div>
                    </div>
                    <div class="paragraph-text" id="text-para_17"><span class="transcript-sentence" id="sent_17_0" data-start-time="866.23004" data-end-time="869.91003">So here, in the return, we have two buttons side by side.</span> <span class="transcript-sentence" id="sent_17_1" data-start-time="870.645" data-end-time="877.125">But what we'll wanna do is we wanna check if logged in our logged in state is true.</span> <span class="transcript-sentence" id="sent_17_2" data-start-time="877.765" data-end-time="880.885">So let's wrap these in brackets.</span> <span class="transcript-sentence" id="sent_17_3" data-start-time="881.28503" data-end-time="884.645">You wanna check the condition is logged in true.</span> <span class="transcript-sentence" id="sent_17_4" data-start-time="885.0" data-end-time="887.16003">So we'll do logged in question mark.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_18" data-paragraph-idx="18" data-start-time="887.8" data-end-time="909.375">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="887.8"></div>
                        <div class="timeline-timestamp">14:47</div>
                    </div>
                    <div class="paragraph-text" id="text-para_18"><span class="transcript-sentence" id="sent_18_0" data-start-time="887.8" data-end-time="891.4">And then we'll have two two things that can render.</span> <span class="transcript-sentence" id="sent_18_1" data-start-time="891.4" data-end-time="896.2">So if logged in is true, we're gonna wanna render the log out button.</span> <span class="transcript-sentence" id="sent_18_2" data-start-time="896.52" data-end-time="899.0">So we can paste that into the first argument.</span> <span class="transcript-sentence" id="sent_18_3" data-start-time="902.01495" data-end-time="905.615">And the second thing renders if logged in is false.</span> <span class="transcript-sentence" id="sent_18_4" data-start-time="905.615" data-end-time="909.375">So if we're logged out, we'll wanna render the log in component.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_19" data-paragraph-idx="19" data-start-time="910.57495" data-end-time="959.5">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="910.57495"></div>
                        <div class="timeline-timestamp">15:10</div>
                    </div>
                    <div class="paragraph-text" id="text-para_19"><span class="transcript-sentence" id="sent_19_0" data-start-time="910.57495" data-end-time="912.01495">So that it looks like that.</span> <span class="transcript-sentence" id="sent_19_1" data-start-time="912.01495" data-end-time="912.175">Okay.</span> <span class="transcript-sentence" id="sent_19_2" data-start-time="917.19" data-end-time="919.43">If you didn't catch that, here's the solution.</span> <span class="transcript-sentence" id="sent_19_3" data-start-time="921.43" data-end-time="923.03">I'll give you some time to copy that.</span> <span class="transcript-sentence" id="sent_19_4" data-start-time="959.18" data-end-time="959.5">Okay.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_20" data-paragraph-idx="20" data-start-time="959.925" data-end-time="1002.175">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="959.925"></div>
                        <div class="timeline-timestamp">15:59</div>
                    </div>
                    <div class="paragraph-text" id="text-para_20"><span class="transcript-sentence" id="sent_20_0" data-start-time="959.925" data-end-time="964.245">Let's take a look at what we have now on local host 5173.</span> <span class="transcript-sentence" id="sent_20_1" data-start-time="965.365" data-end-time="974.56">So now I have a sign in button, and if I'm signed in, it'll now show up the log out button.</span> <span class="transcript-sentence" id="sent_20_2" data-start-time="974.64" data-end-time="984.96">So with this step, we now have a working log in and log out button, and they'll conditionally render depending on the new react state that we've added in nav bar dot j s x called logged in.</span> <span class="transcript-sentence" id="sent_20_3" data-start-time="985.36" data-end-time="987.76">And I think we'll break free lunch.</span> <span class="transcript-sentence" id="sent_20_4" data-start-time="990.815" data-end-time="1002.175">So just to recap, in our starter step, we implemented working login log out buttons and we define a login state so that we can keep track in the front end of whether we're logged in or not.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_21" data-paragraph-idx="21" data-start-time="1004.48" data-end-time="1037.68">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1004.48"></div>
                        <div class="timeline-timestamp">16:44</div>
                    </div>
                    <div class="paragraph-text" id="text-para_21"><span class="transcript-sentence" id="sent_21_0" data-start-time="1004.48" data-end-time="1011.60004">So now, once we're logged in, we should be able to see a log out button, and if we're logged out, we should be able to see a log in button.</span> <span class="transcript-sentence" id="sent_21_1" data-start-time="1013.28" data-end-time="1018.16">So now that users can log in, let's store data about the users that use Catbook.</span> <span class="transcript-sentence" id="sent_21_2" data-start-time="1019.335" data-end-time="1022.135">Take ten seconds to think about how we can do that.</span> <span class="transcript-sentence" id="sent_21_3" data-start-time="1028.935" data-end-time="1030.855">Does anyone wanna take a stab at it?</span> <span class="transcript-sentence" id="sent_21_4" data-start-time="1037.2001" data-end-time="1037.68">No.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_22" data-paragraph-idx="22" data-start-time="1037.68" data-end-time="1068.8599">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1037.68"></div>
                        <div class="timeline-timestamp">17:17</div>
                    </div>
                    <div class="paragraph-text" id="text-para_22"><span class="transcript-sentence" id="sent_22_0" data-start-time="1037.68" data-end-time="1039.12">And that's okay too.</span> <span class="transcript-sentence" id="sent_22_1" data-start-time="1039.2001" data-end-time="1044.4801">Let's add a user collection into our Mongo database to keep track of all the users that use Catbook.</span> <span class="transcript-sentence" id="sent_22_2" data-start-time="1046.625" data-end-time="1053.0249">So as we went over in the database lecture, we wanted to find a user model and schema in our back end.</span> <span class="transcript-sentence" id="sent_22_3" data-start-time="1053.025" data-end-time="1060.625">So now on if you're checked out to step one, you should see a new file in the models folder in server called user dot j s.</span> <span class="transcript-sentence" id="sent_22_4" data-start-time="1061.4199" data-end-time="1068.8599">You can copy and paste the template from story dot j s, and what you'll wanna modify is the names and collections being passed in.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_23" data-paragraph-idx="23" data-start-time="1069.1" data-end-time="1160.9551">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1069.1"></div>
                        <div class="timeline-timestamp">17:49</div>
                    </div>
                    <div class="paragraph-text" id="text-para_23"><span class="transcript-sentence" id="sent_23_0" data-start-time="1069.1" data-end-time="1071.7399">And for this schema, we'll wanna have two fields.</span> <span class="transcript-sentence" id="sent_23_1" data-start-time="1072.0599" data-end-time="1075.98">Let's keep track of a name field and a Google ID field for each user.</span> <span class="transcript-sentence" id="sent_23_2" data-start-time="1076.585" data-end-time="1081.625">So take a few minutes to implement the model in schema and user dot j s.</span> <span class="transcript-sentence" id="sent_23_3" data-start-time="1140.095" data-end-time="1141.855">Raise your hand if you need more time.</span> <span class="transcript-sentence" id="sent_23_4" data-start-time="1160.3151" data-end-time="1160.9551">Okay.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_24" data-paragraph-idx="24" data-start-time="1160.9551" data-end-time="1196.495">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1160.9551"></div>
                        <div class="timeline-timestamp">19:20</div>
                    </div>
                    <div class="paragraph-text" id="text-para_24"><span class="transcript-sentence" id="sent_24_0" data-start-time="1160.9551" data-end-time="1165.115">Let's go through how we can add our user model and schema to the back end.</span> <span class="transcript-sentence" id="sent_24_1" data-start-time="1165.3551" data-end-time="1173.9099">So first, I'll go into story dot j s because we already wrote a story schema and exported it there, so I'll use that as a template.</span> <span class="transcript-sentence" id="sent_24_2" data-start-time="1174.23" data-end-time="1178.71">So what I'm doing is I'm copy pasting that into user dot j s.</span> <span class="transcript-sentence" id="sent_24_3" data-start-time="1179.51" data-end-time="1190.815">So in our first line, we're requiring Mongoose and instead of a story schema, we you wanna define a user schema and we wanna have two fields.</span> <span class="transcript-sentence" id="sent_24_4" data-start-time="1190.975" data-end-time="1196.495">Let's have a name field with type string and a Google ID field with type string.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_25" data-paragraph-idx="25" data-start-time="1199.13" data-end-time="1229.01">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1199.13"></div>
                        <div class="timeline-timestamp">19:59</div>
                    </div>
                    <div class="paragraph-text" id="text-para_25"><span class="transcript-sentence" id="sent_25_0" data-start-time="1199.13" data-end-time="1205.69">And instead of structuring the story collection, we're using this to structure the user collection.</span> <span class="transcript-sentence" id="sent_25_1" data-start-time="1205.85" data-end-time="1211.4501">So you should replace this with user, and we want this user collection to have structure user schema.</span> <span class="transcript-sentence" id="sent_25_2" data-start-time="1213.0851" data-end-time="1219.245">So now we have we should have a structured user collection that follows the schema.</span> <span class="transcript-sentence" id="sent_25_3" data-start-time="1219.9651" data-end-time="1221.485">So I have the solution right here.</span> <span class="transcript-sentence" id="sent_25_4" data-start-time="1225.73" data-end-time="1229.01">Feel free to check out to step two if you missed any of that.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_26" data-paragraph-idx="26" data-start-time="1252.47" data-end-time="1272.835">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1252.47"></div>
                        <div class="timeline-timestamp">20:52</div>
                    </div>
                    <div class="paragraph-text" id="text-para_26"><span class="transcript-sentence" id="sent_26_0" data-start-time="1252.47" data-end-time="1254.47">Raise your hand if you need more time.</span> <span class="transcript-sentence" id="sent_26_1" data-start-time="1256.9501" data-end-time="1257.43">No?</span> <span class="transcript-sentence" id="sent_26_2" data-start-time="1257.43" data-end-time="1257.99">Okay.</span> <span class="transcript-sentence" id="sent_26_3" data-start-time="1257.99" data-end-time="1260.39">Let's move on to step two then.</span> <span class="transcript-sentence" id="sent_26_4" data-start-time="1260.39" data-end-time="1272.835">So I'll check out the step two and we'll all wanna do this because from our side, we've made a few changes that you didn't have originally in step one.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_27" data-paragraph-idx="27" data-start-time="1273.075" data-end-time="1300.4149">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1273.075"></div>
                        <div class="timeline-timestamp">21:13</div>
                    </div>
                    <div class="paragraph-text" id="text-para_27"><span class="transcript-sentence" id="sent_27_0" data-start-time="1273.075" data-end-time="1274.5149">So go to your terminal.</span> <span class="transcript-sentence" id="sent_27_1" data-start-time="1274.995" data-end-time="1279.395">And we wanna check out w five dash step two.</span> <span class="transcript-sentence" id="sent_27_2" data-start-time="1282.78" data-end-time="1288.0599">If you made any changes, you'll want to reset hard first and we can check out to w five step two.</span> <span class="transcript-sentence" id="sent_27_3" data-start-time="1288.78" data-end-time="1295.7749">If it says that you're behind by commit, you just wanna git pull.</span> <span class="transcript-sentence" id="sent_27_4" data-start-time="1297.215" data-end-time="1300.4149">So let's talk about some changes we've made to the workshop.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_28" data-paragraph-idx="28" data-start-time="1301.695" data-end-time="1341.9099">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1301.695"></div>
                        <div class="timeline-timestamp">21:41</div>
                    </div>
                    <div class="paragraph-text" id="text-para_28"><span class="transcript-sentence" id="sent_28_0" data-start-time="1301.695" data-end-time="1303.9349">First is to survey dot j s.</span> <span class="transcript-sentence" id="sent_28_1" data-start-time="1304.335" data-end-time="1310.0499">As in Annabel's lecture, we're now using a session to persist authentication.</span> <span class="transcript-sentence" id="sent_28_2" data-start-time="1310.21" data-end-time="1322.13">So once the user's logged in, auth dot js will set up a session for us, which is persisted by express dot js, and this will allow the user to stay logged in even after we've refreshed.</span> <span class="transcript-sentence" id="sent_28_3" data-start-time="1331.805" data-end-time="1336.525">Another change we've made is that now we have a file called auth dot j s.</span> <span class="transcript-sentence" id="sent_28_4" data-start-time="1337.35" data-end-time="1341.9099">And this is a library that the web lab staff have written for you, and we've provided a few functions.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_29" data-paragraph-idx="29" data-start-time="1341.9099" data-end-time="1369.1699">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1341.9099"></div>
                        <div class="timeline-timestamp">22:21</div>
                    </div>
                    <div class="paragraph-text" id="text-para_29"><span class="transcript-sentence" id="sent_29_0" data-start-time="1341.9099" data-end-time="1343.0299">So let's go through them.</span> <span class="transcript-sentence" id="sent_29_1" data-start-time="1343.51" data-end-time="1345.5099">First, we have a login function.</span> <span class="transcript-sentence" id="sent_29_2" data-start-time="1347.2699" data-end-time="1356.7349">The login function is in the back end server, and once the front end gets its token from the Google auth server, it can send this token to the back end.</span> <span class="transcript-sentence" id="sent_29_3" data-start-time="1356.815" data-end-time="1365.2949">And the back end will take this token, and this login function, it'll take the token from the request body.</span> <span class="transcript-sentence" id="sent_29_4" data-start-time="1365.7749" data-end-time="1369.1699">It'll verify with Google to see if this is a legit token.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_30" data-paragraph-idx="30" data-start-time="1369.89" data-end-time="1401.82">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1369.89"></div>
                        <div class="timeline-timestamp">22:49</div>
                    </div>
                    <div class="paragraph-text" id="text-para_30"><span class="transcript-sentence" id="sent_30_0" data-start-time="1369.89" data-end-time="1377.01">If it is a good a legit token, it'll create a new user if it's the user's first time logging in.</span> <span class="transcript-sentence" id="sent_30_1" data-start-time="1378.21" data-end-time="1384.5349">And if it's an invalid token, it'll give us an error and tell us that we failed to log in.</span> <span class="transcript-sentence" id="sent_30_2" data-start-time="1385.815" data-end-time="1388.6149">We've also written for you a log out function.</span> <span class="transcript-sentence" id="sent_30_3" data-start-time="1388.9349" data-end-time="1389.815">Oh, sorry.</span> <span class="transcript-sentence" id="sent_30_4" data-start-time="1389.815" data-end-time="1401.82">In the log in function, if it's a valid token, we also set the session user to this user so that the user can be persisted in the session and we can stay logged in even after we reload.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_31" data-paragraph-idx="31" data-start-time="1403.1" data-end-time="1456.42">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1403.1"></div>
                        <div class="timeline-timestamp">23:23</div>
                    </div>
                    <div class="paragraph-text" id="text-para_31"><span class="transcript-sentence" id="sent_31_0" data-start-time="1403.1" data-end-time="1418.465">And what the log out function does is that it'll set this rec dot session user to null, so that if the user clicks the log out button, now the session doesn't have a user field in it, so authentication is no longer persisted and a new user can log in.</span> <span class="transcript-sentence" id="sent_31_1" data-start-time="1419.88" data-end-time="1430.6">And you'll also see that we have a new field called rec dot user, and later on, we'll see how we can use this to access the user information from any API route.</span> <span class="transcript-sentence" id="sent_31_2" data-start-time="1431.765" data-end-time="1434.485">Let's look at a diagram of what's happening.</span> <span class="transcript-sentence" id="sent_31_3" data-start-time="1434.725" data-end-time="1445.685">So remember on our front end, we had our Google login component, which allows you to access the Google auth server, which will return a success token if you've logged in through Google.</span> <span class="transcript-sentence" id="sent_31_4" data-start-time="1446.5801" data-end-time="1456.42">And in the back end, we've just written a login function that will take a token and check with the Google auth library to verify if this is a current a valid token.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_32" data-paragraph-idx="32" data-start-time="1456.8201" data-end-time="1505.94">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1456.8201"></div>
                        <div class="timeline-timestamp">24:16</div>
                    </div>
                    <div class="paragraph-text" id="text-para_32"><span class="transcript-sentence" id="sent_32_0" data-start-time="1456.8201" data-end-time="1466.2949">So take a few minutes to turn and talk and think about how we can get this token from the front end all the way to the back end, so that we can actually use our auth login function.</span> <span class="transcript-sentence" id="sent_32_1" data-start-time="1495.985" data-end-time="1496.705">Okay.</span> <span class="transcript-sentence" id="sent_32_2" data-start-time="1496.945" data-end-time="1498.945">Does anyone wanna take a stab at it?</span> <span class="transcript-sentence" id="sent_32_3" data-start-time="1501.78" data-end-time="1503.2999">Feel free to raise your hand.</span> <span class="transcript-sentence" id="sent_32_4" data-start-time="1504.82" data-end-time="1505.94">Feel free to not.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_33" data-paragraph-idx="33" data-start-time="1505.94" data-end-time="1549.835">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1505.94"></div>
                        <div class="timeline-timestamp">25:05</div>
                    </div>
                    <div class="paragraph-text" id="text-para_33"><span class="transcript-sentence" id="sent_33_0" data-start-time="1505.94" data-end-time="1508.82">What we can do is we can make a post request.</span> <span class="transcript-sentence" id="sent_33_1" data-start-time="1509.14" data-end-time="1517.845">So we can define a new endpoint in our server called API login, and what the front end can do is make a post request and send the token all the way to our back end.</span> <span class="transcript-sentence" id="sent_33_2" data-start-time="1519.285" data-end-time="1531.045">So similarly for our logout function, on our front end, the user can now click a logout button and it'll change the front end to have a login button now.</span> <span class="transcript-sentence" id="sent_33_3" data-start-time="1531.5599" data-end-time="1543.4799">And what we wanna do is also tell the back end that we wanna log out so in the server, we can get rid of the session user and this is done by calling the auth layout function.</span> <span class="transcript-sentence" id="sent_33_4" data-start-time="1543.88" data-end-time="1549.835">So similarly, we can make another post request and tell the back end that we want to log out.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_34" data-paragraph-idx="34" data-start-time="1552.715" data-end-time="1578.5549">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1552.715"></div>
                        <div class="timeline-timestamp">25:52</div>
                    </div>
                    <div class="paragraph-text" id="text-para_34"><span class="transcript-sentence" id="sent_34_0" data-start-time="1552.715" data-end-time="1554.5549">So that's what you'll be doing next.</span> <span class="transcript-sentence" id="sent_34_1" data-start-time="1554.555" data-end-time="1557.755">We want to connect the front end to the back end using two post routes.</span> <span class="transcript-sentence" id="sent_34_2" data-start-time="1557.9" data-end-time="1561.26">We'll make a login post route and a log out post route.</span> <span class="transcript-sentence" id="sent_34_3" data-start-time="1561.66" data-end-time="1569.66">So for the first part, we can go to api.js, and you'll wanna add these two routes, which we've already written for you on this slide.</span> <span class="transcript-sentence" id="sent_34_4" data-start-time="1570.155" data-end-time="1578.5549">And once you've added that to api.js, go to navbar.jsx on the front end, and you'll wanna call you wanna post these routes.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_35" data-paragraph-idx="35" data-start-time="1579.035" data-end-time="1603.5549">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1579.035"></div>
                        <div class="timeline-timestamp">26:19</div>
                    </div>
                    <div class="paragraph-text" id="text-para_35"><span class="transcript-sentence" id="sent_35_0" data-start-time="1579.035" data-end-time="1584.89">And for the login route, you wanna pass a token parameter, which you can get by calling res.</span> <span class="transcript-sentence" id="sent_35_1" data-start-time="1584.89" data-end-time="1585.61">Credential.</span> <span class="transcript-sentence" id="sent_35_2" data-start-time="1586.01" data-end-time="1590.8099">And for the log out function, you'll just need to call the post route and you won't need to pass anything through.</span> <span class="transcript-sentence" id="sent_35_3" data-start-time="1591.13" data-end-time="1595.93">So take a few minutes and give that a try and feel free to hop on the queue if you have any questions.</span> <span class="transcript-sentence" id="sent_35_4" data-start-time="1601.475" data-end-time="1603.5549">Or raise your hand and someone will come.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_36" data-paragraph-idx="36" data-start-time="1701.5801" data-end-time="1723.675">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1701.5801"></div>
                        <div class="timeline-timestamp">28:21</div>
                    </div>
                    <div class="paragraph-text" id="text-para_36"><span class="transcript-sentence" id="sent_36_0" data-start-time="1701.5801" data-end-time="1703.5">Raise your hand if you need more time.</span> <span class="transcript-sentence" id="sent_36_1" data-start-time="1705.8201" data-end-time="1706.62">Okay.</span> <span class="transcript-sentence" id="sent_36_2" data-start-time="1706.9401" data-end-time="1708.86">Let's go through how we can do that.</span> <span class="transcript-sentence" id="sent_36_3" data-start-time="1708.9401" data-end-time="1716.395">So in API.JS, you should've just added two new post endpoints, router.post, and this is the login endpoint.</span> <span class="transcript-sentence" id="sent_36_4" data-start-time="1716.875" data-end-time="1723.675">And what this will do is call the auth login function that we've already written for you, and we'll do something similar for log out.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_37" data-paragraph-idx="37" data-start-time="1726.9601" data-end-time="1761.0">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1726.9601"></div>
                        <div class="timeline-timestamp">28:46</div>
                    </div>
                    <div class="paragraph-text" id="text-para_37"><span class="transcript-sentence" id="sent_37_0" data-start-time="1726.9601" data-end-time="1732.32">So this is in our back end server, and now we wanna call these endpoints from the front end.</span> <span class="transcript-sentence" id="sent_37_1" data-start-time="1732.4801" data-end-time="1737.36">And we wanna do that in nap bar dot j s x when handle login and handle log out are called.</span> <span class="transcript-sentence" id="sent_37_2" data-start-time="1737.92" data-end-time="1747.0349">So first, in handle login, we can call the post end point to log in, and we'll do that by calling post to slash API slash log in.</span> <span class="transcript-sentence" id="sent_37_3" data-start-time="1748.315" data-end-time="1749.9149">And wait wait.</span> <span class="transcript-sentence" id="sent_37_4" data-start-time="1749.9149" data-end-time="1761.0">First, let me define a variable called user token, and we get this by getting the response of the Google server and getting the credential parameter of that response.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_38" data-paragraph-idx="38" data-start-time="1761.7201" data-end-time="1823.125">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1761.7201"></div>
                        <div class="timeline-timestamp">29:21</div>
                    </div>
                    <div class="paragraph-text" id="text-para_38"><span class="transcript-sentence" id="sent_38_0" data-start-time="1761.7201" data-end-time="1765.64">So after we have our user token, we can pass it to our back end.</span> <span class="transcript-sentence" id="sent_38_1" data-start-time="1773.1549" data-end-time="1786.73">Through a token parameter, and remember that a post request is a promise, so we wanna just or we were trying to send the user back to the front end, so let's console log.</span> <span class="transcript-sentence" id="sent_38_2" data-start-time="1805.825" data-end-time="1809.105">I'll post the solutions up so you can also follow along there.</span> <span class="transcript-sentence" id="sent_38_3" data-start-time="1809.96" data-end-time="1816.84">And for handle log out, we don't have to pass anything to the back end because we just wanna call the end point and tell the back end that we're logged out now.</span> <span class="transcript-sentence" id="sent_38_4" data-start-time="1816.84" data-end-time="1823.125">So all we have to do is call post and call that to our log out endpoint.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_39" data-paragraph-idx="39" data-start-time="1824.885" data-end-time="1866.4299">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1824.885"></div>
                        <div class="timeline-timestamp">30:24</div>
                    </div>
                    <div class="paragraph-text" id="text-para_39"><span class="transcript-sentence" id="sent_39_0" data-start-time="1824.885" data-end-time="1828.005">So take a second to copy that if you miss anything.</span> <span class="transcript-sentence" id="sent_39_1" data-start-time="1831.205" data-end-time="1833.685">Otherwise, our sign in flow should now be complete.</span> <span class="transcript-sentence" id="sent_39_2" data-start-time="1834.0399" data-end-time="1841.32">Because now, in our front end, we have this Google login component, which will allow us to log in through Google's interface.</span> <span class="transcript-sentence" id="sent_39_3" data-start-time="1841.64" data-end-time="1856.8151">Google should send us a token back to the front end, and now that we have a post end point slash API slash login, we can pass this token to the back end, which will call auth dot login and do some stuff in the server to help us persist the authentication in a session.</span> <span class="transcript-sentence" id="sent_39_4" data-start-time="1857.375" data-end-time="1866.4299">And once we click the logout function, we'll call the API logout endpoint, API which we'll call auth logout so that we can remove the user from the session.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_40" data-paragraph-idx="40" data-start-time="1868.6699" data-end-time="1891.32">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1868.6699"></div>
                        <div class="timeline-timestamp">31:08</div>
                    </div>
                    <div class="paragraph-text" id="text-para_40"><span class="transcript-sentence" id="sent_40_0" data-start-time="1868.6699" data-end-time="1870.8298">And now we'll move on to step three.</span> <span class="transcript-sentence" id="sent_40_1" data-start-time="1873.71" data-end-time="1876.215">Oh, take a second to breathe.</span> <span class="transcript-sentence" id="sent_40_2" data-start-time="1876.2151" data-end-time="1882.215">This workshop is very long and we'll take another break in the middle at some point.</span> <span class="transcript-sentence" id="sent_40_3" data-start-time="1883.9751" data-end-time="1884.535">Okay.</span> <span class="transcript-sentence" id="sent_40_4" data-start-time="1884.535" data-end-time="1891.32">So if we go back to our cat book, let's sign in.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_41" data-paragraph-idx="41" data-start-time="1893.08" data-end-time="1907.1449">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1893.08"></div>
                        <div class="timeline-timestamp">31:33</div>
                    </div>
                    <div class="paragraph-text" id="text-para_41"><span class="transcript-sentence" id="sent_41_0" data-start-time="1893.08" data-end-time="1894.9199">I mean, go ahead and make a story.</span> <span class="transcript-sentence" id="sent_41_1" data-start-time="1895.08" data-end-time="1895.72">Hello.</span> <span class="transcript-sentence" id="sent_41_2" data-start-time="1897.16" data-end-time="1898.68">You make a comment as well.</span> <span class="transcript-sentence" id="sent_41_3" data-start-time="1898.68" data-end-time="1899.88">Here is a comment.</span> <span class="transcript-sentence" id="sent_41_4" data-start-time="1902.425" data-end-time="1907.1449">Now you'll see that we're logged in, but it still says that we're anonymous user.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_42" data-paragraph-idx="42" data-start-time="1908.585" data-end-time="1955.78">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1908.585"></div>
                        <div class="timeline-timestamp">31:48</div>
                    </div>
                    <div class="paragraph-text" id="text-para_42"><span class="transcript-sentence" id="sent_42_0" data-start-time="1908.585" data-end-time="1921.3499">That's because in our API J s, we set a variable called my name to anonymous user, so every time we're posting a story, we're just passing the string anonymous user to the database.</span> <span class="transcript-sentence" id="sent_42_1" data-start-time="1921.51" data-end-time="1928.63">But now that we're logged in, it'd be great if we could log the actual user's name that's logging in so that we can see who's posting these stories and comments.</span> <span class="transcript-sentence" id="sent_42_2" data-start-time="1932.045" data-end-time="1935.485">So let's keep track of the creators of all our stories and comments.</span> <span class="transcript-sentence" id="sent_42_3" data-start-time="1936.045" data-end-time="1940.685">Turn and talk or take some take a minute to think about how you might wanna implement this.</span> <span class="transcript-sentence" id="sent_42_4" data-start-time="1945.62" data-end-time="1955.78">For reference, before in our story field, we have creator name and content, and now we're keeping track of the users that use our website through a user ID.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_43" data-paragraph-idx="43" data-start-time="1979.84" data-end-time="2004.4299">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="1979.84"></div>
                        <div class="timeline-timestamp">32:59</div>
                    </div>
                    <div class="paragraph-text" id="text-para_43"><span class="transcript-sentence" id="sent_43_0" data-start-time="1979.84" data-end-time="1980.56">Okay.</span> <span class="transcript-sentence" id="sent_43_1" data-start-time="1980.56" data-end-time="1990.2849">So what we can do is we can add a creator ID field to all our stories and common schemas so that in our database, we can keep track of this user information.</span> <span class="transcript-sentence" id="sent_43_2" data-start-time="1992.125" data-end-time="1993.645">So your turn.</span> <span class="transcript-sentence" id="sent_43_3" data-start-time="1993.965" data-end-time="1998.0449">Now we wanna know the user ID associated with every story and comment.</span> <span class="transcript-sentence" id="sent_43_4" data-start-time="1998.205" data-end-time="2004.4299">So you'll first wanna start by modifying the story schema and comment schema by adding a creator ID string.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_44" data-paragraph-idx="44" data-start-time="2004.91" data-end-time="2114.445">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="2004.91"></div>
                        <div class="timeline-timestamp">33:24</div>
                    </div>
                    <div class="paragraph-text" id="text-para_44"><span class="transcript-sentence" id="sent_44_0" data-start-time="2004.91" data-end-time="2015.47">And then you'll also wanna update the post route in api.j s so that for when we're making a new story or comment, we're also specifying the ID of the user that made that story in comment.</span> <span class="transcript-sentence" id="sent_44_1" data-start-time="2016.3949" data-end-time="2025.4349">And remember that right now, we're just passing anonymous user to all the creator names, so instead of that, you wanna pass the actual user's name.</span> <span class="transcript-sentence" id="sent_44_2" data-start-time="2025.5149" data-end-time="2028.075">And you can get this by calling rec.user.</span> <span class="transcript-sentence" id="sent_44_3" data-start-time="2106.5251" data-end-time="2108.9253">Raise your hand if you need more time for this.</span> <span class="transcript-sentence" id="sent_44_4" data-start-time="2114.0452" data-end-time="2114.445">Okay.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_45" data-paragraph-idx="45" data-start-time="2117.75" data-end-time="2177.56">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="2117.75"></div>
                        <div class="timeline-timestamp">35:17</div>
                    </div>
                    <div class="paragraph-text" id="text-para_45"><span class="transcript-sentence" id="sent_45_0" data-start-time="2117.75" data-end-time="2121.59">Let's go through how we can implement these two steps then.</span> <span class="transcript-sentence" id="sent_45_1" data-start-time="2121.99" data-end-time="2125.9102">So first, we're gonna modify the story schema and comment schema.</span> <span class="transcript-sentence" id="sent_45_2" data-start-time="2126.31" data-end-time="2135.445">Let's add a creator ID field and this will be a type string And in comment dot j s, we'll do the same thing.</span> <span class="transcript-sentence" id="sent_45_3" data-start-time="2142.405" data-end-time="2164.905">And now, an API dot j s, When we make a post request for a story, we're gonna wanna update creator ID and we can get that from rec dot user rec dot user dot underscore ID And we'll replace creator name with rec dot user dot name.</span> <span class="transcript-sentence" id="sent_45_4" data-start-time="2169.945" data-end-time="2177.56">And we'll do something similar for comment or replace creator name with rack dot user dot name.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_46" data-paragraph-idx="46" data-start-time="2178.4402" data-end-time="2217.1653">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="2178.4402"></div>
                        <div class="timeline-timestamp">36:18</div>
                    </div>
                    <div class="paragraph-text" id="text-para_46"><span class="transcript-sentence" id="sent_46_0" data-start-time="2178.4402" data-end-time="2184.36">And now we wanna insert a new field corresponding to the unique user that posted that comment.</span> <span class="transcript-sentence" id="sent_46_1" data-start-time="2184.6802" data-end-time="2188.7852">And we'll get that via rec dot user dot underscore ID.</span> <span class="transcript-sentence" id="sent_46_2" data-start-time="2192.7852" data-end-time="2195.2651">And here's the solution up on the slide.</span> <span class="transcript-sentence" id="sent_46_3" data-start-time="2211.3699" data-end-time="2213.2898">Let's revisit cat book.</span> <span class="transcript-sentence" id="sent_46_4" data-start-time="2213.2898" data-end-time="2217.1653">Now if I post a story, be able to see my name.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_47" data-paragraph-idx="47" data-start-time="2217.3252" data-end-time="2226.5251">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="2217.3252"></div>
                        <div class="timeline-timestamp">36:57</div>
                    </div>
                    <div class="paragraph-text" id="text-para_47"><span class="transcript-sentence" id="sent_47_0" data-start-time="2217.3252" data-end-time="2219.3252">Oh, we didn't wanna reload it.</span> <span class="transcript-sentence" id="sent_47_1" data-start-time="2219.485" data-end-time="2220.9253">You log in.</span> <span class="transcript-sentence" id="sent_47_2" data-start-time="2224.445" data-end-time="2224.925">Okay.</span> <span class="transcript-sentence" id="sent_47_3" data-start-time="2224.925" data-end-time="2225.405">Hi.</span> <span class="transcript-sentence" id="sent_47_4" data-start-time="2225.405" data-end-time="2226.5251">This is Sophie.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_48" data-paragraph-idx="48" data-start-time="2229.1199" data-end-time="2268.7102">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="2229.1199"></div>
                        <div class="timeline-timestamp">37:09</div>
                    </div>
                    <div class="paragraph-text" id="text-para_48"><span class="transcript-sentence" id="sent_48_0" data-start-time="2229.1199" data-end-time="2229.5999">Yep.</span> <span class="transcript-sentence" id="sent_48_1" data-start-time="2229.5999" data-end-time="2236.3198">And now, you should be able to see a name field whenever you make a story and also if you make a comment.</span> <span class="transcript-sentence" id="sent_48_2" data-start-time="2236.3198" data-end-time="2242.48">So give that a try on your cat book interface and feel free to raise your hand if you don't see this.</span> <span class="transcript-sentence" id="sent_48_3" data-start-time="2262.7102" data-end-time="2263.2703">Yeah.</span> <span class="transcript-sentence" id="sent_48_4" data-start-time="2267.99" data-end-time="2268.7102">Let me do that.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_49" data-paragraph-idx="49" data-start-time="2274.515" data-end-time="2310.055">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="2274.515"></div>
                        <div class="timeline-timestamp">37:54</div>
                    </div>
                    <div class="paragraph-text" id="text-para_49"><span class="transcript-sentence" id="sent_49_0" data-start-time="2274.515" data-end-time="2283.555">Is that better?</span> <span class="transcript-sentence" id="sent_49_1" data-start-time="2284.595" data-end-time="2284.9949">Okay.</span> <span class="transcript-sentence" id="sent_49_2" data-start-time="2291.44" data-end-time="2292.16">Okay.</span> <span class="transcript-sentence" id="sent_49_3" data-start-time="2292.4" data-end-time="2296.96">So now let's check out the step four if in case you missed anything.</span> <span class="transcript-sentence" id="sent_49_4" data-start-time="2304.455" data-end-time="2310.055">So just to reiterate, what we just did was we added a creator ID field for both the story and comment.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_50" data-paragraph-idx="50" data-start-time="2310.055" data-end-time="2336.585">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="2310.055"></div>
                        <div class="timeline-timestamp">38:30</div>
                    </div>
                    <div class="paragraph-text" id="text-para_50"><span class="transcript-sentence" id="sent_50_0" data-start-time="2310.055" data-end-time="2316.455">We also replaced creator name with the name of the user that's that made the comment and story.</span> <span class="transcript-sentence" id="sent_50_1" data-start-time="2316.695" data-end-time="2320.32">And that should be reflected in your cat book interface.</span> <span class="transcript-sentence" id="sent_50_2" data-start-time="2321.12" data-end-time="2323.6">And if you wanna learn a bit more about rec where rec.</span> <span class="transcript-sentence" id="sent_50_3" data-start-time="2323.6" data-end-time="2327.36">User came from, you can check out the hidden slides in the slideshow.</span> <span class="transcript-sentence" id="sent_50_4" data-start-time="2329.52" data-end-time="2336.585">So we just saw that now we can see a name corresponding to every news story or a comment that's posted.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_51" data-paragraph-idx="51" data-start-time="2336.665" data-end-time="2383.29">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="2336.665"></div>
                        <div class="timeline-timestamp">38:56</div>
                    </div>
                    <div class="paragraph-text" id="text-para_51"><span class="transcript-sentence" id="sent_51_0" data-start-time="2336.665" data-end-time="2341.865">It'd be great if we could click these names and it would take us to a profile corresponding to that user.</span> <span class="transcript-sentence" id="sent_51_1" data-start-time="2342.425" data-end-time="2347.9448">So what we wanna do now is let's add a link so that we can click on a poster's name and view their profile.</span> <span class="transcript-sentence" id="sent_51_2" data-start-time="2350.5898" data-end-time="2359.95">So right now, if we go to slash profile, we only have one link for this and you can get it by going to your nav bar.</span> <span class="transcript-sentence" id="sent_51_3" data-start-time="2361.15" data-end-time="2373.425">But what we wanna do is we we wanna create a unique URL for every user of Catbook, and we want this to have the URL slash profile slash user ID, which we just went over in Daniel's lecture.</span> <span class="transcript-sentence" id="sent_51_4" data-start-time="2373.905" data-end-time="2383.29">So remember that we can do this by passing in a user ID parameter into the react router path for profile.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_52" data-paragraph-idx="52" data-start-time="2383.29" data-end-time="2415.3699">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="2383.29"></div>
                        <div class="timeline-timestamp">39:43</div>
                    </div>
                    <div class="paragraph-text" id="text-para_52"><span class="transcript-sentence" id="sent_52_0" data-start-time="2383.29" data-end-time="2384.97">So let's do just that.</span> <span class="transcript-sentence" id="sent_52_1" data-start-time="2385.85" data-end-time="2391.21">Go back to v s code, and you'll wanna go to index.j s x where our react router is defined.</span> <span class="transcript-sentence" id="sent_52_2" data-start-time="2393.195" data-end-time="2400.395">So here we have the route for a path profile, and right now, it's a static route that only takes us to slash profile.</span> <span class="transcript-sentence" id="sent_52_3" data-start-time="2400.395" data-end-time="2412.97">So what we wanna do is we wanna add slash colon user ID, this becomes a dynamic route so that the profile component now accepts a user ID after the slash profile in the URL.</span> <span class="transcript-sentence" id="sent_52_4" data-start-time="2414.0098" data-end-time="2415.3699">So go ahead and do that.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_53" data-paragraph-idx="53" data-start-time="2424.305" data-end-time="2461.145">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="2424.305"></div>
                        <div class="timeline-timestamp">40:24</div>
                    </div>
                    <div class="paragraph-text" id="text-para_53"><span class="transcript-sentence" id="sent_53_0" data-start-time="2424.305" data-end-time="2424.945">Okay.</span> <span class="transcript-sentence" id="sent_53_1" data-start-time="2426.945" data-end-time="2437.8">So just to recap, before we had the static route that slash profile, and now we no longer have a path at slash profile.</span> <span class="transcript-sentence" id="sent_53_2" data-start-time="2437.8" data-end-time="2443.56">So if you try to go to local host five one seven three slash profile, you should get an error.</span> <span class="transcript-sentence" id="sent_53_3" data-start-time="2443.96" data-end-time="2449.705">And instead, we'll now have profile pages that will generate for a slash profile slash user ID.</span> <span class="transcript-sentence" id="sent_53_4" data-start-time="2452.665" data-end-time="2461.145">So now that we have that link, let's make it so when clicking a name for each story, it'll take us to slash profile slash creator ID.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_54" data-paragraph-idx="54" data-start-time="2463.26" data-end-time="2520.78">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="2463.26"></div>
                        <div class="timeline-timestamp">41:03</div>
                    </div>
                    <div class="paragraph-text" id="text-para_54"><span class="transcript-sentence" id="sent_54_0" data-start-time="2463.26" data-end-time="2463.74">Okay.</span> <span class="transcript-sentence" id="sent_54_1" data-start-time="2463.74" data-end-time="2464.78">Turn and talk.</span> <span class="transcript-sentence" id="sent_54_2" data-start-time="2464.94" data-end-time="2477.58">Where does creator ID come from and how can we get it in single story so that clicking on a name will take us to this link and we're able to pass creator ID into that link in single story.</span> <span class="transcript-sentence" id="sent_54_3" data-start-time="2516.38" data-end-time="2517.1">Okay.</span> <span class="transcript-sentence" id="sent_54_4" data-start-time="2517.5" data-end-time="2520.78">Did anyone figure out where we get creator ID from?</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_55" data-paragraph-idx="55" data-start-time="2521.26" data-end-time="2541.225">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="2521.26"></div>
                        <div class="timeline-timestamp">42:01</div>
                    </div>
                    <div class="paragraph-text" id="text-para_55"><span class="transcript-sentence" id="sent_55_0" data-start-time="2521.26" data-end-time="2522.9402">Or where we can get it from?</span> <span class="transcript-sentence" id="sent_55_1" data-start-time="2523.34" data-end-time="2524.54">It's not yet defined.</span> <span class="transcript-sentence" id="sent_55_2" data-start-time="2530.0251" data-end-time="2530.8252">Okay.</span> <span class="transcript-sentence" id="sent_55_3" data-start-time="2531.5452" data-end-time="2536.425">Well, so how the creator information is passed is in feed.</span> <span class="transcript-sentence" id="sent_55_4" data-start-time="2537.145" data-end-time="2541.225">Remember that we make a get request to slash API slash stories.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_56" data-paragraph-idx="56" data-start-time="2541.53" data-end-time="2579.79">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="2541.53"></div>
                        <div class="timeline-timestamp">42:21</div>
                    </div>
                    <div class="paragraph-text" id="text-para_56"><span class="transcript-sentence" id="sent_56_0" data-start-time="2541.53" data-end-time="2550.17">And what this API endpoint does is that it sends all the stories to from the back end in the database all the way to our front end.</span> <span class="transcript-sentence" id="sent_56_1" data-start-time="2550.25" data-end-time="2556.73">And remember that in the previous step, we just added a new field to each story, and that's the creator ID field.</span> <span class="transcript-sentence" id="sent_56_2" data-start-time="2557.215" data-end-time="2565.935">So once we get all these stories, we're setting the stories array object and feed to all the story objects that get returned from the database.</span> <span class="transcript-sentence" id="sent_56_3" data-start-time="2566.175" data-end-time="2570.2551">And now, all of these story objects now have a new field called creator ID.</span> <span class="transcript-sentence" id="sent_56_4" data-start-time="2571.39" data-end-time="2579.79">So when we're actually rendering the components on feed, we're passing in all of the fields of the story object into a card component.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_57" data-paragraph-idx="57" data-start-time="2580.27" data-end-time="2613.8098">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="2580.27"></div>
                        <div class="timeline-timestamp">43:00</div>
                    </div>
                    <div class="paragraph-text" id="text-para_57"><span class="transcript-sentence" id="sent_57_0" data-start-time="2580.27" data-end-time="2582.91">And now we also have a creator ID component.</span> <span class="transcript-sentence" id="sent_57_1" data-start-time="2583.7852" data-end-time="2595.145">So we what we wanna do is we wanna pass creator ID from feel sorry, from feed into card so that card can pass the creator ID down a single story.</span> <span class="transcript-sentence" id="sent_57_2" data-start-time="2601.5698" data-end-time="2601.97">Yeah.</span> <span class="transcript-sentence" id="sent_57_3" data-start-time="2601.97" data-end-time="2607.89">So creator ID lives in field and we got this for by making a post request to the stories.</span> <span class="transcript-sentence" id="sent_57_4" data-start-time="2608.8499" data-end-time="2613.8098">And we can pass this as a prop to card and pass that as a prop to single story.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_58" data-paragraph-idx="58" data-start-time="2614.685" data-end-time="2810.135">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="2614.685"></div>
                        <div class="timeline-timestamp">43:34</div>
                    </div>
                    <div class="paragraph-text" id="text-para_58"><span class="transcript-sentence" id="sent_58_0" data-start-time="2614.685" data-end-time="2616.0452">So give that a try.</span> <span class="transcript-sentence" id="sent_58_1" data-start-time="2616.605" data-end-time="2623.165">First, you'll wanna grab the creator ID and pass it in as a field to card, and then you'll wanna pass it to single story.</span> <span class="transcript-sentence" id="sent_58_2" data-start-time="2623.325" data-end-time="2636.35">And once you've passed that all the way down, in single story, you can change the link so that you can change the user's name from text to link so that clicking it takes us to slash profile slash creator ID.</span> <span class="transcript-sentence" id="sent_58_3" data-start-time="2740.93" data-end-time="2743.73">Raise your hand if you need a bit more time to finish this.</span> <span class="transcript-sentence" id="sent_58_4" data-start-time="2809.655" data-end-time="2810.135">Okay.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_59" data-paragraph-idx="59" data-start-time="2810.135" data-end-time="2838.1052">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="2810.135"></div>
                        <div class="timeline-timestamp">46:50</div>
                    </div>
                    <div class="paragraph-text" id="text-para_59"><span class="transcript-sentence" id="sent_59_0" data-start-time="2810.135" data-end-time="2811.095">Are we all good now?</span> <span class="transcript-sentence" id="sent_59_1" data-start-time="2817.23" data-end-time="2817.71">Okay.</span> <span class="transcript-sentence" id="sent_59_2" data-start-time="2817.71" data-end-time="2820.83">I'll go through how we can implement these two steps now.</span> <span class="transcript-sentence" id="sent_59_3" data-start-time="2821.23" data-end-time="2830.19">So if you recall, we just went over that in feed dot j s x, we made a get request to the back end so that it sends all the story objects back to our front end.</span> <span class="transcript-sentence" id="sent_59_4" data-start-time="2830.745" data-end-time="2838.1052">And when we're rendering, we're taking this entire stories list and passing in the fields of the stories into the card component.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_60" data-paragraph-idx="60" data-start-time="2838.585" data-end-time="2872.5098">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="2838.585"></div>
                        <div class="timeline-timestamp">47:18</div>
                    </div>
                    <div class="paragraph-text" id="text-para_60"><span class="transcript-sentence" id="sent_60_0" data-start-time="2838.585" data-end-time="2848.59">So now now that we've added a creator ID field in our story schema, let's put that in the creator ID field in the card.</span> <span class="transcript-sentence" id="sent_60_1" data-start-time="2848.75" data-end-time="2853.4702">So we can get that by grabbing story object dot creator ID.</span> <span class="transcript-sentence" id="sent_60_2" data-start-time="2854.43" data-end-time="2857.55">So now the creator ID should be passed into card.</span> <span class="transcript-sentence" id="sent_60_3" data-start-time="2859.1748" data-end-time="2862.615">We just added that line here in free dot jsx.</span> <span class="transcript-sentence" id="sent_60_4" data-start-time="2865.895" data-end-time="2872.5098">So after we pass that into card, we'll end up needing creator ID in single story.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_61" data-paragraph-idx="61" data-start-time="2872.5098" data-end-time="2911.37">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="2872.5098"></div>
                        <div class="timeline-timestamp">47:52</div>
                    </div>
                    <div class="paragraph-text" id="text-para_61"><span class="transcript-sentence" id="sent_61_0" data-start-time="2872.5098" data-end-time="2878.91">So we need to go to card dot j s x and pass the creator ID all the way down a single story.</span> <span class="transcript-sentence" id="sent_61_1" data-start-time="2879.7898" data-end-time="2889.585">So now that creator ID prop lives here and we can go to single story, We can add a new prop called creator ID and set it equal to props.</span> <span class="transcript-sentence" id="sent_61_2" data-start-time="2889.585" data-end-time="2890.945">Creator ID.</span> <span class="transcript-sentence" id="sent_61_3" data-start-time="2893.1848" data-end-time="2902.01">So we just added this line into card dot j s x so that we can pass the creator ID from feed to card to single story.</span> <span class="transcript-sentence" id="sent_61_4" data-start-time="2904.73" data-end-time="2911.37">So now that we have the creator ID prop in single story, we can replace this props.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_62" data-paragraph-idx="62" data-start-time="2911.37" data-end-time="2941.13">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="2911.37"></div>
                        <div class="timeline-timestamp">48:31</div>
                    </div>
                    <div class="paragraph-text" id="text-para_62"><span class="transcript-sentence" id="sent_62_0" data-start-time="2911.37" data-end-time="2918.005">Creator name span component with a link component that takes us to slash profile slash creator ID.</span> <span class="transcript-sentence" id="sent_62_1" data-start-time="2918.645" data-end-time="2921.045">So let's replace this with a link component.</span> <span class="transcript-sentence" id="sent_62_2" data-start-time="2921.4448" data-end-time="2925.125">So instead of span, we'll replace this with a link.</span> <span class="transcript-sentence" id="sent_62_3" data-start-time="2927.45" data-end-time="2933.3699">And with link, we have a two parameter, which will pass in a link to.</span> <span class="transcript-sentence" id="sent_62_4" data-start-time="2933.7698" data-end-time="2941.13">So let's have this take us to /profile/props.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_63" data-paragraph-idx="63" data-start-time="2941.13" data-end-time="2990.01">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="2941.13"></div>
                        <div class="timeline-timestamp">49:01</div>
                    </div>
                    <div class="paragraph-text" id="text-para_63"><span class="transcript-sentence" id="sent_63_0" data-start-time="2941.13" data-end-time="2942.17">Creator ID.</span> <span class="transcript-sentence" id="sent_63_1" data-start-time="2946.385" data-end-time="2952.225">And this should make the creator name now a link in our front end interface.</span> <span class="transcript-sentence" id="sent_63_2" data-start-time="2953.105" data-end-time="2969.6099">So to reiterate, we just pass the props down to single story and we modify this line to be a link so that clicking it should take us to slash profile slash props dot creator ID, which is a dynamic route that we just defined in the previous step in index dot j s x.</span> <span class="transcript-sentence" id="sent_63_3" data-start-time="2973.465" data-end-time="2978.1853">So I'll put the solution up on the slide, and let's take a look at cat look now.</span> <span class="transcript-sentence" id="sent_63_4" data-start-time="2978.745" data-end-time="2990.01">So remember that slash profile is now four zero four not found because we no longer have a path for it in our react router, but instead we have dynamic paths taking us to slash profile slash user ID.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_64" data-paragraph-idx="64" data-start-time="2990.25" data-end-time="3015.2402">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="2990.25"></div>
                        <div class="timeline-timestamp">49:50</div>
                    </div>
                    <div class="paragraph-text" id="text-para_64"><span class="transcript-sentence" id="sent_64_0" data-start-time="2990.25" data-end-time="2994.49">So if you go back to local host, you'll see that all the names are now links.</span> <span class="transcript-sentence" id="sent_64_1" data-start-time="2994.49" data-end-time="2997.13">So if I click my name, it takes me to a profile.</span> <span class="transcript-sentence" id="sent_64_2" data-start-time="2997.825" data-end-time="3000.545">While it's not my profile, it's still a profile page.</span> <span class="transcript-sentence" id="sent_64_3" data-start-time="3000.785" data-end-time="3004.785">And in the next step, we'll go over how we can modify this page.</span> <span class="transcript-sentence" id="sent_64_4" data-start-time="3008.2249" data-end-time="3015.2402">So if everyone's ready, you can reset hard in case you miss any steps and we can check out to workshop five step five.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_65" data-paragraph-idx="65" data-start-time="3015.4001" data-end-time="3070.5552">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="3015.4001"></div>
                        <div class="timeline-timestamp">50:15</div>
                    </div>
                    <div class="paragraph-text" id="text-para_65"><span class="transcript-sentence" id="sent_65_0" data-start-time="3015.4001" data-end-time="3021.48">So I'll do git reset dash dash hard, and I'll check out to workshop five step five.</span> <span class="transcript-sentence" id="sent_65_1" data-start-time="3035.095" data-end-time="3039.0952">Here's some hints for testing in case you're getting any bugs.</span> <span class="transcript-sentence" id="sent_65_2" data-start-time="3039.335" data-end-time="3050.0403">First, you wanna make sure that you're logged in before posting because you remember when we post, we're passing in user information and if you're not logged in, that user information is null and it'll get mad at you.</span> <span class="transcript-sentence" id="sent_65_3" data-start-time="3050.4402" data-end-time="3063.0352">And you If you're trying to test the features for the links and the usernames, make sure that you're making new posts with the new changes to test this feature because previously, we didn't have usernames for the stories and comments.</span> <span class="transcript-sentence" id="sent_65_4" data-start-time="3063.435" data-end-time="3070.5552">And if your code works, clicking on a username should take you to a link that goes to slash profile slash some user ID.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_66" data-paragraph-idx="66" data-start-time="3071.355" data-end-time="3100.4248">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="3071.355"></div>
                        <div class="timeline-timestamp">51:11</div>
                    </div>
                    <div class="paragraph-text" id="text-para_66"><span class="transcript-sentence" id="sent_66_0" data-start-time="3071.355" data-end-time="3078.3103">And the name on the profile page should currently be wrong, but that's okay because we'll tackle that in the next step.</span> <span class="transcript-sentence" id="sent_66_1" data-start-time="3081.9102" data-end-time="3085.9902">So feel free to test that out and now we'll move on to step five.</span> <span class="transcript-sentence" id="sent_66_2" data-start-time="3088.825" data-end-time="3089.4648">Okay.</span> <span class="transcript-sentence" id="sent_66_3" data-start-time="3089.7048" data-end-time="3094.825">So remember that we just clicked the link and it took us to Shannon Wu's profile page.</span> <span class="transcript-sentence" id="sent_66_4" data-start-time="3094.825" data-end-time="3100.4248">But we don't know who Shannon Wu is and we want that to take us to the profile page for the user we clicked.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_67" data-paragraph-idx="67" data-start-time="3102.4" data-end-time="3159.6401">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="3102.4"></div>
                        <div class="timeline-timestamp">51:42</div>
                    </div>
                    <div class="paragraph-text" id="text-para_67"><span class="transcript-sentence" id="sent_67_0" data-start-time="3102.4" data-end-time="3110.32">So that means that we need to access user dot name from the profile.js x component, but how do we do that?</span> <span class="transcript-sentence" id="sent_67_1" data-start-time="3112.4" data-end-time="3122.2651">So remember, on profile.js x, we have access to the user ID parameter that was passed in through the URL in the React router.</span> <span class="transcript-sentence" id="sent_67_2" data-start-time="3122.8252" data-end-time="3128.0251">So with this user ID, how can we get the name of the user from profile.jsx?</span> <span class="transcript-sentence" id="sent_67_3" data-start-time="3128.92" data-end-time="3135.64">Take a few minutes to turn and talk with a neighbor and think about how we can use the user ID in the profile page to grab the name of the user.</span> <span class="transcript-sentence" id="sent_67_4" data-start-time="3159.32" data-end-time="3159.6401">Okay.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_68" data-paragraph-idx="68" data-start-time="3159.6401" data-end-time="3193.55">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="3159.6401"></div>
                        <div class="timeline-timestamp">52:39</div>
                    </div>
                    <div class="paragraph-text" id="text-para_68"><span class="transcript-sentence" id="sent_68_0" data-start-time="3159.6401" data-end-time="3163.08">Does anyone wanna raise their hand and take a stab at this question?</span> <span class="transcript-sentence" id="sent_68_1" data-start-time="3165.8801" data-end-time="3166.28">Yeah.</span> <span class="transcript-sentence" id="sent_68_2" data-start-time="3191.79" data-end-time="3192.35">Yeah.</span> <span class="transcript-sentence" id="sent_68_3" data-start-time="3192.35" data-end-time="3192.75">Exactly.</span> <span class="transcript-sentence" id="sent_68_4" data-start-time="3192.75" data-end-time="3193.55">Good job.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_69" data-paragraph-idx="69" data-start-time="3193.95" data-end-time="3242.0652">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="3193.95"></div>
                        <div class="timeline-timestamp">53:13</div>
                    </div>
                    <div class="paragraph-text" id="text-para_69"><span class="transcript-sentence" id="sent_69_0" data-start-time="3193.95" data-end-time="3200.83">So what we can do is we can make a get request by passing in the user ID as a parameter to our back end server.</span> <span class="transcript-sentence" id="sent_69_1" data-start-time="3201.07" data-end-time="3213.845">And if you remember from the databases lecture, we're using a library in our back end called Mongoose, and Mongoose has query functions that allow us to search in the user database by ID or by certain queries.</span> <span class="transcript-sentence" id="sent_69_2" data-start-time="3214.34" data-end-time="3232.865">So what we're gonna do now is we'll pass the user ID into a get request to the back end server, and we'll have this user endpoint that will find the user by ID from the database, and it'll pass all of this user information along to the front end after the get request returns.</span> <span class="transcript-sentence" id="sent_69_3" data-start-time="3234.385" data-end-time="3235.105">Okay.</span> <span class="transcript-sentence" id="sent_69_4" data-start-time="3236.945" data-end-time="3242.0652">So what we wanna do is write an API route that gives us information about a user.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_70" data-paragraph-idx="70" data-start-time="3242.785" data-end-time="3296.3452">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="3242.785"></div>
                        <div class="timeline-timestamp">54:02</div>
                    </div>
                    <div class="paragraph-text" id="text-para_70"><span class="transcript-sentence" id="sent_70_0" data-start-time="3242.785" data-end-time="3251.16">We kinda already talked about this but just to reiterate, we're now working on or yeah, turn and talk.</span> <span class="transcript-sentence" id="sent_70_1" data-start-time="3251.16" data-end-time="3257.5598">Which part of the diagram are we gonna work on to give us information about a user and what does this a p riot route have to do?</span> <span class="transcript-sentence" id="sent_70_2" data-start-time="3259.8552" data-end-time="3265.0552">Kinda already gave away the answer, but I think it's just good to think about and talk through again with a partner.</span> <span class="transcript-sentence" id="sent_70_3" data-start-time="3283.57" data-end-time="3284.53">Okay, yeah.</span> <span class="transcript-sentence" id="sent_70_4" data-start-time="3284.53" data-end-time="3296.3452">So just to recap, we're now gonna be working we're gonna first be working on this part of the diagram because we wanna grab information about the user from our MongoDB database.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_71" data-paragraph-idx="71" data-start-time="3296.825" data-end-time="3388.2903">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="3296.825"></div>
                        <div class="timeline-timestamp">54:56</div>
                    </div>
                    <div class="paragraph-text" id="text-para_71"><span class="transcript-sentence" id="sent_71_0" data-start-time="3296.825" data-end-time="3305.21">So what's gonna happen is the API route defined in API.js is gonna use a Mongoose query to find the user by the user ID.</span> <span class="transcript-sentence" id="sent_71_1" data-start-time="3307.21" data-end-time="3311.6099">So let's start by implementing the API route in API.js.</span> <span class="transcript-sentence" id="sent_71_2" data-start-time="3312.145" data-end-time="3320.465">And this is gonna be a get endpoint that's gonna use a mongoose query to find the user document of the user given the user ID.</span> <span class="transcript-sentence" id="sent_71_3" data-start-time="3320.865" data-end-time="3328.0498">And as a hint, you can use the user dot find by ID function and pass in the user ID there.</span> <span class="transcript-sentence" id="sent_71_4" data-start-time="3381.01" data-end-time="3388.2903">As a hint, where it says insert ID here, we wanna be passing in the user ID as a parameter.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_72" data-paragraph-idx="72" data-start-time="3388.4502" data-end-time="3503.3801">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="3388.4502"></div>
                        <div class="timeline-timestamp">56:28</div>
                    </div>
                    <div class="paragraph-text" id="text-para_72"><span class="transcript-sentence" id="sent_72_0" data-start-time="3388.4502" data-end-time="3394.1301">And how we can get that parameter is by getting by entering rec dot query dot user ID.</span> <span class="transcript-sentence" id="sent_72_1" data-start-time="3410.46" data-end-time="3421.4202">Another hint is that a mongoose query is a promise, so after, you should use a dot den and send the user back to the front end by using res dot send.</span> <span class="transcript-sentence" id="sent_72_2" data-start-time="3421.66" data-end-time="3427.935">So those are two hints I have for you and now take another minute or two to finish writing your code.</span> <span class="transcript-sentence" id="sent_72_3" data-start-time="3449.1501" data-end-time="3451.23">Raise your hand if you need another minute.</span> <span class="transcript-sentence" id="sent_72_4" data-start-time="3502.58" data-end-time="3503.3801">Okay.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_73" data-paragraph-idx="73" data-start-time="3503.7002" data-end-time="3540.0852">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="3503.7002"></div>
                        <div class="timeline-timestamp">58:23</div>
                    </div>
                    <div class="paragraph-text" id="text-para_73"><span class="transcript-sentence" id="sent_73_0" data-start-time="3503.7002" data-end-time="3511.6052">Let's go through how we can implement this API route to grab information about the user by passing in the user ID through a parameter.</span> <span class="transcript-sentence" id="sent_73_1" data-start-time="3512.5652" data-end-time="3516.0051">So this is a get endpoint that we're calling in our front end.</span> <span class="transcript-sentence" id="sent_73_2" data-start-time="3516.085" data-end-time="3521.685">So we'll wanna start by using router dot get, and we want this endpoint to live in slash user.</span> <span class="transcript-sentence" id="sent_73_3" data-start-time="3522.0698" data-end-time="3526.39">So in the first argument, pass in a string called slash user.</span> <span class="transcript-sentence" id="sent_73_4" data-start-time="3527.8298" data-end-time="3540.0852">You wanna take the rack and res objects and now in the body of the function or you function or You should use the find by ID mongoose function.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_74" data-paragraph-idx="74" data-start-time="3540.565" data-end-time="3577.945">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="3540.565"></div>
                        <div class="timeline-timestamp">59:00</div>
                    </div>
                    <div class="paragraph-text" id="text-para_74"><span class="transcript-sentence" id="sent_74_0" data-start-time="3540.565" data-end-time="3545.925">So we'll take a user object which connects to the user collection in the database.</span> <span class="transcript-sentence" id="sent_74_1" data-start-time="3546.405" data-end-time="3554.09">So user dot find by ID and in the argument of this function, we wanna pass in the user ID.</span> <span class="transcript-sentence" id="sent_74_2" data-start-time="3554.3298" data-end-time="3562.01">And remember that this is a get request, so we can get it from the front end by entering rec dot query dot user ID.</span> <span class="transcript-sentence" id="sent_74_3" data-start-time="3563.305" data-end-time="3571.865">So now, this function will go through your Mongo database, look through the users collection, and find the user that has this user ID.</span> <span class="transcript-sentence" id="sent_74_4" data-start-time="3572.345" data-end-time="3577.945">Remember that Mongoose queries are promises, so we're gonna wanna make this a dot then.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_75" data-paragraph-idx="75" data-start-time="3579.05" data-end-time="3606.9749">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="3579.05"></div>
                        <div class="timeline-timestamp">59:39</div>
                    </div>
                    <div class="paragraph-text" id="text-para_75"><span class="transcript-sentence" id="sent_75_0" data-start-time="3579.05" data-end-time="3582.73">And we're also gonna wanna send this user back to the front end.</span> <span class="transcript-sentence" id="sent_75_1" data-start-time="3582.81" data-end-time="3592.33">So we'll take the user as the parameter, and we'll send this in the response back to the front end by doing res dot send.</span> <span class="transcript-sentence" id="sent_75_2" data-start-time="3593.775" data-end-time="3596.335">And in the send, we'll wanna pass in the user.</span> <span class="transcript-sentence" id="sent_75_3" data-start-time="3597.135" data-end-time="3603.135">So this is a user object with all of the user fields that we define in our user schema in an earlier step.</span> <span class="transcript-sentence" id="sent_75_4" data-start-time="3603.535" data-end-time="3606.9749">And now we have a get endpoint to slash user.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_76" data-paragraph-idx="76" data-start-time="3607.5398" data-end-time="3661.4849">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="3607.5398"></div>
                        <div class="timeline-timestamp">01:00:07</div>
                    </div>
                    <div class="paragraph-text" id="text-para_76"><span class="transcript-sentence" id="sent_76_0" data-start-time="3607.5398" data-end-time="3618.8198">Here's the solution by the way, to slash user and it'll go through the database, find the user that has this ID and send the entire user object back to your front end.</span> <span class="transcript-sentence" id="sent_76_1" data-start-time="3621.595" data-end-time="3623.675">So take a minute to copy that down.</span> <span class="transcript-sentence" id="sent_76_2" data-start-time="3626.635" data-end-time="3644.27">And now that we have this user endpoint, as our friend mentioned earlier here, we're gonna wanna call this get endpoint from nav sorry, from the profile page so that we can pass the username into that and render it on the front interface.</span> <span class="transcript-sentence" id="sent_76_3" data-start-time="3657.085" data-end-time="3657.565">Okay.</span> <span class="transcript-sentence" id="sent_76_4" data-start-time="3657.565" data-end-time="3661.4849">So hopefully, you guys have this get endpoint copied down now.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_77" data-paragraph-idx="77" data-start-time="3662.5898" data-end-time="3702.0698">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="3662.5898"></div>
                        <div class="timeline-timestamp">01:01:02</div>
                    </div>
                    <div class="paragraph-text" id="text-para_77"><span class="transcript-sentence" id="sent_77_0" data-start-time="3662.5898" data-end-time="3665.15">If you don't, you can refer back to the slides.</span> <span class="transcript-sentence" id="sent_77_1" data-start-time="3665.79" data-end-time="3671.15">And now that we have this endpoint, our next step is to update profile.jsx.</span> <span class="transcript-sentence" id="sent_77_2" data-start-time="3672.67" data-end-time="3680.495">What we wanna do is we wanna update the name to show user dot name instead of Shannon Wu.</span> <span class="transcript-sentence" id="sent_77_3" data-start-time="3681.5352" data-end-time="3693.67">So remember that as we covered in Daniel's lecture earlier, the React router will pass in the user ID parameter of the URL into use params dot user ID.</span> <span class="transcript-sentence" id="sent_77_4" data-start-time="3693.8298" data-end-time="3702.0698">So you can use that when you're making an API call to API slash user by passing that as your argument to the endpoint.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_78" data-paragraph-idx="78" data-start-time="3702.655" data-end-time="3879.555">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="3702.655"></div>
                        <div class="timeline-timestamp">01:01:42</div>
                    </div>
                    <div class="paragraph-text" id="text-para_78"><span class="transcript-sentence" id="sent_78_0" data-start-time="3702.655" data-end-time="3716.735">So what we wanna do now is we wanna make an API call and profile dot j s x to slash API slash user, and you wanna pass the user ID to the back end, and you can get the user ID by using use params dot user ID.</span> <span class="transcript-sentence" id="sent_78_1" data-start-time="3723.84" data-end-time="3733.885">Don't worry about the loading step for now, we can go over that together after you implement the first check mark step, which is to make an API call and pass that back to the front end.</span> <span class="transcript-sentence" id="sent_78_2" data-start-time="3787.865" data-end-time="3798.665">As a hint, you wanna make this API call in a use effect, and you want this use effect to be called upon the render of profile.jsx.</span> <span class="transcript-sentence" id="sent_78_3" data-start-time="3840.1401" data-end-time="3845.225">Raise your hand if you need a bit more time to complete the first step of this slide.</span> <span class="transcript-sentence" id="sent_78_4" data-start-time="3878.9949" data-end-time="3879.555">Okay.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_79" data-paragraph-idx="79" data-start-time="3879.555" data-end-time="3906.5051">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="3879.555"></div>
                        <div class="timeline-timestamp">01:04:39</div>
                    </div>
                    <div class="paragraph-text" id="text-para_79"><span class="transcript-sentence" id="sent_79_0" data-start-time="3879.555" data-end-time="3886.515">So let's go through how we can call the, user get endpoint in the back end from profile.jsx.</span> <span class="transcript-sentence" id="sent_79_1" data-start-time="3887.54" data-end-time="3891.46">So if we call this endpoint, we're gonna need to save this information somewhere.</span> <span class="transcript-sentence" id="sent_79_2" data-start-time="3891.46" data-end-time="3894.6602">So what we can do is start by defining a user state.</span> <span class="transcript-sentence" id="sent_79_3" data-start-time="3895.06" data-end-time="3900.18">So let's do const user set user, and let's use the u state hook.</span> <span class="transcript-sentence" id="sent_79_4" data-start-time="3900.665" data-end-time="3906.5051">And initially, we won't know what the user is, so we'll just initialize the user state to null.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_80" data-paragraph-idx="80" data-start-time="3907.945" data-end-time="3946.03">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="3907.945"></div>
                        <div class="timeline-timestamp">01:05:07</div>
                    </div>
                    <div class="paragraph-text" id="text-para_80"><span class="transcript-sentence" id="sent_80_0" data-start-time="3907.945" data-end-time="3913.945">Now that we have this user state, we can make a get request, and this should happen in a use effect hook.</span> <span class="transcript-sentence" id="sent_80_1" data-start-time="3914.51" data-end-time="3924.19">And the use effect hook should have a dependency of an empty array, because we want this use effect to be called at the initial rendering of profile dot j s x.</span> <span class="transcript-sentence" id="sent_80_2" data-start-time="3924.5898" data-end-time="3928.3499">So let's start by making a use effect.</span> <span class="transcript-sentence" id="sent_80_3" data-start-time="3934.615" data-end-time="3942.455">And what we want to happen in this use effect is we want to make a get request to slash API slash user.</span> <span class="transcript-sentence" id="sent_80_4" data-start-time="3943.23" data-end-time="3946.03">And we wanna pass in a user ID.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_81" data-paragraph-idx="81" data-start-time="3948.75" data-end-time="3969.915">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="3948.75"></div>
                        <div class="timeline-timestamp">01:05:48</div>
                    </div>
                    <div class="paragraph-text" id="text-para_81"><span class="transcript-sentence" id="sent_81_0" data-start-time="3948.75" data-end-time="3954.91">So let's define the user ID really quickly above the use effect, and remember that we're gonna use use params.</span> <span class="transcript-sentence" id="sent_81_1" data-start-time="3954.91" data-end-time="3955.55">User ID.</span> <span class="transcript-sentence" id="sent_81_2" data-start-time="3956.155" data-end-time="3963.3552">So let's do let user ID equal use params.</span> <span class="transcript-sentence" id="sent_81_3" data-start-time="3963.3552" data-end-time="3964.875">User ID.</span> <span class="transcript-sentence" id="sent_81_4" data-start-time="3964.875" data-end-time="3969.915">But this ID is capitalized because that's just how we defined it as a parameter in the URL.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_82" data-paragraph-idx="82" data-start-time="3970.69" data-end-time="3996.625">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="3970.69"></div>
                        <div class="timeline-timestamp">01:06:10</div>
                    </div>
                    <div class="paragraph-text" id="text-para_82"><span class="transcript-sentence" id="sent_82_0" data-start-time="3970.69" data-end-time="3974.37">So be aware of how the capitalization is here.</span> <span class="transcript-sentence" id="sent_82_1" data-start-time="3975.97" data-end-time="3977.81">It's just a notation we're using.</span> <span class="transcript-sentence" id="sent_82_2" data-start-time="3979.97" data-end-time="3983.81">So we just defined a user ID variable on line 18.</span> <span class="transcript-sentence" id="sent_82_3" data-start-time="3984.225" data-end-time="3988.1453">And now on line 20, let's pass that in when we're making a get request.</span> <span class="transcript-sentence" id="sent_82_4" data-start-time="3990.7852" data-end-time="3996.625">So we're making a get request, and this is a promise.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_83" data-paragraph-idx="83" data-start-time="3996.625" data-end-time="4027.54">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="3996.625"></div>
                        <div class="timeline-timestamp">01:06:36</div>
                    </div>
                    <div class="paragraph-text" id="text-para_83"><span class="transcript-sentence" id="sent_83_0" data-start-time="3996.625" data-end-time="4002.24">So we want to send and remember that our get request returns the user object.</span> <span class="transcript-sentence" id="sent_83_1" data-start-time="4002.3198" data-end-time="4007.3599">So once we have that user object, let's set our user state and profile to user.</span> <span class="transcript-sentence" id="sent_83_2" data-start-time="4010.535" data-end-time="4016.455">So what just happened here was we define a user state that can be stored on the profile page.</span> <span class="transcript-sentence" id="sent_83_3" data-start-time="4016.9348" data-end-time="4022.615">We're making a get request and this use effect that's called at the rendering of profile of the profile page.</span> <span class="transcript-sentence" id="sent_83_4" data-start-time="4023.06" data-end-time="4027.54">We're passing the user ID from the URL parameter to the back end.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_84" data-paragraph-idx="84" data-start-time="4027.54" data-end-time="4067.35">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="4027.54"></div>
                        <div class="timeline-timestamp">01:07:07</div>
                    </div>
                    <div class="paragraph-text" id="text-para_84"><span class="transcript-sentence" id="sent_84_0" data-start-time="4027.54" data-end-time="4036.58">The back end is taking this user ID and querying the database for the user corresponding to this ID, and it's being sent back so that we can set our variable now to user.</span> <span class="transcript-sentence" id="sent_84_1" data-start-time="4037.945" data-end-time="4051.705">So one thing we wanna do now is we wanna show a loading component or page if the user hasn't load yet, or else this error might occur that like you the name doesn't yet exist, so you'll get a type error that you can't read this name property.</span> <span class="transcript-sentence" id="sent_84_2" data-start-time="4052.47" data-end-time="4055.83">So we can use a conditional operator again.</span> <span class="transcript-sentence" id="sent_84_3" data-start-time="4055.99" data-end-time="4062.31">So my next step for you is to check if you should check if the user object is null.</span> <span class="transcript-sentence" id="sent_84_4" data-start-time="4062.6301" data-end-time="4067.35">If the user object is null, you should just show like a text element that says loading.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_85" data-paragraph-idx="85" data-start-time="4068.0352" data-end-time="4166.335">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="4068.0352"></div>
                        <div class="timeline-timestamp">01:07:48</div>
                    </div>
                    <div class="paragraph-text" id="text-para_85"><span class="transcript-sentence" id="sent_85_0" data-start-time="4068.0352" data-end-time="4071.3152">Otherwise, you should render everything else on this page.</span> <span class="transcript-sentence" id="sent_85_1" data-start-time="4071.475" data-end-time="4072.915">So give that a try.</span> <span class="transcript-sentence" id="sent_85_2" data-start-time="4078.115" data-end-time="4080.74">In case you missed it, this is what I just wrote.</span> <span class="transcript-sentence" id="sent_85_3" data-start-time="4155.535" data-end-time="4158.255">Let's go through the conditional rendering now.</span> <span class="transcript-sentence" id="sent_85_4" data-start-time="4159.855" data-end-time="4166.335">Similar to the earlier step, we can wrap everything in brackets.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_86" data-paragraph-idx="86" data-start-time="4169.2803" data-end-time="4198.76">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="4169.2803"></div>
                        <div class="timeline-timestamp">01:09:29</div>
                    </div>
                    <div class="paragraph-text" id="text-para_86"><span class="transcript-sentence" id="sent_86_0" data-start-time="4169.2803" data-end-time="4173.52">We'll check if user is no or not.</span> <span class="transcript-sentence" id="sent_86_1" data-start-time="4173.7603" data-end-time="4180.24">So if it's if not user, we're gonna want to have a loading component.</span> <span class="transcript-sentence" id="sent_86_2" data-start-time="4180.805" data-end-time="4186.085">So let's just put it between dev dev brackets and say like, oh, loading.</span> <span class="transcript-sentence" id="sent_86_3" data-start-time="4187.045" data-end-time="4189.525">Otherwise, we wanna render everything else.</span> <span class="transcript-sentence" id="sent_86_4" data-start-time="4189.9253" data-end-time="4198.76">So we can copy paste everything else and wrap it in these parentheses.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_87" data-paragraph-idx="87" data-start-time="4224.5303" data-end-time="4325.0947">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="4224.5303"></div>
                        <div class="timeline-timestamp">01:10:24</div>
                    </div>
                    <div class="paragraph-text" id="text-para_87"><span class="transcript-sentence" id="sent_87_0" data-start-time="4224.5303" data-end-time="4225.6504">Notation wrong.</span> <span class="transcript-sentence" id="sent_87_1" data-start-time="4304.11" data-end-time="4304.75">Okay.</span> <span class="transcript-sentence" id="sent_87_2" data-start-time="4306.03" data-end-time="4308.4297">I think I just have a typo somewhere.</span> <span class="transcript-sentence" id="sent_87_3" data-start-time="4312.35" data-end-time="4312.91">Hold on.</span> <span class="transcript-sentence" id="sent_87_4" data-start-time="4324.695" data-end-time="4325.0947">Okay.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_88" data-paragraph-idx="88" data-start-time="4329.48" data-end-time="4369.55">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="4329.48"></div>
                        <div class="timeline-timestamp">01:12:09</div>
                    </div>
                    <div class="paragraph-text" id="text-para_88"><span class="transcript-sentence" id="sent_88_0" data-start-time="4329.48" data-end-time="4337.8">I just pasted everything into the second argument of the conditional rendering and I wrapped everything in a parent element.</span> <span class="transcript-sentence" id="sent_88_1" data-start-time="4339.8" data-end-time="4343.48">So you can do that by using these empty angular brackets.</span> <span class="transcript-sentence" id="sent_88_2" data-start-time="4347.715" data-end-time="4356.915">Once you have that, it should conditionally render loading if user is undefined and if you're getting any problems with this, just don't worry about it and you can get checkout on the next step.</span> <span class="transcript-sentence" id="sent_88_3" data-start-time="4358.03" data-end-time="4362.03">And one thing we didn't do is, right now it still says Shannon Wu.</span> <span class="transcript-sentence" id="sent_88_4" data-start-time="4362.11" data-end-time="4369.55">So we're gonna wanna pass our new user element and we wanna grab the name parameter of the user object.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_89" data-paragraph-idx="89" data-start-time="4370.805" data-end-time="4414.6597">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="4370.805"></div>
                        <div class="timeline-timestamp">01:12:50</div>
                    </div>
                    <div class="paragraph-text" id="text-para_89"><span class="transcript-sentence" id="sent_89_0" data-start-time="4370.805" data-end-time="4375.045">Remember that user was defined earlier as a react state above here.</span> <span class="transcript-sentence" id="sent_89_1" data-start-time="4375.685" data-end-time="4378.485">So what we should have now is in local host.</span> <span class="transcript-sentence" id="sent_89_2" data-start-time="4379.5254" data-end-time="4384.085">If you click on a profile, oh, awkward.</span> <span class="transcript-sentence" id="sent_89_3" data-start-time="4398.3" data-end-time="4398.6196">Oh.</span> <span class="transcript-sentence" id="sent_89_4" data-start-time="4413.6196" data-end-time="4414.6597">What did you say?</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_90" data-paragraph-idx="90" data-start-time="4415.1396" data-end-time="4427.9946">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="4415.1396"></div>
                        <div class="timeline-timestamp">01:13:35</div>
                    </div>
                    <div class="paragraph-text" id="text-para_90"><span class="transcript-sentence" id="sent_90_0" data-start-time="4415.1396" data-end-time="4415.78">Okay.</span> <span class="transcript-sentence" id="sent_90_1" data-start-time="4420.1797" data-end-time="4421.6196">Use params is not defined.</span> <span class="transcript-sentence" id="sent_90_2" data-start-time="4421.6196" data-end-time="4422.34">Oh, oops.</span> <span class="transcript-sentence" id="sent_90_3" data-start-time="4422.34" data-end-time="4423.86">We have to import it.</span> <span class="transcript-sentence" id="sent_90_4" data-start-time="4424.58" data-end-time="4427.9946">So we wanna import use params from react here.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_91" data-paragraph-idx="91" data-start-time="4428.315" data-end-time="4446.1">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="4428.315"></div>
                        <div class="timeline-timestamp">01:13:48</div>
                    </div>
                    <div class="paragraph-text" id="text-para_91"><span class="transcript-sentence" id="sent_91_0" data-start-time="4428.315" data-end-time="4430.4746">That should work now, maybe.</span> <span class="transcript-sentence" id="sent_91_1" data-start-time="4432.315" data-end-time="4433.1147">Typo?</span> <span class="transcript-sentence" id="sent_91_2" data-start-time="4433.435" data-end-time="4441.675">Wait, I don't remember where use params is imported from.</span> <span class="transcript-sentence" id="sent_91_3" data-start-time="4443.3003" data-end-time="4444.1797">Oh, okay.</span> <span class="transcript-sentence" id="sent_91_4" data-start-time="4444.9" data-end-time="4446.1">Sorry you guys.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_92" data-paragraph-idx="92" data-start-time="4446.1" data-end-time="4480.36">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="4446.1"></div>
                        <div class="timeline-timestamp">01:14:06</div>
                    </div>
                    <div class="paragraph-text" id="text-para_92"><span class="transcript-sentence" id="sent_92_0" data-start-time="4446.1" data-end-time="4453.22">You wanna import re use params from react router dom.</span> <span class="transcript-sentence" id="sent_92_1" data-start-time="4461.915" data-end-time="4471.6396">And we also wanna import get from Utilities.</span> <span class="transcript-sentence" id="sent_92_2" data-start-time="4474.44" data-end-time="4474.76">Alright.</span> <span class="transcript-sentence" id="sent_92_3" data-start-time="4474.76" data-end-time="4476.6797">So don't worry about importing all of this.</span> <span class="transcript-sentence" id="sent_92_4" data-start-time="4476.6797" data-end-time="4480.36">You guys can just watch and check out to the next step after this.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_93" data-paragraph-idx="93" data-start-time="4481.1597" data-end-time="4525.895">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="4481.1597"></div>
                        <div class="timeline-timestamp">01:14:41</div>
                    </div>
                    <div class="paragraph-text" id="text-para_93"><span class="transcript-sentence" id="sent_93_0" data-start-time="4481.1597" data-end-time="4495.1445">If you import the get so that we can make the request and import the use params, you should be able to see your name if you click on a story and the user of that story.</span> <span class="transcript-sentence" id="sent_93_1" data-start-time="4495.385" data-end-time="4497.465">So let's just get check out to the next step.</span> <span class="transcript-sentence" id="sent_93_2" data-start-time="4500.54" data-end-time="4506.78">If you made any changes, wanna reset dash dash hard first and then check out to step six.</span> <span class="transcript-sentence" id="sent_93_3" data-start-time="4508.54" data-end-time="4520.2944">So now on step six, you should check by going to your feed and clicking on one of the usernames and see that it takes you to a profile page with that user's name.</span> <span class="transcript-sentence" id="sent_93_4" data-start-time="4521.9746" data-end-time="4525.895">So just a recap of all the changes that were made in step five.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_94" data-paragraph-idx="94" data-start-time="4528.4897" data-end-time="4565.82">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="4528.4897"></div>
                        <div class="timeline-timestamp">01:15:28</div>
                    </div>
                    <div class="paragraph-text" id="text-para_94"><span class="transcript-sentence" id="sent_94_0" data-start-time="4528.4897" data-end-time="4536.17">We now have a u r a dynamic URL at slash profile slash user ID that takes in this user ID parameter.</span> <span class="transcript-sentence" id="sent_94_1" data-start-time="4536.57" data-end-time="4542.89">And now we make a get request to our back end so that we can get the user object corresponding to this user ID.</span> <span class="transcript-sentence" id="sent_94_2" data-start-time="4543.765" data-end-time="4554.085">And if we get that user object onto the profile page, we can grab the name parameter of this user object and pass it in and render that instead of Shannon Wu.</span> <span class="transcript-sentence" id="sent_94_3" data-start-time="4559.18" data-end-time="4559.9">Okay.</span> <span class="transcript-sentence" id="sent_94_4" data-start-time="4562.94" data-end-time="4565.82">So now let's move on with step six.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_95" data-paragraph-idx="95" data-start-time="4566.94" data-end-time="4597.92">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="4566.94"></div>
                        <div class="timeline-timestamp">01:16:06</div>
                    </div>
                    <div class="paragraph-text" id="text-para_95"><span class="transcript-sentence" id="sent_95_0" data-start-time="4566.94" data-end-time="4573.1">So you might notice that if you click the profile page of your nav bar, you'll see that the profile link is broken.</span> <span class="transcript-sentence" id="sent_95_1" data-start-time="4573.785" data-end-time="4584.8247">And this is because earlier, in index dot j s x, we changed our profile route so that we have a dynamic route that renders at slash profile slash user ID.</span> <span class="transcript-sentence" id="sent_95_2" data-start-time="4585.385" data-end-time="4588.425">And we no longer have a route in our router that goes to slash profile.</span> <span class="transcript-sentence" id="sent_95_3" data-start-time="4590.0" data-end-time="4596.32">So what we want to do is we want this profile page to take us to the profile corresponding to the logged in user.</span> <span class="transcript-sentence" id="sent_95_4" data-start-time="4597.44" data-end-time="4597.92">Oh.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_96" data-paragraph-idx="96" data-start-time="4597.92" data-end-time="4625.19">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="4597.92"></div>
                        <div class="timeline-timestamp">01:16:37</div>
                    </div>
                    <div class="paragraph-text" id="text-para_96"><span class="transcript-sentence" id="sent_96_0" data-start-time="4597.92" data-end-time="4598.32">Oh yeah.</span> <span class="transcript-sentence" id="sent_96_1" data-start-time="4598.32" data-end-time="4605.2">Just as I explained, we now have a dynamic route at slash profile slash user ID, so slash profile should be not found out.</span> <span class="transcript-sentence" id="sent_96_2" data-start-time="4606.925" data-end-time="4612.6045">So we wanna go to slash profile slash user ID if we click on the profile once we're logged in.</span> <span class="transcript-sentence" id="sent_96_3" data-start-time="4613.085" data-end-time="4614.605">But what is your user ID?</span> <span class="transcript-sentence" id="sent_96_4" data-start-time="4621.0303" data-end-time="4625.19">So now we also wanna maintain a user ID react state in our nav bar.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_97" data-paragraph-idx="97" data-start-time="4629.35" data-end-time="4680.97">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="4629.35"></div>
                        <div class="timeline-timestamp">01:17:09</div>
                    </div>
                    <div class="paragraph-text" id="text-para_97"><span class="transcript-sentence" id="sent_97_0" data-start-time="4629.35" data-end-time="4637.3447">So the next step is in nav bar dot j s x, we'll wanna set a user ID state once we call a post request to log in.</span> <span class="transcript-sentence" id="sent_97_1" data-start-time="4639.105" data-end-time="4648.465">And we wanna remove this user ID from the state once we call post slash log out, and this will be replacing our earlier React state of logged in.</span> <span class="transcript-sentence" id="sent_97_2" data-start-time="4661.3203" data-end-time="4663.24">So let's go through how we can do that together.</span> <span class="transcript-sentence" id="sent_97_3" data-start-time="4664.355" data-end-time="4673.315">Let's go to navbar.jsx, and we wanna replace this logged in state now with a user ID state.</span> <span class="transcript-sentence" id="sent_97_4" data-start-time="4674.435" data-end-time="4680.97">We can also use the user ID state to keep track of whether we're logged in or not, because the user ID state should be null if we're logged out.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_98" data-paragraph-idx="98" data-start-time="4681.29" data-end-time="4740.77">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="4681.29"></div>
                        <div class="timeline-timestamp">01:18:01</div>
                    </div>
                    <div class="paragraph-text" id="text-para_98"><span class="transcript-sentence" id="sent_98_0" data-start-time="4681.29" data-end-time="4695.855">So let's replace this with user ID, set user ID, and we wanna initialize the user ID to null because initially, we won't know if we're logged in or not and we should be logged out, there should be no user corresponding to the user ID.</span> <span class="transcript-sentence" id="sent_98_1" data-start-time="4703.7" data-end-time="4710.42">So once we have that react state and handle login, we should now update the user ID state.</span> <span class="transcript-sentence" id="sent_98_2" data-start-time="4710.58" data-end-time="4714.66">So let's get rid of the line that says logged in a true because we no longer have that state.</span> <span class="transcript-sentence" id="sent_98_3" data-start-time="4717.615" data-end-time="4720.335">And now let's update the user ID state.</span> <span class="transcript-sentence" id="sent_98_4" data-start-time="4721.855" data-end-time="4740.77">So let's set user set user set user ID to user dot slash ID, and remember that user is an object that the login endpoint is sending back to us that contains information about the user, and we can grab the ID parameter from that.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_99" data-paragraph-idx="99" data-start-time="4745.305" data-end-time="4789.87">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="4745.305"></div>
                        <div class="timeline-timestamp">01:19:05</div>
                    </div>
                    <div class="paragraph-text" id="text-para_99"><span class="transcript-sentence" id="sent_99_0" data-start-time="4745.305" data-end-time="4758.7295">So similarly, in handle logout, let's get rid of the set logged in, because as you remember, we just got rid of that state and we now have a user ID state replacing that.</span> <span class="transcript-sentence" id="sent_99_1" data-start-time="4759.13" data-end-time="4761.9297">And now we'll wanna set user ID to null.</span> <span class="transcript-sentence" id="sent_99_2" data-start-time="4765.7354" data-end-time="4774.855">So what we just did was we updated the logic and handle login and handle logout so that we're setting user ID accordingly based on whether we're logged in or not.</span> <span class="transcript-sentence" id="sent_99_3" data-start-time="4777.015" data-end-time="4785.3096">And now that we have the user ID, we want to link to slash profile slash user ID instead of slash profile.</span> <span class="transcript-sentence" id="sent_99_4" data-start-time="4785.71" data-end-time="4789.87">So let's go to line this line where our profile link is defined.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_100" data-paragraph-idx="100" data-start-time="4791.645" data-end-time="4856.865">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="4791.645"></div>
                        <div class="timeline-timestamp">01:19:51</div>
                    </div>
                    <div class="paragraph-text" id="text-para_100"><span class="transcript-sentence" id="sent_100_0" data-start-time="4791.645" data-end-time="4800.445">Right now, links to slash profile, but instead of slash profile, let's have it linked to slash profile slash user ID.</span> <span class="transcript-sentence" id="sent_100_1" data-start-time="4803.005" data-end-time="4806.765">So I'll paste the solution up on the slides and you can copy that.</span> <span class="transcript-sentence" id="sent_100_2" data-start-time="4814.23" data-end-time="4817.3496">Oh, wait, I explained to the step after that.</span> <span class="transcript-sentence" id="sent_100_3" data-start-time="4818.31" data-end-time="4850.04">So So once you have the logic for setting the user ID, we wanna move on to the next step which is linking it to slash profile slash user ID which I accidentally just showed.</span> <span class="transcript-sentence" id="sent_100_4" data-start-time="4850.705" data-end-time="4856.865">But in case you missed it, I'll give you a few minutes to give it a try on your own and we can go over it again.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_101" data-paragraph-idx="101" data-start-time="4878.01" data-end-time="4899.5">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="4878.01"></div>
                        <div class="timeline-timestamp">01:21:18</div>
                    </div>
                    <div class="paragraph-text" id="text-para_101"><span class="transcript-sentence" id="sent_101_0" data-start-time="4878.01" data-end-time="4878.4097">Yeah?</span> <span class="transcript-sentence" id="sent_101_1" data-start-time="4879.9653" data-end-time="4880.685">Okay.</span> <span class="transcript-sentence" id="sent_101_2" data-start-time="4880.845" data-end-time="4890.285">So to do this, we just modified this slash profile link to slash profile slash user ID.</span> <span class="transcript-sentence" id="sent_101_3" data-start-time="4891.565" data-end-time="4893.645">And the solutions are up on the slides.</span> <span class="transcript-sentence" id="sent_101_4" data-start-time="4894.46" data-end-time="4899.5">So now our profiling should take us so if you go back to our home page.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_102" data-paragraph-idx="102" data-start-time="4925.55" data-end-time="4971.915">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="4925.55"></div>
                        <div class="timeline-timestamp">01:22:05</div>
                    </div>
                    <div class="paragraph-text" id="text-para_102"><span class="transcript-sentence" id="sent_102_0" data-start-time="4925.55" data-end-time="4938.015">So instead of when we're conditionally rendering sign out, instead of checking whether logged in is null, we should be checking whether user ID is null.</span> <span class="transcript-sentence" id="sent_102_1" data-start-time="4940.495" data-end-time="4940.975">Okay.</span> <span class="transcript-sentence" id="sent_102_2" data-start-time="4940.975" data-end-time="4953.8696">So now, what should happen is if you're logged in, and if you click the profile page, it should take you to your own profile.</span> <span class="transcript-sentence" id="sent_102_3" data-start-time="4955.31" data-end-time="4956.4297">So give that a try.</span> <span class="transcript-sentence" id="sent_102_4" data-start-time="4970.2354" data-end-time="4971.915">And we'll move on to step seven.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_103" data-paragraph-idx="103" data-start-time="4975.84" data-end-time="5015.88">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="4975.84"></div>
                        <div class="timeline-timestamp">01:22:55</div>
                    </div>
                    <div class="paragraph-text" id="text-para_103"><span class="transcript-sentence" id="sent_103_0" data-start-time="4975.84" data-end-time="4985.84">Let's do git reset dash dash hard and go to git checkout w five step seven.</span> <span class="transcript-sentence" id="sent_103_1" data-start-time="4985.84" data-end-time="4994.975">And once you're on step seven, you should be able to do what we just shown and if you're logged in and click the profile page on that bar, it should take you to your own profile page.</span> <span class="transcript-sentence" id="sent_103_2" data-start-time="4994.975" data-end-time="4997.375">So make sure that works while you're on step seven.</span> <span class="transcript-sentence" id="sent_103_3" data-start-time="4997.935" data-end-time="5010.84">And note that if I'm logged in, if I refresh the page, it takes me back to a signed out state.</span> <span class="transcript-sentence" id="sent_103_4" data-start-time="5011.4" data-end-time="5015.88">So that means once you refresh, user ID is reset because it's stored in a state.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_104" data-paragraph-idx="104" data-start-time="5016.5854" data-end-time="5077.025">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="5016.5854"></div>
                        <div class="timeline-timestamp">01:23:36</div>
                    </div>
                    <div class="paragraph-text" id="text-para_104"><span class="transcript-sentence" id="sent_104_0" data-start-time="5016.5854" data-end-time="5021.785">But remember in the back end, we already stored the user information into a session.</span> <span class="transcript-sentence" id="sent_104_1" data-start-time="5021.9453" data-end-time="5032.75">This means that the back end remembers if you're logged in or not, because it keeps rec dot user filled with the user's information in your session, but the front end forgot because user ID is now stored as a state.</span> <span class="transcript-sentence" id="sent_104_2" data-start-time="5034.59" data-end-time="5042.43">So every time that navbar.jsx renders, we need to ask the server, are we still logged in and if so, what's my user ID?</span> <span class="transcript-sentence" id="sent_104_3" data-start-time="5042.9653" data-end-time="5049.205">So take twenty seconds to think about how we can check if we're still logged in or not.</span> <span class="transcript-sentence" id="sent_104_4" data-start-time="5076.465" data-end-time="5077.025">Yeah.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_105" data-paragraph-idx="105" data-start-time="5077.025" data-end-time="5098.87">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="5077.025"></div>
                        <div class="timeline-timestamp">01:24:37</div>
                    </div>
                    <div class="paragraph-text" id="text-para_105"><span class="transcript-sentence" id="sent_105_0" data-start-time="5077.025" data-end-time="5077.505">Okay.</span> <span class="transcript-sentence" id="sent_105_1" data-start-time="5077.505" data-end-time="5086.1445">So remember that our user information is persisted in the back end in your session, so we wanna make another get request to the back end.</span> <span class="transcript-sentence" id="sent_105_2" data-start-time="5086.1445" data-end-time="5086.15">And we wanna request to the back end.</span> <span class="transcript-sentence" id="sent_105_3" data-start-time="5086.15" data-end-time="5094.9497">And we wanna check if rec dot user is still filled in, because that means that the user information is still in our session and we should be good to stay logged in.</span> <span class="transcript-sentence" id="sent_105_4" data-start-time="5095.19" data-end-time="5098.87">So we're gonna implement a new get endpoint called whoami.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_106" data-paragraph-idx="106" data-start-time="5100.015" data-end-time="5135.835">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="5100.015"></div>
                        <div class="timeline-timestamp">01:25:00</div>
                    </div>
                    <div class="paragraph-text" id="text-para_106"><span class="transcript-sentence" id="sent_106_0" data-start-time="5100.015" data-end-time="5103.855">And you're gonna implement this new route in api.js.</span> <span class="transcript-sentence" id="sent_106_1" data-start-time="5104.7354" data-end-time="5114.415">It looks like no parameters, and all it'll do is return if it'll return rec dot user if it exists, and if it doesn't, it'll return empty brackets.</span> <span class="transcript-sentence" id="sent_106_2" data-start-time="5116.92" data-end-time="5121.5596">So we can start with the first step and implement this route in api dot j s.</span> <span class="transcript-sentence" id="sent_106_3" data-start-time="5126.2" data-end-time="5128.76">And let's go ahead and write that together.</span> <span class="transcript-sentence" id="sent_106_4" data-start-time="5129.275" data-end-time="5135.835">So open up api dot j s, and let's set up the get route to who am I.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_107" data-paragraph-idx="107" data-start-time="5136.235" data-end-time="5165.675">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="5136.235"></div>
                        <div class="timeline-timestamp">01:25:36</div>
                    </div>
                    <div class="paragraph-text" id="text-para_107"><span class="transcript-sentence" id="sent_107_0" data-start-time="5136.235" data-end-time="5141.515">So we'll do router dot get, and we want this endpoint to live in slash who am I.</span> <span class="transcript-sentence" id="sent_107_1" data-start-time="5142.86" data-end-time="5145.26">We'll take the rec and res objects.</span> <span class="transcript-sentence" id="sent_107_2" data-start-time="5147.1" data-end-time="5153.42">And if this get endpoint is called, we wanna check if rec dot user exists.</span> <span class="transcript-sentence" id="sent_107_3" data-start-time="5153.58" data-end-time="5155.58">So what we can do is use an if statement.</span> <span class="transcript-sentence" id="sent_107_4" data-start-time="5156.075" data-end-time="5165.675">If rec dot user If it exists, then we'll wanna send this rec dot user back to our front end.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_108" data-paragraph-idx="108" data-start-time="5165.755" data-end-time="5203.7695">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="5165.755"></div>
                        <div class="timeline-timestamp">01:26:05</div>
                    </div>
                    <div class="paragraph-text" id="text-para_108"><span class="transcript-sentence" id="sent_108_0" data-start-time="5165.755" data-end-time="5169.275">So we wanna do res dot send rec dot user.</span> <span class="transcript-sentence" id="sent_108_1" data-start-time="5170.5903" data-end-time="5173.4697">This will send the user at in the response.</span> <span class="transcript-sentence" id="sent_108_2" data-start-time="5174.43" data-end-time="5179.87">Otherwise, we'll have else, and we wanna send empty brackets.</span> <span class="transcript-sentence" id="sent_108_3" data-start-time="5181.23" data-end-time="5188.085">So this is a get endpoint at whoami, which will send rec dot user if it exists, and otherwise, it'll send nothing.</span> <span class="transcript-sentence" id="sent_108_4" data-start-time="5190.5654" data-end-time="5203.7695">So copy that down in api.js, and once you have this API endpoint, we wanna call this route in nav bar, so that every time nav bar loads, it's gonna ask the back end, oh, are we still logged in?</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_109" data-paragraph-idx="109" data-start-time="5203.8496" data-end-time="5243.9297">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="5203.8496"></div>
                        <div class="timeline-timestamp">01:26:43</div>
                    </div>
                    <div class="paragraph-text" id="text-para_109"><span class="transcript-sentence" id="sent_109_0" data-start-time="5203.8496" data-end-time="5213.8496">And if so, it's gonna fill in the user ID state that we defined in navbar, fill it in so that every time you reload, your authentication should be persisted.</span> <span class="transcript-sentence" id="sent_109_1" data-start-time="5214.755" data-end-time="5218.9946">Let's go to navbar.jsx, and let's make a get request.</span> <span class="transcript-sentence" id="sent_109_2" data-start-time="5220.195" data-end-time="5226.195">So in the top of the navbar component, we'll call who am I inside a use effect.</span> <span class="transcript-sentence" id="sent_109_3" data-start-time="5227.0747" data-end-time="5229.795">So let's do use effect.</span> <span class="transcript-sentence" id="sent_109_4" data-start-time="5235.05" data-end-time="5243.9297">And we want the dependency array to be empty because we want this to be called every time that your nav bar page loads.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_110" data-paragraph-idx="110" data-start-time="5245.6953" data-end-time="5273.44">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="5245.6953"></div>
                        <div class="timeline-timestamp">01:27:25</div>
                    </div>
                    <div class="paragraph-text" id="text-para_110"><span class="transcript-sentence" id="sent_110_0" data-start-time="5245.6953" data-end-time="5248.255">So here's the skeleton for these effect.</span> <span class="transcript-sentence" id="sent_110_1" data-start-time="5248.335" data-end-time="5251.295">Inside the use effect, let's make our get request.</span> <span class="transcript-sentence" id="sent_110_2" data-start-time="5251.935" data-end-time="5261.215">So we'll make a get request to slash api slash who am I, and this is a promise that's gonna return with the user object from the back end.</span> <span class="transcript-sentence" id="sent_110_3" data-start-time="5261.215" data-end-time="5262.9595">So we'll wanna do that then.</span> <span class="transcript-sentence" id="sent_110_4" data-start-time="5264.1597" data-end-time="5273.44">We'll take the user and just to be robust, we'll check again if user ID exists.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_111" data-paragraph-idx="111" data-start-time="5274.775" data-end-time="5327.0703">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="5274.775"></div>
                        <div class="timeline-timestamp">01:27:54</div>
                    </div>
                    <div class="paragraph-text" id="text-para_111"><span class="transcript-sentence" id="sent_111_0" data-start-time="5274.775" data-end-time="5282.455">Or sorry, we'll check if user ID exists, and if so, we'll set our user ID state to user dot slash ID.</span> <span class="transcript-sentence" id="sent_111_1" data-start-time="5322.1904" data-end-time="5323.55">Isn't it right here?</span> <span class="transcript-sentence" id="sent_111_2" data-start-time="5323.71" data-end-time="5325.47">Oh, okay.</span> <span class="transcript-sentence" id="sent_111_3" data-start-time="5326.5103" data-end-time="5326.83">Wait.</span> <span class="transcript-sentence" id="sent_111_4" data-start-time="5326.83" data-end-time="5327.0703">What?</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_112" data-paragraph-idx="112" data-start-time="5334.475" data-end-time="5380.7197">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="5334.475"></div>
                        <div class="timeline-timestamp">01:28:54</div>
                    </div>
                    <div class="paragraph-text" id="text-para_112"><span class="transcript-sentence" id="sent_112_0" data-start-time="5334.475" data-end-time="5335.1147">Okay.</span> <span class="transcript-sentence" id="sent_112_1" data-start-time="5336.075" data-end-time="5351.1997">So just to reiterate, now we're using the use effect hook to call the get endpoint at who am I to get the user ID if it's still in the session, and this should set our user ID state to user dot slash ID.</span> <span class="transcript-sentence" id="sent_112_2" data-start-time="5352.4" data-end-time="5367.495">So that's the second step, and what we wanna do now is that if the user is logged out, we'll wanna hide the profile button because there will not be a user using the application, so we don't want a profile button.</span> <span class="transcript-sentence" id="sent_112_3" data-start-time="5367.975" data-end-time="5374.6396">So let's go down to where profile is being rendered, and we'll wanna do conditional rendering again.</span> <span class="transcript-sentence" id="sent_112_4" data-start-time="5375.1997" data-end-time="5380.7197">And we can wrap this all in brackets, and we'll check if user id is null.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_113" data-paragraph-idx="113" data-start-time="5380.88" data-end-time="5426.915">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="5380.88"></div>
                        <div class="timeline-timestamp">01:29:40</div>
                    </div>
                    <div class="paragraph-text" id="text-para_113"><span class="transcript-sentence" id="sent_113_0" data-start-time="5380.88" data-end-time="5389.3447">So we can do this by saying if both user id sorry, if user id is true, we'll render this profile link.</span> <span class="transcript-sentence" id="sent_113_1" data-start-time="5391.825" data-end-time="5393.585">So you can write that here.</span> <span class="transcript-sentence" id="sent_113_2" data-start-time="5394.865" data-end-time="5397.345">You wanna put this in parentheses.</span> <span class="transcript-sentence" id="sent_113_3" data-start-time="5404.37" data-end-time="5406.5303">So I'll post the solution on the slides.</span> <span class="transcript-sentence" id="sent_113_4" data-start-time="5426.1147" data-end-time="5426.915">You see that?</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_114" data-paragraph-idx="114" data-start-time="5432.47" data-end-time="5493.95">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="5432.47"></div>
                        <div class="timeline-timestamp">01:30:32</div>
                    </div>
                    <div class="paragraph-text" id="text-para_114"><span class="transcript-sentence" id="sent_114_0" data-start-time="5432.47" data-end-time="5433.19">Think it's here.</span> <span class="transcript-sentence" id="sent_114_1" data-start-time="5454.845" data-end-time="5455.245">Okay.</span> <span class="transcript-sentence" id="sent_114_2" data-start-time="5458.05" data-end-time="5475.125">And if it's not working, you wanna make sure import use effect in the top line.</span> <span class="transcript-sentence" id="sent_114_3" data-start-time="5481.4453" data-end-time="5482.165">Okay.</span> <span class="transcript-sentence" id="sent_114_4" data-start-time="5482.4053" data-end-time="5493.95">So after all those changes are made, what should happen now is if you sign in and if you refresh.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_115" data-paragraph-idx="115" data-start-time="5508.645" data-end-time="5543.13">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="5508.645"></div>
                        <div class="timeline-timestamp">01:31:48</div>
                    </div>
                    <div class="paragraph-text" id="text-para_115"><span class="transcript-sentence" id="sent_115_0" data-start-time="5508.645" data-end-time="5511.5254">Let me reiterate all the changes we just made to nav bar.</span> <span class="transcript-sentence" id="sent_115_1" data-start-time="5512.0703" data-end-time="5517.75">So first, we imported use effect on the first line so that we can call this hook when we're making our get request.</span> <span class="transcript-sentence" id="sent_115_2" data-start-time="5518.5503" data-end-time="5529.3447">Upon loading, we'll use this use effect to call the get request, and if the user ID exists, we're gonna set user ID to the user dot slash ID, which we get from our back end.</span> <span class="transcript-sentence" id="sent_115_3" data-start-time="5530.8647" data-end-time="5536.385">And then, we'll conditionally render the profile button to only show if user ID is not null.</span> <span class="transcript-sentence" id="sent_115_4" data-start-time="5537.13" data-end-time="5543.13">So after all those changes are made and you're logged in, you should be able to refresh and it'll persist your authentication.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_116" data-paragraph-idx="116" data-start-time="5545.05" data-end-time="5572.85">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="5545.05"></div>
                        <div class="timeline-timestamp">01:32:25</div>
                    </div>
                    <div class="paragraph-text" id="text-para_116"><span class="transcript-sentence" id="sent_116_0" data-start-time="5545.05" data-end-time="5550.57">If you miss any of the steps, feel free to git reset dash dash hard and check out to w five step eight.</span> <span class="transcript-sentence" id="sent_116_1" data-start-time="5551.415" data-end-time="5557.015">So we'll do that, git reset dash dash hard, git checkout, workshop five step eight.</span> <span class="transcript-sentence" id="sent_116_2" data-start-time="5563.6504" data-end-time="5564.0503">Okay.</span> <span class="transcript-sentence" id="sent_116_3" data-start-time="5564.0503" data-end-time="5566.13">So now what happens upon refresh?</span> <span class="transcript-sentence" id="sent_116_4" data-start-time="5566.37" data-end-time="5572.85">Every time that we reload navbar dot j s x, the use effect will call the API endpoint.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_117" data-paragraph-idx="117" data-start-time="5573.81" data-end-time="5603.19">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="5573.81"></div>
                        <div class="timeline-timestamp">01:32:53</div>
                    </div>
                    <div class="paragraph-text" id="text-para_117"><span class="transcript-sentence" id="sent_117_0" data-start-time="5573.81" data-end-time="5574.93">So who am I?</span> <span class="transcript-sentence" id="sent_117_1" data-start-time="5574.93" data-end-time="5582.605">Who am I will check if the user still exists in the session, and it'll send the user object if it does, empty brackets if it doesn't.</span> <span class="transcript-sentence" id="sent_117_2" data-start-time="5583.965" data-end-time="5585.885">We have one last problem.</span> <span class="transcript-sentence" id="sent_117_3" data-start-time="5587.165" data-end-time="5596.87">If we go back to cat book, and if we're signed out, you you'll notice that we're able to make new stories and new comments even if we're not logged in.</span> <span class="transcript-sentence" id="sent_117_4" data-start-time="5596.87" data-end-time="5603.19">And this is bad because when we're making these stories and comments, we have a field called user dot name.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_118" data-paragraph-idx="118" data-start-time="5603.19" data-end-time="5644.825">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="5603.19"></div>
                        <div class="timeline-timestamp">01:33:23</div>
                    </div>
                    <div class="paragraph-text" id="text-para_118"><span class="transcript-sentence" id="sent_118_0" data-start-time="5603.19" data-end-time="5611.2344">But because there's no user logged in, it'll be null and you'll have a you'll have a failure in making these post requests.</span> <span class="transcript-sentence" id="sent_118_1" data-start-time="5612.5146" data-end-time="5620.275">So what we wanna do is, if we're not logged in, we'll wanna hide the input fields for both the new story and new comment.</span> <span class="transcript-sentence" id="sent_118_2" data-start-time="5623.29" data-end-time="5626.4897">Let's hide the input fields if the user is not logged in.</span> <span class="transcript-sentence" id="sent_118_3" data-start-time="5628.17" data-end-time="5631.4497">So let's revisit the React hierarchy of feed.</span> <span class="transcript-sentence" id="sent_118_4" data-start-time="5634.985" data-end-time="5644.825">So here's what how the React components are nested within each other, and what we wanna do is we wanna hide the new story and new common components if we're not logged in.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_119" data-paragraph-idx="119" data-start-time="5645.94" data-end-time="5709.6997">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="5645.94"></div>
                        <div class="timeline-timestamp">01:34:05</div>
                    </div>
                    <div class="paragraph-text" id="text-para_119"><span class="transcript-sentence" id="sent_119_0" data-start-time="5645.94" data-end-time="5663.145">And remember that the new story and new common components are called in the parent component, so both feed and comments block will need to know whether we're logged in or not, so that they can conditionally render their child component depending on that state.</span> <span class="transcript-sentence" id="sent_119_1" data-start-time="5664.4253" data-end-time="5671.625">So one solution is to call the who am I get endpoint in both feed and comments block to check whether we're logged in or not.</span> <span class="transcript-sentence" id="sent_119_2" data-start-time="5672.79" data-end-time="5680.8696">That's bad, because remember that these who am I get endpoints will be called at each time we render the app.</span> <span class="transcript-sentence" id="sent_119_3" data-start-time="5680.87" data-end-time="5693.485">So every time we reload the app, we're gonna get not just two, but three get requests made, and that is really unnecessary, and it calls api slash whoami way too many times.</span> <span class="transcript-sentence" id="sent_119_4" data-start-time="5694.3647" data-end-time="5709.6997">So one solution we can do is we can call this whoami endpoint once at the rendering of app, which encapsulates everything, and we can take the user ID returned by whoami and pass it all the way down to all these components using props.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_120" data-paragraph-idx="120" data-start-time="5711.6997" data-end-time="5748.175">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="5711.6997"></div>
                        <div class="timeline-timestamp">01:35:11</div>
                    </div>
                    <div class="paragraph-text" id="text-para_120"><span class="transcript-sentence" id="sent_120_0" data-start-time="5711.6997" data-end-time="5723.475">This is a better solution than what we just offered with making three calls to whoami, because this only calls whoami once, and it'll pass everything down as props.</span> <span class="transcript-sentence" id="sent_120_1" data-start-time="5724.915" data-end-time="5732.95">But this is bad because we're prop drilling, and that means that we're passing props unnecessarily through many components to get to a child component.</span> <span class="transcript-sentence" id="sent_120_2" data-start-time="5733.1104" data-end-time="5738.95">And as mentioned in Daniel's lecture, this can get really complicated and we don't want that.</span> <span class="transcript-sentence" id="sent_120_3" data-start-time="5739.6704" data-end-time="5744.31">So what's another way to maintain just one API call in app dot jsx?</span> <span class="transcript-sentence" id="sent_120_4" data-start-time="5744.815" data-end-time="5748.175">Think back to what we covered in the lecture this morning, yeah.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_121" data-paragraph-idx="121" data-start-time="5749.0547" data-end-time="5781.665">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="5749.0547"></div>
                        <div class="timeline-timestamp">01:35:49</div>
                    </div>
                    <div class="paragraph-text" id="text-para_121"><span class="transcript-sentence" id="sent_121_0" data-start-time="5749.0547" data-end-time="5750.655">Yeah, exactly.</span> <span class="transcript-sentence" id="sent_121_1" data-start-time="5752.0146" data-end-time="5758.815">So what we can do is we can wrap everything in context, and what we'll do is we'll make a get request in the app.</span> <span class="transcript-sentence" id="sent_121_2" data-start-time="5759.45" data-end-time="5764.9697">This will give us a user ID, and this user ID will live in a context that wraps everything.</span> <span class="transcript-sentence" id="sent_121_3" data-start-time="5766.65" data-end-time="5773.85">And because all of these child components are wrapped in the context, they'll also be able to access user ID.</span> <span class="transcript-sentence" id="sent_121_4" data-start-time="5776.625" data-end-time="5781.665">Remember that state changes in your context re renders the components consuming the context.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_122" data-paragraph-idx="122" data-start-time="5781.745" data-end-time="5806.545">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="5781.745"></div>
                        <div class="timeline-timestamp">01:36:21</div>
                    </div>
                    <div class="paragraph-text" id="text-para_122"><span class="transcript-sentence" id="sent_122_0" data-start-time="5781.745" data-end-time="5787.425">So this means we have we're storing one object in our context, and that's user ID.</span> <span class="transcript-sentence" id="sent_122_1" data-start-time="5787.505" data-end-time="5791.9097">If user ID was to change at all, everything would get re rendered.</span> <span class="transcript-sentence" id="sent_122_2" data-start-time="5793.27" data-end-time="5795.9897">So is this a good scenario to use context?</span> <span class="transcript-sentence" id="sent_122_3" data-start-time="5796.07" data-end-time="5798.7896">Thumbs up if yes and thumbs down if no.</span> <span class="transcript-sentence" id="sent_122_4" data-start-time="5801.03" data-end-time="5806.545">Yeah, I'm seeing some thumbs up and yeah, does someone wanna tell me why?</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_123" data-paragraph-idx="123" data-start-time="5806.865" data-end-time="5848.155">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="5806.865"></div>
                        <div class="timeline-timestamp">01:36:46</div>
                    </div>
                    <div class="paragraph-text" id="text-para_123"><span class="transcript-sentence" id="sent_123_0" data-start-time="5806.865" data-end-time="5807.105">Yeah.</span> <span class="transcript-sentence" id="sent_123_1" data-start-time="5820.24" data-end-time="5821.2803">Yeah, exactly.</span> <span class="transcript-sentence" id="sent_123_2" data-start-time="5821.2803" data-end-time="5830.0">So we're only changing user ID if we log in and log out, which you don't expect to happen that many times over the course of the user using the application.</span> <span class="transcript-sentence" id="sent_123_3" data-start-time="5830.16" data-end-time="5839.275">There might be like other scenarios where you have an variable in your context that might change a lot throughout the course of the app existing and that's bad.</span> <span class="transcript-sentence" id="sent_123_4" data-start-time="5839.435" data-end-time="5848.155">But yeah, this would be a good use case of context because user ID will only change upon login and log out.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_124" data-paragraph-idx="124" data-start-time="5851.35" data-end-time="5884.6797">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="5851.35"></div>
                        <div class="timeline-timestamp">01:37:31</div>
                    </div>
                    <div class="paragraph-text" id="text-para_124"><span class="transcript-sentence" id="sent_124_0" data-start-time="5851.35" data-end-time="5855.9897">So we don't have repeated unnecessary rerendering, so this is a great use case for context.</span> <span class="transcript-sentence" id="sent_124_1" data-start-time="5855.9897" data-end-time="5857.4297">So let's do just that.</span> <span class="transcript-sentence" id="sent_124_2" data-start-time="5858.07" data-end-time="5866.195">First, let's if you're not on step eight already, make sure to reset dash dash hard and check out the w w five step eight.</span> <span class="transcript-sentence" id="sent_124_3" data-start-time="5873.395" data-end-time="5877.875">We have a new file called context, which now lives in the components folder.</span> <span class="transcript-sentence" id="sent_124_4" data-start-time="5880.28" data-end-time="5884.6797">Sorry, in the context folder, in components, this is called user context.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_125" data-paragraph-idx="125" data-start-time="5885.08" data-end-time="5916.17">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="5885.08"></div>
                        <div class="timeline-timestamp">01:38:05</div>
                    </div>
                    <div class="paragraph-text" id="text-para_125"><span class="transcript-sentence" id="sent_125_0" data-start-time="5885.08" data-end-time="5888.28">So let's go through the process of creating a context.</span> <span class="transcript-sentence" id="sent_125_1" data-start-time="5888.6797" data-end-time="5896.795">We want this context to live in a file outside of all of our components, and we wanna import the create context from react.</span> <span class="transcript-sentence" id="sent_125_2" data-start-time="5899.675" data-end-time="5903.1147">And we wanna export a user context element.</span> <span class="transcript-sentence" id="sent_125_3" data-start-time="5904.81" data-end-time="5911.69">Export const user context, and we wanna use create context and initialize our user context.</span> <span class="transcript-sentence" id="sent_125_4" data-start-time="5911.77" data-end-time="5916.17">And we'll initialize it to null because we don't know what our user value is gonna be at.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_126" data-paragraph-idx="126" data-start-time="5917.225" data-end-time="5963.9595">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="5917.225"></div>
                        <div class="timeline-timestamp">01:38:37</div>
                    </div>
                    <div class="paragraph-text" id="text-para_126"><span class="transcript-sentence" id="sent_126_0" data-start-time="5917.225" data-end-time="5924.745">So this should be in user context dot j s x, and all we've done is added these two lines to define a user context element.</span> <span class="transcript-sentence" id="sent_126_1" data-start-time="5928.0254" data-end-time="5939.4595">So remember that we said we would make one API call now in app.jsx, and we'll store this user ID information in app and pass it into the user context in app.</span> <span class="transcript-sentence" id="sent_126_2" data-start-time="5939.86" data-end-time="5956.015">But because handle login and handle logout will modify user ID, and user ID is now handled in app, we'll wanna move not only the who am I call up from nav bar to app, we'll also wanna move handle login and handle log out up to app.jsx.</span> <span class="transcript-sentence" id="sent_126_3" data-start-time="5957.375" data-end-time="5959.535">So let's go through how we can do that together.</span> <span class="transcript-sentence" id="sent_126_4" data-start-time="5961.0796" data-end-time="5963.9595">So first, let's go to navbar dot jsx.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_127" data-paragraph-idx="127" data-start-time="5966.28" data-end-time="6011.505">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="5966.28"></div>
                        <div class="timeline-timestamp">01:39:26</div>
                    </div>
                    <div class="paragraph-text" id="text-para_127"><span class="transcript-sentence" id="sent_127_0" data-start-time="5966.28" data-end-time="5973.0796">Here we have the get request of who am I, a handle login function and a handle log out function.</span> <span class="transcript-sentence" id="sent_127_1" data-start-time="5973.1597" data-end-time="5975.48">So let's copy paste all three of these.</span> <span class="transcript-sentence" id="sent_127_2" data-start-time="5978.355" data-end-time="5984.9146">Oh, copy paste everything including the user ID definition because we'll wanna move these up to app dot j s x.</span> <span class="transcript-sentence" id="sent_127_3" data-start-time="5984.9946" data-end-time="5998.11">So everything between these slash dividers, copy it, and let's go to app dot j s x, and let's paste it above the return.</span> <span class="transcript-sentence" id="sent_127_4" data-start-time="6001.79" data-end-time="6011.505">Now, we've moved the user ID state, the get request to who am I, handle login function, and handle logout function all to app dot j s x.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_128" data-paragraph-idx="128" data-start-time="6012.305" data-end-time="6059.73">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="6012.305"></div>
                        <div class="timeline-timestamp">01:40:12</div>
                    </div>
                    <div class="paragraph-text" id="text-para_128"><span class="transcript-sentence" id="sent_128_0" data-start-time="6012.305" data-end-time="6018.225">But remember that nav bar dot j s x directly calls handle login and handle logout if we click the buttons.</span> <span class="transcript-sentence" id="sent_128_1" data-start-time="6018.3853" data-end-time="6022.86">So I wanna pass handle login and handle logout down as props.</span> <span class="transcript-sentence" id="sent_128_2" data-start-time="6024.54" data-end-time="6028.6997">So what we can do is let's go to where nav bar is defined.</span> <span class="transcript-sentence" id="sent_128_3" data-start-time="6029.02" data-end-time="6038.725">Let's pass in handle login as a prop, And this passes the whole function down, and we'll also wanna pass handle logout as a prop.</span> <span class="transcript-sentence" id="sent_128_4" data-start-time="6049.8896" data-end-time="6059.73">So just to reiterate, we passed we moved the who am I handle login, handle logout, and user ID up to app, and now we've passed handle login and handle logout down to nav bar.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_129" data-paragraph-idx="129" data-start-time="6060.1553" data-end-time="6096.105">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="6060.1553"></div>
                        <div class="timeline-timestamp">01:41:00</div>
                    </div>
                    <div class="paragraph-text" id="text-para_129"><span class="transcript-sentence" id="sent_129_0" data-start-time="6060.1553" data-end-time="6068.475">But what we need to do in nav bar is, now we wanna reference handle login as a prop, because it no longer is defined in nav bar.</span> <span class="transcript-sentence" id="sent_129_1" data-start-time="6068.7954" data-end-time="6076.48">So here, where we have the log out button, on click, we should call props.</span> <span class="transcript-sentence" id="sent_129_2" data-start-time="6076.48" data-end-time="6077.6">Handle log out.</span> <span class="transcript-sentence" id="sent_129_3" data-start-time="6078.4004" data-end-time="6087.92">Similarly for the Google login component, on success should call props.handle log in, remember because handle log in and handle log out are no longer defined in nav bar.</span> <span class="transcript-sentence" id="sent_129_4" data-start-time="6088.665" data-end-time="6096.105">What I just changed was modifying these as fields of the prop sorry, parameters of the prop.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_130" data-paragraph-idx="130" data-start-time="6101.145" data-end-time="6134.32">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="6101.145"></div>
                        <div class="timeline-timestamp">01:41:41</div>
                    </div>
                    <div class="paragraph-text" id="text-para_130"><span class="transcript-sentence" id="sent_130_0" data-start-time="6101.145" data-end-time="6102.9053">Here's the code if you missed that.</span> <span class="transcript-sentence" id="sent_130_1" data-start-time="6108.97" data-end-time="6109.69">Okay.</span> <span class="transcript-sentence" id="sent_130_2" data-start-time="6111.77" data-end-time="6121.2646">So now that we have our user ID now defined in app, we wanna wrap all the components inside our app inside a context provider.</span> <span class="transcript-sentence" id="sent_130_3" data-start-time="6121.425" data-end-time="6126.0645">And this context provider will have one value, and that value will be our user ID.</span> <span class="transcript-sentence" id="sent_130_4" data-start-time="6126.385" data-end-time="6134.32">We're wrapping everything inside our app inside the context provider because we want anything inside our app to be able to access this value, which is the user ID.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_131" data-paragraph-idx="131" data-start-time="6134.88" data-end-time="6178.3047">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="6134.88"></div>
                        <div class="timeline-timestamp">01:42:14</div>
                    </div>
                    <div class="paragraph-text" id="text-para_131"><span class="transcript-sentence" id="sent_131_0" data-start-time="6134.88" data-end-time="6139.1196">So let's go to the return statement of app dot j s x.</span> <span class="transcript-sentence" id="sent_131_1" data-start-time="6143.0396" data-end-time="6147.775">So we wanna wrap these four lines in the context provider.</span> <span class="transcript-sentence" id="sent_131_2" data-start-time="6147.935" data-end-time="6157.5347">So above nav bar, let's go ahead and take user context dot provider and set its value to user ID.</span> <span class="transcript-sentence" id="sent_131_3" data-start-time="6160.11" data-end-time="6167.55">And we wanna take the closing tag and place it under those four lines.</span> <span class="transcript-sentence" id="sent_131_4" data-start-time="6168.67" data-end-time="6178.3047">So now we've wrapped the nav bar and the outlet inside the context provider, and it'll pass in the value of user ID, which is set in the rendering of app.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_132" data-paragraph-idx="132" data-start-time="6186.87" data-end-time="6218.9497">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="6186.87"></div>
                        <div class="timeline-timestamp">01:43:06</div>
                    </div>
                    <div class="paragraph-text" id="text-para_132"><span class="transcript-sentence" id="sent_132_0" data-start-time="6186.87" data-end-time="6187.51">Oh.</span> <span class="transcript-sentence" id="sent_132_1" data-start-time="6188.23" data-end-time="6197.91">And remember that we defined user context in a different file, so what we wanna do is import that and you can do that by uncommenting up here.</span> <span class="transcript-sentence" id="sent_132_2" data-start-time="6198.585" data-end-time="6204.7446">You wanna uncomment that line so we have we're able to access this user context in the other file.</span> <span class="transcript-sentence" id="sent_132_3" data-start-time="6207.225" data-end-time="6209.145">And do the same thing in nav bar.</span> <span class="transcript-sentence" id="sent_132_4" data-start-time="6211.35" data-end-time="6218.9497">So once we've wrapped everything in the provider, we still have to access the user ID in nav bar in some way.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_133" data-paragraph-idx="133" data-start-time="6219.4297" data-end-time="6259.255">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="6219.4297"></div>
                        <div class="timeline-timestamp">01:43:39</div>
                    </div>
                    <div class="paragraph-text" id="text-para_133"><span class="transcript-sentence" id="sent_133_0" data-start-time="6219.4297" data-end-time="6227.935">And just now in nav bar, we uncommented the import of user context, and we can consume user ID from the context.</span> <span class="transcript-sentence" id="sent_133_1" data-start-time="6228.895" data-end-time="6230.735">So let's go through how we can do that.</span> <span class="transcript-sentence" id="sent_133_2" data-start-time="6232.095" data-end-time="6240.58">We can use this simple line, we'll set a variable const user ID, we'll use context and pass in user context.</span> <span class="transcript-sentence" id="sent_133_3" data-start-time="6240.82" data-end-time="6249.46">And right now, user context has a singular value, so it'll take the singular value of user context and put it in our user ID variables that lives in nav bar.</span> <span class="transcript-sentence" id="sent_133_4" data-start-time="6253.335" data-end-time="6259.255">We'll also want to import use context on the first line of navbar dot jsx.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_134" data-paragraph-idx="134" data-start-time="6264.02" data-end-time="6280.675">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="6264.02"></div>
                        <div class="timeline-timestamp">01:44:24</div>
                    </div>
                    <div class="paragraph-text" id="text-para_134"><span class="transcript-sentence" id="sent_134_0" data-start-time="6264.02" data-end-time="6265.06">Oh no, sorry.</span> <span class="transcript-sentence" id="sent_134_1" data-start-time="6265.06" data-end-time="6267.78">We wanna import that in React Router DOM.</span> <span class="transcript-sentence" id="sent_134_2" data-start-time="6270.02" data-end-time="6270.82">I think.</span> <span class="transcript-sentence" id="sent_134_3" data-start-time="6274.98" data-end-time="6275.6997">Let me check.</span> <span class="transcript-sentence" id="sent_134_4" data-start-time="6278.755" data-end-time="6280.675">I guess we'll see if it works or not.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_135" data-paragraph-idx="135" data-start-time="6280.835" data-end-time="6298.11">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="6280.835"></div>
                        <div class="timeline-timestamp">01:44:40</div>
                    </div>
                    <div class="paragraph-text" id="text-para_135"><span class="transcript-sentence" id="sent_135_0" data-start-time="6280.835" data-end-time="6281.155">Okay.</span> <span class="transcript-sentence" id="sent_135_1" data-start-time="6289.31" data-end-time="6290.19">Sorry.</span> <span class="transcript-sentence" id="sent_135_2" data-start-time="6290.27" data-end-time="6291.15">Oh, okay.</span> <span class="transcript-sentence" id="sent_135_3" data-start-time="6293.55" data-end-time="6296.3496">So now far you want to import use context.</span> <span class="transcript-sentence" id="sent_135_4" data-start-time="6296.99" data-end-time="6298.11">Also, I think.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_136" data-paragraph-idx="136" data-start-time="6298.91" data-end-time="6320.15">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="6298.91"></div>
                        <div class="timeline-timestamp">01:44:58</div>
                    </div>
                    <div class="paragraph-text" id="text-para_136"><span class="transcript-sentence" id="sent_136_0" data-start-time="6298.91" data-end-time="6299.55">This is wrong.</span> <span class="transcript-sentence" id="sent_136_1" data-start-time="6311.1846" data-end-time="6311.905">Oh.</span> <span class="transcript-sentence" id="sent_136_2" data-start-time="6313.425" data-end-time="6313.8247">Okay.</span> <span class="transcript-sentence" id="sent_136_3" data-start-time="6313.8247" data-end-time="6317.1846">In app dot j s x, I also imported user context wrong.</span> <span class="transcript-sentence" id="sent_136_4" data-start-time="6317.1846" data-end-time="6320.15">It should be slash components slash context.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_137" data-paragraph-idx="137" data-start-time="6322.71" data-end-time="6379.8096">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="6322.71"></div>
                        <div class="timeline-timestamp">01:45:22</div>
                    </div>
                    <div class="paragraph-text" id="text-para_137"><span class="transcript-sentence" id="sent_137_0" data-start-time="6322.71" data-end-time="6335.415">Or And we'll also wanna import get, so copy the get and post import line from nav bar and paste it into app dot j s x.</span> <span class="transcript-sentence" id="sent_137_1" data-start-time="6348.9" data-end-time="6349.94">Okay.</span> <span class="transcript-sentence" id="sent_137_2" data-start-time="6352.42" data-end-time="6352.82">Alright.</span> <span class="transcript-sentence" id="sent_137_3" data-start-time="6352.82" data-end-time="6365.715">Just to reiterate, we imported get and so this is app dot j s x, and we're now making the get request in app, so we need to import get into app, and this is done via line three.</span> <span class="transcript-sentence" id="sent_137_4" data-start-time="6368.515" data-end-time="6379.8096">And we are also using the user context object, which we define in user context dot x, so we have to import that into apps as in line five.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_138" data-paragraph-idx="138" data-start-time="6380.3696" data-end-time="6418.08">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="6380.3696"></div>
                        <div class="timeline-timestamp">01:46:20</div>
                    </div>
                    <div class="paragraph-text" id="text-para_138"><span class="transcript-sentence" id="sent_138_0" data-start-time="6380.3696" data-end-time="6384.05">So we have two new import statements.</span> <span class="transcript-sentence" id="sent_138_1" data-start-time="6385.4897" data-end-time="6392.535">After we import those, remember that we copy paste the user ID, the get request, handle login, and handle log out from nav bar.</span> <span class="transcript-sentence" id="sent_138_2" data-start-time="6393.335" data-end-time="6397.5747">And we're passing the handle login and handle log out functions down to nav bar.</span> <span class="transcript-sentence" id="sent_138_3" data-start-time="6397.895" data-end-time="6414.7197">And what we've changed in nav bar is instead of getting user ID via the who am I endpoint, we're just taking it from our context by importing user context from the user context file we defined earlier, and then we're setting that to the value inside the user context.</span> <span class="transcript-sentence" id="sent_138_4" data-start-time="6415.6" data-end-time="6418.08">So hopefully everything still works.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_139" data-paragraph-idx="139" data-start-time="6419.225" data-end-time="6450.135">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="6419.225"></div>
                        <div class="timeline-timestamp">01:46:59</div>
                    </div>
                    <div class="paragraph-text" id="text-para_139"><span class="transcript-sentence" id="sent_139_0" data-start-time="6419.225" data-end-time="6420.985">Hopefully, you can log in.</span> <span class="transcript-sentence" id="sent_139_1" data-start-time="6422.745" data-end-time="6424.7446">And everything should still persist.</span> <span class="transcript-sentence" id="sent_139_2" data-start-time="6426.185" data-end-time="6437.7803">And remember, our motivation for using context is so that we can hide the input fields for story and comments by looking at the value of user ID.</span> <span class="transcript-sentence" id="sent_139_3" data-start-time="6438.5" data-end-time="6444.4204">And instead of making the who am I get request everywhere, we're gonna store that information in the context.</span> <span class="transcript-sentence" id="sent_139_4" data-start-time="6445.175" data-end-time="6450.135">So we'll also need to access the context from some other components.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_140" data-paragraph-idx="140" data-start-time="6450.135" data-end-time="6484.1147">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="6450.135"></div>
                        <div class="timeline-timestamp">01:47:30</div>
                    </div>
                    <div class="paragraph-text" id="text-para_140"><span class="transcript-sentence" id="sent_140_0" data-start-time="6450.135" data-end-time="6452.9346">So we'll go over that in the final step.</span> <span class="transcript-sentence" id="sent_140_1" data-start-time="6454.215" data-end-time="6455.735">Okay, so that was a lot.</span> <span class="transcript-sentence" id="sent_140_2" data-start-time="6455.815" data-end-time="6466.8496">Just to reiterate, we rearranged our code so that we now store user ID in a global context, and that's so that we can now access user ID from any component in app.js x.</span> <span class="transcript-sentence" id="sent_140_3" data-start-time="6469.3296" data-end-time="6476.915">So now feel free to git reset hard dash dash hard, git checkout step nine.</span> <span class="transcript-sentence" id="sent_140_4" data-start-time="6478.035" data-end-time="6484.1147">And our last step will be hiding the input boxes if we're logged out.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_141" data-paragraph-idx="141" data-start-time="6484.6753" data-end-time="6528.965">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="6484.6753"></div>
                        <div class="timeline-timestamp">01:48:04</div>
                    </div>
                    <div class="paragraph-text" id="text-para_141"><span class="transcript-sentence" id="sent_141_0" data-start-time="6484.6753" data-end-time="6493.13">So remember that in nav bar dot j s x, we just went over how we can consume the context and set user id to the value of user context.</span> <span class="transcript-sentence" id="sent_141_1" data-start-time="6493.53" data-end-time="6497.69">So you wanna do something very similar in feed dot jsx in comments block.</span> <span class="transcript-sentence" id="sent_141_2" data-start-time="6498.57" data-end-time="6510.985">So what you'll wanna do is you'll wanna import the user context and you'll just wanna set user ID to the value of that context, and you'll wanna conditionally render new story and new comment if user ID exists.</span> <span class="transcript-sentence" id="sent_141_3" data-start-time="6526.645" data-end-time="6527.2847">Okay.</span> <span class="transcript-sentence" id="sent_141_4" data-start-time="6528.405" data-end-time="6528.965">Okay.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_142" data-paragraph-idx="142" data-start-time="6528.965" data-end-time="6557.8047">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="6528.965"></div>
                        <div class="timeline-timestamp">01:48:48</div>
                    </div>
                    <div class="paragraph-text" id="text-para_142"><span class="transcript-sentence" id="sent_142_0" data-start-time="6528.965" data-end-time="6531.2847">So let's go over how we can do that together.</span> <span class="transcript-sentence" id="sent_142_1" data-start-time="6532.485" data-end-time="6534.645">Let's start by going to feed.</span> <span class="transcript-sentence" id="sent_142_2" data-start-time="6540.26" data-end-time="6545.6997">I we've already imported user context for you, so all we need to do is consume it.</span> <span class="transcript-sentence" id="sent_142_3" data-start-time="6545.78" data-end-time="6551.3">So let's do const user ID and set this equal to use context user context.</span> <span class="transcript-sentence" id="sent_142_4" data-start-time="6553.725" data-end-time="6557.8047">Now you wanna conditionally render new story.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_143" data-paragraph-idx="143" data-start-time="6558.445" data-end-time="6586.3647">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="6558.445"></div>
                        <div class="timeline-timestamp">01:49:18</div>
                    </div>
                    <div class="paragraph-text" id="text-para_143"><span class="transcript-sentence" id="sent_143_0" data-start-time="6558.445" data-end-time="6564.685">So let's put this in brackets, and if user ID exists, we'll render new story as well.</span> <span class="transcript-sentence" id="sent_143_1" data-start-time="6566.64" data-end-time="6574.8">Let's just check and you'll see that if we go back to the input fields, you no longer see the input field for story.</span> <span class="transcript-sentence" id="sent_143_2" data-start-time="6576.64" data-end-time="6578.8447">I'll post the solution up for that.</span> <span class="transcript-sentence" id="sent_143_3" data-start-time="6579.405" data-end-time="6583.3247">And you can do the same thing in oh, what was the other one?</span> <span class="transcript-sentence" id="sent_143_4" data-start-time="6583.965" data-end-time="6586.3647">You can do the same thing in comments block.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_144" data-paragraph-idx="144" data-start-time="6588.605" data-end-time="6619.9297">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="6588.605"></div>
                        <div class="timeline-timestamp">01:49:48</div>
                    </div>
                    <div class="paragraph-text" id="text-para_144"><span class="transcript-sentence" id="sent_144_0" data-start-time="6588.605" data-end-time="6595.55">We already imported user context, you just need to consume the context and place into user ID variable.</span> <span class="transcript-sentence" id="sent_144_1" data-start-time="6599.87" data-end-time="6602.9897">And then we'll wanna conditionally render the new comment component.</span> <span class="transcript-sentence" id="sent_144_2" data-start-time="6606.715" data-end-time="6607.4346">Okay.</span> <span class="transcript-sentence" id="sent_144_3" data-start-time="6607.4346" data-end-time="6612.0747">And now, you should see that the input field should disappear for both comments and stories.</span> <span class="transcript-sentence" id="sent_144_4" data-start-time="6617.21" data-end-time="6619.9297">And that's the end of cat book.</span> </div>
                </div>
                <div class="paragraph-container" data-paragraph-id="para_145" data-paragraph-idx="145" data-start-time="6620.57" data-end-time="6628.41">
                    <div class="timeline-dot-wrapper">
                        <div class="timeline-dot" data-timestamp="6620.57"></div>
                        <div class="timeline-timestamp">01:50:20</div>
                    </div>
                    <div class="paragraph-text" id="text-para_145"><span class="transcript-sentence" id="sent_145_0" data-start-time="6620.57" data-end-time="6621.3696">Yay.</span> <span class="transcript-sentence" id="sent_145_1" data-start-time="6623.69" data-end-time="6625.69">Good job guys, that was a lot.</span> <span class="transcript-sentence" id="sent_145_2" data-start-time="6625.77" data-end-time="6628.41">And now we'll hand it over to Daniel.</span> </div>
                </div>
            </div>
        </div>
        </div>
    </div>

    <script src="./assets/js/lesson_player.js"></script>
</body>
</html>