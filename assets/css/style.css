/* assets/css/style.css */
:root {
    --font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    --text-color: #1d1d1f; 
    --text-color-secondary: #58585b; 
    --link-color: #007aff;
    --bg-color: #f9f9f9; 
    --content-bg: #ffffff; 
    --border-color: #dcdcdc;
    --timeline-dot-color: #c7ced4; 
    --timeline-dot-active-color: var(--link-color);
    --timeline-line-color: #e4e6e8;
    --highlight-paragraph-bg: rgba(0, 122, 255, 0.07); 
    --highlight-sentence-bg: rgba(255, 193, 7, 0.3); /* Vàng nhạt hơn cho câu */
    --video-height: 40vh; 
    --timeline-width: 160px; 
    --settings-bar-height: 48px;
}

* { 
    margin: 0; 
    padding: 0; 
    box-sizing: border-box; 
}

body { 
    font-family: var(--font-sans); 
    background-color: var(--bg-color); 
    color: var(--text-color); 
    line-height: 1.6; 
}

.page-container { 
    display: flex; 
    flex-direction: column; 
    height: 100vh; 
    overflow: hidden; 
}

.video-section { 
    width: 100%; 
    height: var(--video-height); 
    background-color: #000; 
    position: sticky; 
    top: 0; 
    z-index: 1000; 
    box-shadow: 0 2px 5px rgba(0,0,0,.1); 
}

#youtube-player-iframe { 
    width: 100%; 
    height: 100%; 
    border: none; 
}

.settings-bar-container { 
    padding: 0 20px; 
    background-color: var(--content-bg); 
    border-bottom: 1px solid var(--border-color); 
    width: 100%; 
    max-width: 1440px; /* Giới hạn chiều rộng tối đa của page */
    margin: 0 auto; 
    height:var(--settings-bar-height); 
    display:flex; 
    align-items:center;
}

.settings-bar { 
    display: flex; 
    align-items: center; 
    gap: 20px; 
    font-size: .9em; 
}

.settings-bar label { 
    display: flex; 
    align-items: center; 
    cursor: pointer; 
    color: var(--text-color-secondary); 
}

.settings-bar input[type=checkbox] { 
    margin-right: 7px; 
    accent-color: var(--link-color); 
    width:15px; 
    height:15px; 
}

.content-section { 
    display: flex; 
    flex-grow: 1; 
    width: 100%; 
    max-width: 1440px; /* Giới hạn chiều rộng tối đa của page */
    margin: 0 auto; 
    overflow: hidden; 
}

#timeline-container { 
    width: var(--timeline-width); 
    flex-shrink: 0; 
    padding: 20px 0 20px 25px; 
    border-right: 1px solid var(--border-color); 
    position: relative; 
    overflow-y: auto; 
    height: calc(100vh - var(--video-height) - var(--settings-bar-height)); 
}

.timeline-list { 
    list-style: none; 
    padding: 0; 
    margin:0; 
    position: relative; 
}

.timeline-list::before { /* Main vertical line */
    content: ''; 
    position: absolute; 
    left: calc(var(--timeline-width) - 25px - 15px - 1.5px); /* (timeline width - left padding of timeline) - (timestamp width + padding) - (dot width / 2) - (line width / 2) */
    top: 10px; 
    bottom: 10px; 
    width: 3px; 
    background-color: var(--timeline-line-color); 
    border-radius: 3px; 
}

.timeline-item { 
    position: relative; 
    display: flex; 
    align-items: center; 
    padding: 10px 0; 
    cursor: pointer; 
    border-radius: 6px; 
    margin-right:15px; /* Space for scrollbar if needed */
    transition: background-color .15s ease; 
}
.timeline-item:hover { background-color: rgba(0,0,0,.04); }

.timeline-timestamp { 
    font-size: .8em; 
    color: var(--text-color-secondary); 
    width: 65px; 
    text-align: right; 
    padding-right: 15px; 
    font-variant-numeric: tabular-nums; 
}

.timeline-dot-container { 
    width: calc(var(--timeline-width) - 65px - 25px); /* timeline-container padding-left is 25px */
    display:flex; 
    justify-content: flex-start; 
    padding-left: 15px; /* Space from timestamp to where dot should align with the line */
}

.timeline-dot { 
    width: 12px; 
    height: 12px; 
    background-color: var(--content-bg); 
    border-radius: 50%; 
    border: 2.5px solid var(--timeline-dot-color); 
    transition: all .2s ease-in-out; 
    z-index: 1; 
    flex-shrink:0;
}

.timeline-item.active .timeline-dot { 
    border-color: var(--timeline-dot-active-color); 
    background-color: var(--timeline-dot-active-color); 
    transform: scale(1.2); 
}

.timeline-item.active .timeline-timestamp { 
    color: var(--timeline-dot-active-color); 
    font-weight: 500; 
}
        
#transcript-content-container { 
    flex-grow: 1; 
    padding: 25px; 
    overflow-y: auto; 
    height: calc(100vh - var(--video-height) - var(--settings-bar-height)); 
    scroll-behavior: smooth; 
}

.transcript-paragraph-text { 
    margin-bottom: 1.8em; 
    padding: 12px; 
    border-radius: 8px; 
    font-size: 1rem; 
    line-height:1.65; 
}

.transcript-paragraph-text.highlighted-paragraph { 
    background-color: var(--highlight-paragraph-bg); 
}

.transcript-sentence { 
    cursor: pointer; 
    padding: 1px 3px; 
    margin-right: 2px; /* Small space between sentences */
    border-radius: 3px; 
    transition: background-color .15s ease-in-out; 
}
.transcript-sentence:hover { background-color: rgba(0,0,0,.05); }
.transcript-sentence.highlighted-sentence { background-color: var(--highlight-sentence-bg); }
.no-transcript-message { padding: 20px; text-align: center; color: var(--text-color-secondary); }

/* Responsive adjustments */
@media (max-width:900px) { 
    .content-section{flex-direction:column} 
    #timeline-container{width:100%;height:auto;max-height:90px;border-right:none;border-bottom:1px solid var(--border-color);padding:5px 10px;overflow-x:auto;overflow-y:hidden;display:flex} 
    .timeline-list{display:flex;flex-direction:row;align-items:center;width:max-content} 
    .timeline-list::before{display:none} 
    .timeline-list::after{content:'';position:absolute;left:15px;right:15px;top:calc(50% + 10px);height:3px;background-color:var(--timeline-line-color);z-index:0;border-radius:3px} 
    .timeline-item{padding:5px 10px;display:flex;flex-direction:column;align-items:center;min-width:90px;margin-right:0} 
    .timeline-timestamp{width:auto;text-align:center;padding-right:0;margin-bottom:5px;order:-1} 
    .timeline-dot-container{width:auto;padding-left:0;justify-content:center} 
    .timeline-dot{margin-bottom:0} 
    #transcript-content-container,#timeline-container{height:calc((100vh - var(--video-height) - var(--settings-bar-height) - 1px)/2)} 
    #transcript-content-container{border-top:1px solid var(--border-color)} 
}
@media (max-width:600px) { 
    .video-section{height:30vh} 
    #transcript-content-container,#timeline-container{height:calc((100vh - var(--video-height) - var(--settings-bar-height) - 1px)/2);font-size:.9rem} 
    .transcript-paragraph-text{font-size:.95rem} 
}
